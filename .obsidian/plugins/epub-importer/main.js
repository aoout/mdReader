/** GENERATED BY OBSIDIAN-PLUGIN-CLI, DO NOT EDIT */
var vp=Object.create;var vi=Object.defineProperty;var bp=Object.getOwnPropertyDescriptor;var wp=Object.getOwnPropertyNames;var xp=Object.getPrototypeOf,Ep=Object.prototype.hasOwnProperty;var oa=t=>vi(t,"__esModule",{value:!0});var I=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),yr=(t,e)=>{oa(t);for(var i in e)vi(t,i,{get:e[i],enumerable:!0})},Op=(t,e,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of wp(e))!Ep.call(t,n)&&n!=="default"&&vi(t,n,{get:()=>e[n],enumerable:!(i=bp(e,n))||i.enumerable});return t},yt=t=>Op(oa(vi(t!=null?vp(xp(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var la=I((cy,ua)=>{var Oe=1e3,Te=Oe*60,Ne=Te*60,de=Ne*24,Tp=de*7,Np=de*365.25;ua.exports=function(t,e){e=e||{};var i=typeof t;if(i==="string"&&t.length>0)return Sp(t);if(i==="number"&&isFinite(t))return e.long?Dp(t):Cp(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function Sp(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!!e){var i=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return i*Np;case"weeks":case"week":case"w":return i*Tp;case"days":case"day":case"d":return i*de;case"hours":case"hour":case"hrs":case"hr":case"h":return i*Ne;case"minutes":case"minute":case"mins":case"min":case"m":return i*Te;case"seconds":case"second":case"secs":case"sec":case"s":return i*Oe;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}function Cp(t){var e=Math.abs(t);return e>=de?Math.round(t/de)+"d":e>=Ne?Math.round(t/Ne)+"h":e>=Te?Math.round(t/Te)+"m":e>=Oe?Math.round(t/Oe)+"s":t+"ms"}function Dp(t){var e=Math.abs(t);return e>=de?bi(t,e,de,"day"):e>=Ne?bi(t,e,Ne,"hour"):e>=Te?bi(t,e,Te,"minute"):e>=Oe?bi(t,e,Oe,"second"):t+" ms"}function bi(t,e,i,n){var r=e>=i*1.5;return Math.round(t/i)+" "+n+(r?"s":"")}});var fa=I((fy,ca)=>{function Pp(t){i.debug=i,i.default=i,i.coerce=u,i.disable=s,i.enable=r,i.enabled=a,i.humanize=la(),i.destroy=l,Object.keys(t).forEach(c=>{i[c]=t[c]}),i.names=[],i.skips=[],i.formatters={};function e(c){let f=0;for(let h=0;h<c.length;h++)f=(f<<5)-f+c.charCodeAt(h),f|=0;return i.colors[Math.abs(f)%i.colors.length]}i.selectColor=e;function i(c){let f,h=null,_,y;function x(...N){if(!x.enabled)return;let T=x,E=Number(new Date),v=E-(f||E);T.diff=v,T.prev=f,T.curr=E,f=E,N[0]=i.coerce(N[0]),typeof N[0]!="string"&&N.unshift("%O");let p=0;N[0]=N[0].replace(/%([a-zA-Z%])/g,(w,S)=>{if(w==="%%")return"%";p++;let m=i.formatters[S];if(typeof m=="function"){let D=N[p];w=m.call(T,D),N.splice(p,1),p--}return w}),i.formatArgs.call(T,N),(T.log||i.log).apply(T,N)}return x.namespace=c,x.useColors=i.useColors(),x.color=i.selectColor(c),x.extend=n,x.destroy=i.destroy,Object.defineProperty(x,"enabled",{enumerable:!0,configurable:!1,get:()=>h!==null?h:(_!==i.namespaces&&(_=i.namespaces,y=i.enabled(c)),y),set:N=>{h=N}}),typeof i.init=="function"&&i.init(x),x}function n(c,f){let h=i(this.namespace+(typeof f=="undefined"?":":f)+c);return h.log=this.log,h}function r(c){i.save(c),i.namespaces=c,i.names=[],i.skips=[];let f,h=(typeof c=="string"?c:"").split(/[\s,]+/),_=h.length;for(f=0;f<_;f++)!h[f]||(c=h[f].replace(/\*/g,".*?"),c[0]==="-"?i.skips.push(new RegExp("^"+c.slice(1)+"$")):i.names.push(new RegExp("^"+c+"$")))}function s(){let c=[...i.names.map(o),...i.skips.map(o).map(f=>"-"+f)].join(",");return i.enable(""),c}function a(c){if(c[c.length-1]==="*")return!0;let f,h;for(f=0,h=i.skips.length;f<h;f++)if(i.skips[f].test(c))return!1;for(f=0,h=i.names.length;f<h;f++)if(i.names[f].test(c))return!0;return!1}function o(c){return c.toString().substring(2,c.toString().length-2).replace(/\.\*\?$/,"*")}function u(c){return c instanceof Error?c.stack||c.message:c}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return i.enable(i.load()),i}ca.exports=Pp});var ha=I((vt,wi)=>{vt.formatArgs=Ap;vt.save=Ip;vt.load=kp;vt.useColors=Lp;vt.storage=Rp();vt.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();vt.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Lp(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Ap(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+wi.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let i=0,n=0;t[0].replace(/%[a-zA-Z%]/g,r=>{r!=="%%"&&(i++,r==="%c"&&(n=i))}),t.splice(n,0,e)}vt.log=console.debug||console.log||(()=>{});function Ip(t){try{t?vt.storage.setItem("debug",t):vt.storage.removeItem("debug")}catch(e){}}function kp(){let t;try{t=vt.storage.getItem("debug")}catch(e){}return!t&&typeof process!="undefined"&&"env"in process&&(t=process.env.DEBUG),t}function Rp(){try{return localStorage}catch(t){}}wi.exports=fa()(vt);var{formatters:Mp}=wi.exports;Mp.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var _a=I((hy,da)=>{da.exports=pa;function pa(t,e){if(t&&e)return pa(t)(e);if(typeof t!="function")throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(n){i[n]=t[n]}),i;function i(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];var s=t.apply(this,n),a=n[n.length-1];return typeof s=="function"&&s!==a&&Object.keys(a).forEach(function(o){s[o]=a[o]}),s}}});var br=I((py,vr)=>{var ga=_a();vr.exports=ga(xi);vr.exports.strict=ga(ma);xi.proto=xi(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return xi(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return ma(this)},configurable:!0})});function xi(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function ma(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},i=t.name||"Function wrapped with `once`";return e.onceError=i+" shouldn't be called more than once",e.called=!1,e}});var ba=I((dy,va)=>{var Fp=br(),jp=function(){},qp=function(t){return t.setHeader&&typeof t.abort=="function"},Bp=function(t){return t.stdio&&Array.isArray(t.stdio)&&t.stdio.length===3},ya=function(t,e,i){if(typeof e=="function")return ya(t,null,e);e||(e={}),i=Fp(i||jp);var n=t._writableState,r=t._readableState,s=e.readable||e.readable!==!1&&t.readable,a=e.writable||e.writable!==!1&&t.writable,o=!1,u=function(){t.writable||l()},l=function(){a=!1,s||i.call(t)},c=function(){s=!1,a||i.call(t)},f=function(N){i.call(t,N?new Error("exited with error code: "+N):null)},h=function(N){i.call(t,N)},_=function(){process.nextTick(y)},y=function(){if(!o){if(s&&!(r&&r.ended&&!r.destroyed))return i.call(t,new Error("premature close"));if(a&&!(n&&n.ended&&!n.destroyed))return i.call(t,new Error("premature close"))}},x=function(){t.req.on("finish",l)};return qp(t)?(t.on("complete",l),t.on("abort",_),t.req?x():t.on("request",x)):a&&!n&&(t.on("end",u),t.on("close",u)),Bp(t)&&t.on("exit",f),t.on("end",c),t.on("finish",l),e.error!==!1&&t.on("error",h),t.on("close",_),function(){o=!0,t.removeListener("complete",l),t.removeListener("abort",_),t.removeListener("request",x),t.req&&t.req.removeListener("finish",l),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",l),t.removeListener("exit",f),t.removeListener("end",c),t.removeListener("error",h),t.removeListener("close",_)}};va.exports=ya});var Ea=I((_y,xa)=>{var Xp=br(),Up=ba(),wr=require("fs"),qe=function(){},zp=/^v?\.0/.test(process.version),Ei=function(t){return typeof t=="function"},Wp=function(t){return!zp||!wr?!1:(t instanceof(wr.ReadStream||qe)||t instanceof(wr.WriteStream||qe))&&Ei(t.close)},Vp=function(t){return t.setHeader&&Ei(t.abort)},$p=function(t,e,i,n){n=Xp(n);var r=!1;t.on("close",function(){r=!0}),Up(t,{readable:e,writable:i},function(a){if(a)return n(a);r=!0,n()});var s=!1;return function(a){if(!r&&!s){if(s=!0,Wp(t))return t.close(qe);if(Vp(t))return t.abort();if(Ei(t.destroy))return t.destroy();n(a||new Error("stream was destroyed"))}}},wa=function(t){t()},Kp=function(t,e){return t.pipe(e)},Gp=function(){var t=Array.prototype.slice.call(arguments),e=Ei(t[t.length-1]||qe)&&t.pop()||qe;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var i,n=t.map(function(r,s){var a=s<t.length-1,o=s>0;return $p(r,a,o,function(u){i||(i=u),u&&n.forEach(wa),!a&&(n.forEach(wa),e(i))})});return t.reduce(Kp)};xa.exports=Gp});var Ta=I((gy,Oa)=>{"use strict";var{PassThrough:Hp}=require("stream");Oa.exports=t=>{t={...t};let{array:e}=t,{encoding:i}=t,n=i==="buffer",r=!1;e?r=!(i||n):i=i||"utf8",n&&(i=null);let s=new Hp({objectMode:r});i&&s.setEncoding(i);let a=0,o=[];return s.on("data",u=>{o.push(u),r?a=o.length:a+=u.length}),s.getBufferedValue=()=>e?o:n?Buffer.concat(o,a):o.join(""),s.getBufferedLength=()=>a,s}});var Na=I((my,Se)=>{"use strict";var{constants:Yp}=require("buffer"),Qp=Ea(),Jp=Ta(),xr=class extends Error{constructor(){super("maxBuffer exceeded");this.name="MaxBufferError"}};async function Oi(t,e){if(!t)return Promise.reject(new Error("Expected a stream"));e={maxBuffer:1/0,...e};let{maxBuffer:i}=e,n;return await new Promise((r,s)=>{let a=o=>{o&&n.getBufferedLength()<=Yp.MAX_LENGTH&&(o.bufferedData=n.getBufferedValue()),s(o)};n=Qp(t,Jp(e),o=>{if(o){a(o);return}r()}),n.on("data",()=>{n.getBufferedLength()>i&&a(new xr)})}),n.getBufferedValue()}Se.exports=Oi;Se.exports.default=Oi;Se.exports.buffer=(t,e)=>Oi(t,{...e,encoding:"buffer"});Se.exports.array=(t,e)=>Oi(t,{...e,array:!0});Se.exports.MaxBufferError=xr});var Pa=I((yy,Da)=>{Da.exports=Ti;function Ti(){this.pending=0,this.max=1/0,this.listeners=[],this.waiting=[],this.error=null}Ti.prototype.go=function(t){this.pending<this.max?Ca(this,t):this.waiting.push(t)};Ti.prototype.wait=function(t){this.pending===0?t(this.error):this.listeners.push(t)};Ti.prototype.hold=function(){return Sa(this)};function Sa(t){t.pending+=1;var e=!1;return i;function i(r){if(e)throw new Error("callback called twice");if(e=!0,t.error=t.error||r,t.pending-=1,t.waiting.length>0&&t.pending<t.max)Ca(t,t.waiting.shift());else if(t.pending===0){var s=t.listeners;t.listeners=[],s.forEach(n)}}function n(r){r(t.error)}}function Ca(t,e){e(Sa(t))}});var Aa=I(Xe=>{var Be=require("fs"),Ni=require("util"),Er=require("stream"),La=Er.Readable,Or=Er.Writable,Zp=Er.PassThrough,td=Pa(),Si=require("events").EventEmitter;Xe.createFromBuffer=ed;Xe.createFromFd=id;Xe.BufferSlicer=Yt;Xe.FdSlicer=Ht;Ni.inherits(Ht,Si);function Ht(t,e){e=e||{},Si.call(this),this.fd=t,this.pend=new td,this.pend.max=1,this.refCount=0,this.autoClose=!!e.autoClose}Ht.prototype.read=function(t,e,i,n,r){var s=this;s.pend.go(function(a){Be.read(s.fd,t,e,i,n,function(o,u,l){a(),r(o,u,l)})})};Ht.prototype.write=function(t,e,i,n,r){var s=this;s.pend.go(function(a){Be.write(s.fd,t,e,i,n,function(o,u,l){a(),r(o,u,l)})})};Ht.prototype.createReadStream=function(t){return new Ci(this,t)};Ht.prototype.createWriteStream=function(t){return new Di(this,t)};Ht.prototype.ref=function(){this.refCount+=1};Ht.prototype.unref=function(){var t=this;if(t.refCount-=1,t.refCount>0)return;if(t.refCount<0)throw new Error("invalid unref");t.autoClose&&Be.close(t.fd,e);function e(i){i?t.emit("error",i):t.emit("close")}};Ni.inherits(Ci,La);function Ci(t,e){e=e||{},La.call(this,e),this.context=t,this.context.ref(),this.start=e.start||0,this.endOffset=e.end,this.pos=this.start,this.destroyed=!1}Ci.prototype._read=function(t){var e=this;if(!e.destroyed){var i=Math.min(e._readableState.highWaterMark,t);if(e.endOffset!=null&&(i=Math.min(i,e.endOffset-e.pos)),i<=0){e.destroyed=!0,e.push(null),e.context.unref();return}e.context.pend.go(function(n){if(e.destroyed)return n();var r=new Buffer(i);Be.read(e.context.fd,r,0,i,e.pos,function(s,a){s?e.destroy(s):a===0?(e.destroyed=!0,e.push(null),e.context.unref()):(e.pos+=a,e.push(r.slice(0,a))),n()})})}};Ci.prototype.destroy=function(t){this.destroyed||(t=t||new Error("stream destroyed"),this.destroyed=!0,this.emit("error",t),this.context.unref())};Ni.inherits(Di,Or);function Di(t,e){e=e||{},Or.call(this,e),this.context=t,this.context.ref(),this.start=e.start||0,this.endOffset=e.end==null?1/0:+e.end,this.bytesWritten=0,this.pos=this.start,this.destroyed=!1,this.on("finish",this.destroy.bind(this))}Di.prototype._write=function(t,e,i){var n=this;if(!n.destroyed){if(n.pos+t.length>n.endOffset){var r=new Error("maximum file length exceeded");r.code="ETOOBIG",n.destroy(),i(r);return}n.context.pend.go(function(s){if(n.destroyed)return s();Be.write(n.context.fd,t,0,t.length,n.pos,function(a,o){a?(n.destroy(),s(),i(a)):(n.bytesWritten+=o,n.pos+=o,n.emit("progress"),s(),i())})})}};Di.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.context.unref())};Ni.inherits(Yt,Si);function Yt(t,e){Si.call(this),e=e||{},this.refCount=0,this.buffer=t,this.maxChunkSize=e.maxChunkSize||Number.MAX_SAFE_INTEGER}Yt.prototype.read=function(t,e,i,n,r){var s=n+i,a=s-this.buffer.length,o=a>0?a:i;this.buffer.copy(t,e,n,s),setImmediate(function(){r(null,o)})};Yt.prototype.write=function(t,e,i,n,r){t.copy(this.buffer,n,e,e+i),setImmediate(function(){r(null,i,t)})};Yt.prototype.createReadStream=function(t){t=t||{};var e=new Zp(t);e.destroyed=!1,e.start=t.start||0,e.endOffset=t.end,e.pos=e.endOffset||this.buffer.length;for(var i=this.buffer.slice(e.start,e.pos),n=0;;){var r=n+this.maxChunkSize;if(r>=i.length){n<i.length&&e.write(i.slice(n,i.length));break}e.write(i.slice(n,r)),n=r}return e.end(),e.destroy=function(){e.destroyed=!0},e};Yt.prototype.createWriteStream=function(t){var e=this;t=t||{};var i=new Or(t);return i.start=t.start||0,i.endOffset=t.end==null?this.buffer.length:+t.end,i.bytesWritten=0,i.pos=i.start,i.destroyed=!1,i._write=function(n,r,s){if(!i.destroyed){var a=i.pos+n.length;if(a>i.endOffset){var o=new Error("maximum file length exceeded");o.code="ETOOBIG",i.destroyed=!0,s(o);return}n.copy(e.buffer,i.pos,0,n.length),i.bytesWritten+=n.length,i.pos=a,i.emit("progress"),s()}},i.destroy=function(){i.destroyed=!0},i};Yt.prototype.ref=function(){this.refCount+=1};Yt.prototype.unref=function(){if(this.refCount-=1,this.refCount<0)throw new Error("invalid unref")};function ed(t,e){return new Yt(t,e)}function id(t,e){return new Ht(t,e)}});var Ra=I((by,ka)=>{var ne=require("buffer").Buffer,Tr=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array!="undefined"&&(Tr=new Int32Array(Tr));function Ia(t){if(ne.isBuffer(t))return t;var e=typeof ne.alloc=="function"&&typeof ne.from=="function";if(typeof t=="number")return e?ne.alloc(t):new ne(t);if(typeof t=="string")return e?ne.from(t):new ne(t);throw new Error("input must be buffer, number, or string, received "+typeof t)}function nd(t){var e=Ia(4);return e.writeInt32BE(t,0),e}function Nr(t,e){t=Ia(t),ne.isBuffer(e)&&(e=e.readUInt32BE(0));for(var i=~~e^-1,n=0;n<t.length;n++)i=Tr[(i^t[n])&255]^i>>>8;return i^-1}function Sr(){return nd(Nr.apply(null,arguments))}Sr.signed=function(){return Nr.apply(null,arguments)};Sr.unsigned=function(){return Nr.apply(null,arguments)>>>0};ka.exports=Sr});var Ua=I(jt=>{var Cr=require("fs"),rd=require("zlib"),Ma=Aa(),sd=Ra(),Pi=require("util"),Li=require("events").EventEmitter,Fa=require("stream").Transform,Dr=require("stream").PassThrough,ad=require("stream").Writable;jt.open=od;jt.fromFd=ja;jt.fromBuffer=ud;jt.fromRandomAccessReader=Pr;jt.dosDateTimeToDate=Ba;jt.validateFileName=Xa;jt.ZipFile=re;jt.Entry=Ue;jt.RandomAccessReader=se;function od(t,e,i){typeof e=="function"&&(i=e,e=null),e==null&&(e={}),e.autoClose==null&&(e.autoClose=!0),e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1),i==null&&(i=ki),Cr.open(t,"r",function(n,r){if(n)return i(n);ja(r,e,function(s,a){s&&Cr.close(r,ki),i(s,a)})})}function ja(t,e,i){typeof e=="function"&&(i=e,e=null),e==null&&(e={}),e.autoClose==null&&(e.autoClose=!1),e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1),i==null&&(i=ki),Cr.fstat(t,function(n,r){if(n)return i(n);var s=Ma.createFromFd(t,{autoClose:!0});Pr(s,r.size,e,i)})}function ud(t,e,i){typeof e=="function"&&(i=e,e=null),e==null&&(e={}),e.autoClose=!1,e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1);var n=Ma.createFromBuffer(t,{maxChunkSize:65536});Pr(n,t.length,e,i)}function Pr(t,e,i,n){typeof i=="function"&&(n=i,i=null),i==null&&(i={}),i.autoClose==null&&(i.autoClose=!0),i.lazyEntries==null&&(i.lazyEntries=!1),i.decodeStrings==null&&(i.decodeStrings=!0);var r=!!i.decodeStrings;if(i.validateEntrySizes==null&&(i.validateEntrySizes=!0),i.strictFileNames==null&&(i.strictFileNames=!1),n==null&&(n=ki),typeof e!="number")throw new Error("expected totalSize parameter to be a number");if(e>Number.MAX_SAFE_INTEGER)throw new Error("zip file too large. only file sizes up to 2^52 are supported due to JavaScript's Number type being an IEEE 754 double.");t.ref();var s=22,a=65535,o=Math.min(s+a,e),u=Ft(o),l=e-u.length;Ce(t,u,0,o,l,function(c){if(c)return n(c);for(var f=o-s;f>=0;f-=1)if(u.readUInt32LE(f)===101010256){var h=u.slice(f),_=h.readUInt16LE(4);if(_!==0)return n(new Error("multi-disk zip files are not supported: found disk number: "+_));var y=h.readUInt16LE(10),x=h.readUInt32LE(16),N=h.readUInt16LE(20),T=h.length-s;if(N!==T)return n(new Error("invalid comment length. expected: "+T+". found: "+N));var E=r?Ii(h,22,h.length,!1):h.slice(22);if(!(y===65535||x===4294967295))return n(null,new re(t,x,e,y,E,i.autoClose,i.lazyEntries,r,i.validateEntrySizes,i.strictFileNames));var v=Ft(20),p=l+f-v.length;Ce(t,v,0,v.length,p,function(d){if(d)return n(d);if(v.readUInt32LE(0)!==117853008)return n(new Error("invalid zip64 end of central directory locator signature"));var w=De(v,8),S=Ft(56);Ce(t,S,0,S.length,w,function(m){return m?n(m):S.readUInt32LE(0)!==101075792?n(new Error("invalid zip64 end of central directory record signature")):(y=De(S,32),x=De(S,48),n(null,new re(t,x,e,y,E,i.autoClose,i.lazyEntries,r,i.validateEntrySizes,i.strictFileNames)))})});return}n(new Error("end of central directory record signature not found"))})}Pi.inherits(re,Li);function re(t,e,i,n,r,s,a,o,u,l){var c=this;Li.call(c),c.reader=t,c.reader.on("error",function(f){qa(c,f)}),c.reader.once("close",function(){c.emit("close")}),c.readEntryCursor=e,c.fileSize=i,c.entryCount=n,c.comment=r,c.entriesRead=0,c.autoClose=!!s,c.lazyEntries=!!a,c.decodeStrings=!!o,c.validateEntrySizes=!!u,c.strictFileNames=!!l,c.isOpen=!0,c.emittedError=!1,c.lazyEntries||c._readEntry()}re.prototype.close=function(){!this.isOpen||(this.isOpen=!1,this.reader.unref())};function Lt(t,e){t.autoClose&&t.close(),qa(t,e)}function qa(t,e){t.emittedError||(t.emittedError=!0,t.emit("error",e))}re.prototype.readEntry=function(){if(!this.lazyEntries)throw new Error("readEntry() called without lazyEntries:true");this._readEntry()};re.prototype._readEntry=function(){var t=this;if(t.entryCount===t.entriesRead){setImmediate(function(){t.autoClose&&t.close(),!t.emittedError&&t.emit("end")});return}if(!t.emittedError){var e=Ft(46);Ce(t.reader,e,0,e.length,t.readEntryCursor,function(i){if(i)return Lt(t,i);if(!t.emittedError){var n=new Ue,r=e.readUInt32LE(0);if(r!==33639248)return Lt(t,new Error("invalid central directory file header signature: 0x"+r.toString(16)));if(n.versionMadeBy=e.readUInt16LE(4),n.versionNeededToExtract=e.readUInt16LE(6),n.generalPurposeBitFlag=e.readUInt16LE(8),n.compressionMethod=e.readUInt16LE(10),n.lastModFileTime=e.readUInt16LE(12),n.lastModFileDate=e.readUInt16LE(14),n.crc32=e.readUInt32LE(16),n.compressedSize=e.readUInt32LE(20),n.uncompressedSize=e.readUInt32LE(24),n.fileNameLength=e.readUInt16LE(28),n.extraFieldLength=e.readUInt16LE(30),n.fileCommentLength=e.readUInt16LE(32),n.internalFileAttributes=e.readUInt16LE(36),n.externalFileAttributes=e.readUInt32LE(38),n.relativeOffsetOfLocalHeader=e.readUInt32LE(42),n.generalPurposeBitFlag&64)return Lt(t,new Error("strong encryption is not supported"));t.readEntryCursor+=46,e=Ft(n.fileNameLength+n.extraFieldLength+n.fileCommentLength),Ce(t.reader,e,0,e.length,t.readEntryCursor,function(s){if(s)return Lt(t,s);if(!t.emittedError){var a=(n.generalPurposeBitFlag&2048)!=0;n.fileName=t.decodeStrings?Ii(e,0,n.fileNameLength,a):e.slice(0,n.fileNameLength);var o=n.fileNameLength+n.extraFieldLength,u=e.slice(n.fileNameLength,o);n.extraFields=[];for(var l=0;l<u.length-3;){var c=u.readUInt16LE(l+0),f=u.readUInt16LE(l+2),h=l+4,_=h+f;if(_>u.length)return Lt(t,new Error("extra field length exceeds extra field buffer size"));var y=Ft(f);u.copy(y,0,h,_),n.extraFields.push({id:c,data:y}),l=_}if(n.fileComment=t.decodeStrings?Ii(e,o,o+n.fileCommentLength,a):e.slice(o,o+n.fileCommentLength),n.comment=n.fileComment,t.readEntryCursor+=e.length,t.entriesRead+=1,n.uncompressedSize===4294967295||n.compressedSize===4294967295||n.relativeOffsetOfLocalHeader===4294967295){for(var x=null,l=0;l<n.extraFields.length;l++){var N=n.extraFields[l];if(N.id===1){x=N.data;break}}if(x==null)return Lt(t,new Error("expected zip64 extended information extra field"));var T=0;if(n.uncompressedSize===4294967295){if(T+8>x.length)return Lt(t,new Error("zip64 extended information extra field does not include uncompressed size"));n.uncompressedSize=De(x,T),T+=8}if(n.compressedSize===4294967295){if(T+8>x.length)return Lt(t,new Error("zip64 extended information extra field does not include compressed size"));n.compressedSize=De(x,T),T+=8}if(n.relativeOffsetOfLocalHeader===4294967295){if(T+8>x.length)return Lt(t,new Error("zip64 extended information extra field does not include relative header offset"));n.relativeOffsetOfLocalHeader=De(x,T),T+=8}}if(t.decodeStrings)for(var l=0;l<n.extraFields.length;l++){var N=n.extraFields[l];if(N.id===28789){if(N.data.length<6||N.data.readUInt8(0)!==1)continue;var E=N.data.readUInt32LE(1);if(sd.unsigned(e.slice(0,n.fileNameLength))!==E)continue;n.fileName=Ii(N.data,5,N.data.length,!0);break}}if(t.validateEntrySizes&&n.compressionMethod===0){var v=n.uncompressedSize;if(n.isEncrypted()&&(v+=12),n.compressedSize!==v){var p="compressed/uncompressed size mismatch for stored file: "+n.compressedSize+" != "+n.uncompressedSize;return Lt(t,new Error(p))}}if(t.decodeStrings){t.strictFileNames||(n.fileName=n.fileName.replace(/\\/g,"/"));var d=Xa(n.fileName,t.validateFileNameOptions);if(d!=null)return Lt(t,new Error(d))}t.emit("entry",n),t.lazyEntries||t._readEntry()}})}})}};re.prototype.openReadStream=function(t,e,i){var n=this,r=0,s=t.compressedSize;if(i==null)i=e,e={};else{if(e.decrypt!=null){if(!t.isEncrypted())throw new Error("options.decrypt can only be specified for encrypted entries");if(e.decrypt!==!1)throw new Error("invalid options.decrypt value: "+e.decrypt);if(t.isCompressed()&&e.decompress!==!1)throw new Error("entry is encrypted and compressed, and options.decompress !== false")}if(e.decompress!=null){if(!t.isCompressed())throw new Error("options.decompress can only be specified for compressed entries");if(!(e.decompress===!1||e.decompress===!0))throw new Error("invalid options.decompress value: "+e.decompress)}if(e.start!=null||e.end!=null){if(t.isCompressed()&&e.decompress!==!1)throw new Error("start/end range not allowed for compressed entry without options.decompress === false");if(t.isEncrypted()&&e.decrypt!==!1)throw new Error("start/end range not allowed for encrypted entry without options.decrypt === false")}if(e.start!=null){if(r=e.start,r<0)throw new Error("options.start < 0");if(r>t.compressedSize)throw new Error("options.start > entry.compressedSize")}if(e.end!=null){if(s=e.end,s<0)throw new Error("options.end < 0");if(s>t.compressedSize)throw new Error("options.end > entry.compressedSize");if(s<r)throw new Error("options.end < options.start")}}if(!n.isOpen)return i(new Error("closed"));if(t.isEncrypted()&&e.decrypt!==!1)return i(new Error("entry is encrypted, and options.decrypt !== false"));n.reader.ref();var a=Ft(30);Ce(n.reader,a,0,a.length,t.relativeOffsetOfLocalHeader,function(o){try{if(o)return i(o);var u=a.readUInt32LE(0);if(u!==67324752)return i(new Error("invalid local file header signature: 0x"+u.toString(16)));var l=a.readUInt16LE(26),c=a.readUInt16LE(28),f=t.relativeOffsetOfLocalHeader+a.length+l+c,h;if(t.compressionMethod===0)h=!1;else if(t.compressionMethod===8)h=e.decompress!=null?e.decompress:!0;else return i(new Error("unsupported compression method: "+t.compressionMethod));var _=f,y=_+t.compressedSize;if(t.compressedSize!==0&&y>n.fileSize)return i(new Error("file data overflows file bounds: "+_+" + "+t.compressedSize+" > "+n.fileSize));var x=n.reader.createReadStream({start:_+r,end:_+s}),N=x;if(h){var T=!1,E=rd.createInflateRaw();x.on("error",function(v){setImmediate(function(){T||E.emit("error",v)})}),x.pipe(E),n.validateEntrySizes?(N=new ze(t.uncompressedSize),E.on("error",function(v){setImmediate(function(){T||N.emit("error",v)})}),E.pipe(N)):N=E,N.destroy=function(){T=!0,E!==N&&E.unpipe(N),x.unpipe(E),x.destroy()}}i(null,N)}finally{n.reader.unref()}})};function Ue(){}Ue.prototype.getLastModDate=function(){return Ba(this.lastModFileDate,this.lastModFileTime)};Ue.prototype.isEncrypted=function(){return(this.generalPurposeBitFlag&1)!=0};Ue.prototype.isCompressed=function(){return this.compressionMethod===8};function Ba(t,e){var i=t&31,n=(t>>5&15)-1,r=(t>>9&127)+1980,s=0,a=(e&31)*2,o=e>>5&63,u=e>>11&31;return new Date(r,n,i,u,o,a,s)}function Xa(t){return t.indexOf("\\")!==-1?"invalid characters in fileName: "+t:/^[a-zA-Z]:/.test(t)||/^\//.test(t)?"absolute path: "+t:t.split("/").indexOf("..")!==-1?"invalid relative path: "+t:null}function Ce(t,e,i,n,r,s){if(n===0)return setImmediate(function(){s(null,Ft(0))});t.read(e,i,n,r,function(a,o){if(a)return s(a);if(o<n)return s(new Error("unexpected EOF"));s()})}Pi.inherits(ze,Fa);function ze(t){Fa.call(this),this.actualByteCount=0,this.expectedByteCount=t}ze.prototype._transform=function(t,e,i){if(this.actualByteCount+=t.length,this.actualByteCount>this.expectedByteCount){var n="too many bytes in the stream. expected "+this.expectedByteCount+". got at least "+this.actualByteCount;return i(new Error(n))}i(null,t)};ze.prototype._flush=function(t){if(this.actualByteCount<this.expectedByteCount){var e="not enough bytes in the stream. expected "+this.expectedByteCount+". got only "+this.actualByteCount;return t(new Error(e))}t()};Pi.inherits(se,Li);function se(){Li.call(this),this.refCount=0}se.prototype.ref=function(){this.refCount+=1};se.prototype.unref=function(){var t=this;if(t.refCount-=1,t.refCount>0)return;if(t.refCount<0)throw new Error("invalid unref");t.close(e);function e(i){if(i)return t.emit("error",i);t.emit("close")}};se.prototype.createReadStream=function(t){var e=t.start,i=t.end;if(e===i){var n=new Dr;return setImmediate(function(){n.end()}),n}var r=this._readStreamForRange(e,i),s=!1,a=new Ai(this);r.on("error",function(u){setImmediate(function(){s||a.emit("error",u)})}),a.destroy=function(){r.unpipe(a),a.unref(),r.destroy()};var o=new ze(i-e);return a.on("error",function(u){setImmediate(function(){s||o.emit("error",u)})}),o.destroy=function(){s=!0,a.unpipe(o),a.destroy()},r.pipe(a).pipe(o)};se.prototype._readStreamForRange=function(t,e){throw new Error("not implemented")};se.prototype.read=function(t,e,i,n,r){var s=this.createReadStream({start:n,end:n+i}),a=new ad,o=0;a._write=function(u,l,c){u.copy(t,e+o,0,u.length),o+=u.length,c()},a.on("finish",r),s.on("error",function(u){r(u)}),s.pipe(a)};se.prototype.close=function(t){setImmediate(t)};Pi.inherits(Ai,Dr);function Ai(t){Dr.call(this),this.context=t,this.context.ref(),this.unreffedYet=!1}Ai.prototype._flush=function(t){this.unref(),t()};Ai.prototype.unref=function(t){this.unreffedYet||(this.unreffedYet=!0,this.context.unref())};var ld="\0\u263A\u263B\u2665\u2666\u2663\u2660\u2022\u25D8\u25CB\u25D9\u2642\u2640\u266A\u266B\u263C\u25BA\u25C4\u2195\u203C\xB6\xA7\u25AC\u21A8\u2191\u2193\u2192\u2190\u221F\u2194\u25B2\u25BC !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\u2302\xC7\xFC\xE9\xE2\xE4\xE0\xE5\xE7\xEA\xEB\xE8\xEF\xEE\xEC\xC4\xC5\xC9\xE6\xC6\xF4\xF6\xF2\xFB\xF9\xFF\xD6\xDC\xA2\xA3\xA5\u20A7\u0192\xE1\xED\xF3\xFA\xF1\xD1\xAA\xBA\xBF\u2310\xAC\xBD\xBC\xA1\xAB\xBB\u2591\u2592\u2593\u2502\u2524\u2561\u2562\u2556\u2555\u2563\u2551\u2557\u255D\u255C\u255B\u2510\u2514\u2534\u252C\u251C\u2500\u253C\u255E\u255F\u255A\u2554\u2569\u2566\u2560\u2550\u256C\u2567\u2568\u2564\u2565\u2559\u2558\u2552\u2553\u256B\u256A\u2518\u250C\u2588\u2584\u258C\u2590\u2580\u03B1\xDF\u0393\u03C0\u03A3\u03C3\xB5\u03C4\u03A6\u0398\u03A9\u03B4\u221E\u03C6\u03B5\u2229\u2261\xB1\u2265\u2264\u2320\u2321\xF7\u2248\xB0\u2219\xB7\u221A\u207F\xB2\u25A0\xA0";function Ii(t,e,i,n){if(n)return t.toString("utf8",e,i);for(var r="",s=e;s<i;s++)r+=ld[t[s]];return r}function De(t,e){var i=t.readUInt32LE(e),n=t.readUInt32LE(e+4);return n*4294967296+i}var Ft;typeof Buffer.allocUnsafe=="function"?Ft=function(t){return Buffer.allocUnsafe(t)}:Ft=function(t){return new Buffer(t)};function ki(t){if(t)throw t}});var Va=I((xy,Wa)=>{var At=ha()("extract-zip"),{createWriteStream:cd,promises:Pe}=require("fs"),fd=Na(),_e=require("path"),{promisify:Lr}=require("util"),hd=require("stream"),pd=Ua(),dd=Lr(pd.open),_d=Lr(hd.pipeline),za=class{constructor(e,i){this.zipPath=e,this.opts=i}async extract(){return At("opening",this.zipPath,"with opts",this.opts),this.zipfile=await dd(this.zipPath,{lazyEntries:!0}),this.canceled=!1,new Promise((e,i)=>{this.zipfile.on("error",n=>{this.canceled=!0,i(n)}),this.zipfile.readEntry(),this.zipfile.on("close",()=>{this.canceled||(At("zip extraction complete"),e())}),this.zipfile.on("entry",async n=>{if(this.canceled){At("skipping entry",n.fileName,{cancelled:this.canceled});return}if(At("zipfile entry",n.fileName),n.fileName.startsWith("__MACOSX/")){this.zipfile.readEntry();return}let r=_e.dirname(_e.join(this.opts.dir,n.fileName));try{await Pe.mkdir(r,{recursive:!0});let s=await Pe.realpath(r);if(_e.relative(this.opts.dir,s).split(_e.sep).includes(".."))throw new Error(`Out of bound path "${s}" found while processing file ${n.fileName}`);await this.extractEntry(n),At("finished processing",n.fileName),this.zipfile.readEntry()}catch(s){this.canceled=!0,this.zipfile.close(),i(s)}})})}async extractEntry(e){if(this.canceled){At("skipping entry extraction",e.fileName,{cancelled:this.canceled});return}this.opts.onEntry&&this.opts.onEntry(e,this.zipfile);let i=_e.join(this.opts.dir,e.fileName),n=e.externalFileAttributes>>16&65535,r=61440,s=16384,a=40960,o=(n&r)===a,u=(n&r)===s;!u&&e.fileName.endsWith("/")&&(u=!0);let l=e.versionMadeBy>>8;u||(u=l===0&&e.externalFileAttributes===16),At("extracting entry",{filename:e.fileName,isDir:u,isSymlink:o});let c=this.getExtractedMode(n,u)&511,f=u?i:_e.dirname(i),h={recursive:!0};if(u&&(h.mode=c),At("mkdir",{dir:f,...h}),await Pe.mkdir(f,h),u)return;At("opening read stream",i);let _=await Lr(this.zipfile.openReadStream.bind(this.zipfile))(e);if(o){let y=await fd(_);At("creating symlink",y,i),await Pe.symlink(y,i)}else await _d(_,cd(i,{mode:c}))}getExtractedMode(e,i){let n=e;return n===0&&(i?(this.opts.defaultDirMode&&(n=parseInt(this.opts.defaultDirMode,10)),n||(n=493)):(this.opts.defaultFileMode&&(n=parseInt(this.opts.defaultFileMode,10)),n||(n=420))),n}};Wa.exports=async function(t,e){if(At("creating target directory",e.dir),!_e.isAbsolute(e.dir))throw new Error("Target directory is expected to be absolute");return await Pe.mkdir(e.dir,{recursive:!0}),e.dir=await Pe.realpath(e.dir),new za(t,e).extract()}});var Ka=I((Ey,$a)=>{"use strict";$a.exports=t=>function(){let e=arguments.length,i=new Array(e);for(let n=0;n<e;n+=1)i[n]=arguments[n];return new Promise((n,r)=>{i.push((s,a)=>{s?r(s):n(a)}),t.apply(null,i)})}});var _t=I((Oy,Ga)=>{"use strict";var Ri=require("fs"),gd=Ka(),md=t=>[typeof Ri[t]=="function",!t.match(/Sync$/),!t.match(/^[A-Z]/),!t.match(/^create/),!t.match(/^(un)?watch/)].every(Boolean),yd=t=>{let e=Ri[t];return gd(e)},vd=()=>{let t={};return Object.keys(Ri).forEach(e=>{md(e)?e==="exists"?t.exists=()=>{throw new Error("fs.exists() is deprecated")}:t[e]=yd(e):t[e]=Ri[e]}),t};Ga.exports=vd()});var ut=I((Ty,Ja)=>{"use strict";var bd=t=>{let e=i=>["a","e","i","o","u"].indexOf(i[0])!==-1?`an ${i}`:`a ${i}`;return t.map(e).join(" or ")},Ha=t=>/array of /.test(t),Ya=t=>t.split(" of ")[1],Qa=t=>Ha(t)?Qa(Ya(t)):["string","number","boolean","array","object","buffer","null","undefined","function"].some(e=>e===t),We=t=>t===null?"null":Array.isArray(t)?"array":Buffer.isBuffer(t)?"buffer":typeof t,wd=(t,e,i)=>i.indexOf(t)===e,xd=t=>{let e=We(t),i;return e==="array"&&(i=t.map(n=>We(n)).filter(wd),e+=` of ${i.join(", ")}`),e},Ed=(t,e)=>{let i=Ya(e);return We(t)!=="array"?!1:t.every(n=>We(n)===i)},Ar=(t,e,i,n)=>{if(!n.some(s=>{if(!Qa(s))throw new Error(`Unknown type "${s}"`);return Ha(s)?Ed(i,s):s===We(i)}))throw new Error(`Argument "${e}" passed to ${t} must be ${bd(n)}. Received ${xd(i)}`)},Od=(t,e,i,n)=>{i!==void 0&&(Ar(t,e,i,["object"]),Object.keys(i).forEach(r=>{let s=`${e}.${r}`;if(n[r]!==void 0)Ar(t,s,i[r],n[r]);else throw new Error(`Unknown argument "${s}" passed to ${t}`)}))};Ja.exports={argument:Ar,options:Od}});var Mi=I(Za=>{"use strict";Za.normalizeFileMode=t=>{let e;return typeof t=="number"?e=t.toString(8):e=t,e.substring(e.length-3)}});var ji=I(Fi=>{"use strict";var to=_t(),Td=ut(),Nd=(t,e)=>{let i=`${t}([path])`;Td.argument(i,"path",e,["string","undefined"])},Sd=t=>{to.rmSync(t,{recursive:!0,force:!0,maxRetries:3})},Cd=t=>to.rm(t,{recursive:!0,force:!0,maxRetries:3});Fi.validateInput=Nd;Fi.sync=Sd;Fi.async=Cd});var ge=I(Le=>{"use strict";var qi=require("path"),qt=_t(),Ir=Mi(),eo=ut(),io=ji(),Dd=(t,e,i)=>{let n=`${t}(path, [criteria])`;eo.argument(n,"path",e,["string"]),eo.options(n,"criteria",i,{empty:["boolean"],mode:["string","number"]})},no=t=>{let e=t||{};return typeof e.empty!="boolean"&&(e.empty=!1),e.mode!==void 0&&(e.mode=Ir.normalizeFileMode(e.mode)),e},ro=t=>new Error(`Path ${t} exists but is not a directory. Halting jetpack.dir() call for safety reasons.`),Pd=t=>{let e;try{e=qt.statSync(t)}catch(i){if(i.code!=="ENOENT")throw i}if(e&&!e.isDirectory())throw ro(t);return e},kr=(t,e)=>{let i=e||{};try{qt.mkdirSync(t,i.mode)}catch(n){if(n.code==="ENOENT")kr(qi.dirname(t),i),qt.mkdirSync(t,i.mode);else if(n.code!=="EEXIST")throw n}},Ld=(t,e,i)=>{let n=()=>{let s=Ir.normalizeFileMode(e.mode);i.mode!==void 0&&i.mode!==s&&qt.chmodSync(t,i.mode)},r=()=>{i.empty&&qt.readdirSync(t).forEach(a=>{io.sync(qi.resolve(t,a))})};n(),r()},Ad=(t,e)=>{let i=no(e),n=Pd(t);n?Ld(t,n,i):kr(t,i)},Id=t=>new Promise((e,i)=>{qt.stat(t).then(n=>{n.isDirectory()?e(n):i(ro(t))}).catch(n=>{n.code==="ENOENT"?e(void 0):i(n)})}),kd=t=>new Promise((e,i)=>{qt.readdir(t).then(n=>{let r=s=>{if(s===n.length)e();else{let a=qi.resolve(t,n[s]);io.async(a).then(()=>{r(s+1)})}};r(0)}).catch(i)}),Rd=(t,e,i)=>new Promise((n,r)=>{let s=()=>{let o=Ir.normalizeFileMode(e.mode);return i.mode!==void 0&&i.mode!==o?qt.chmod(t,i.mode):Promise.resolve()},a=()=>i.empty?kd(t):Promise.resolve();s().then(a).then(n,r)}),Rr=(t,e)=>{let i=e||{};return new Promise((n,r)=>{qt.mkdir(t,i.mode).then(n).catch(s=>{s.code==="ENOENT"?Rr(qi.dirname(t),i).then(()=>qt.mkdir(t,i.mode)).then(n).catch(a=>{a.code==="EEXIST"?n():r(a)}):s.code==="EEXIST"?n():r(s)})})},Md=(t,e)=>new Promise((i,n)=>{let r=no(e);Id(t).then(s=>s!==void 0?Rd(t,s,r):Rr(t,r)).then(i,n)});Le.validateInput=Dd;Le.sync=Ad;Le.createSync=kr;Le.async=Md;Le.createAsync=Rr});var Ve=I(Xi=>{"use strict";var so=require("path"),Ae=_t(),Mr=ut(),ao=ge(),Fd=(t,e,i,n)=>{let r=`${t}(path, data, [options])`;Mr.argument(r,"path",e,["string"]),Mr.argument(r,"data",i,["string","buffer","object","array"]),Mr.options(r,"options",n,{mode:["string","number"],atomic:["boolean"],jsonIndent:["number"]})},Bi=".__new__",oo=(t,e)=>{let i=e;return typeof i!="number"&&(i=2),typeof t=="object"&&!Buffer.isBuffer(t)&&t!==null?JSON.stringify(t,null,i):t},uo=(t,e,i)=>{try{Ae.writeFileSync(t,e,i)}catch(n){if(n.code==="ENOENT")ao.createSync(so.dirname(t)),Ae.writeFileSync(t,e,i);else throw n}},jd=(t,e,i)=>{uo(t+Bi,e,i),Ae.renameSync(t+Bi,t)},qd=(t,e,i)=>{let n=i||{},r=oo(e,n.jsonIndent),s=uo;n.atomic&&(s=jd),s(t,r,{mode:n.mode})},lo=(t,e,i)=>new Promise((n,r)=>{Ae.writeFile(t,e,i).then(n).catch(s=>{s.code==="ENOENT"?ao.createAsync(so.dirname(t)).then(()=>Ae.writeFile(t,e,i)).then(n,r):r(s)})}),Bd=(t,e,i)=>new Promise((n,r)=>{lo(t+Bi,e,i).then(()=>Ae.rename(t+Bi,t)).then(n,r)}),Xd=(t,e,i)=>{let n=i||{},r=oo(e,n.jsonIndent),s=lo;return n.atomic&&(s=Bd),s(t,r,{mode:n.mode})};Xi.validateInput=Fd;Xi.sync=qd;Xi.async=Xd});var ho=I(Ui=>{"use strict";var co=_t(),fo=Ve(),Fr=ut(),Ud=(t,e,i,n)=>{let r=`${t}(path, data, [options])`;Fr.argument(r,"path",e,["string"]),Fr.argument(r,"data",i,["string","buffer"]),Fr.options(r,"options",n,{mode:["string","number"]})},zd=(t,e,i)=>{try{co.appendFileSync(t,e,i)}catch(n){if(n.code==="ENOENT")fo.sync(t,e,i);else throw n}},Wd=(t,e,i)=>new Promise((n,r)=>{co.appendFile(t,e,i).then(n).catch(s=>{s.code==="ENOENT"?fo.async(t,e,i).then(n,r):r(s)})});Ui.validateInput=Ud;Ui.sync=zd;Ui.async=Wd});var mo=I(Vi=>{"use strict";var zi=_t(),jr=Mi(),po=ut(),Wi=Ve(),Vd=(t,e,i)=>{let n=`${t}(path, [criteria])`;po.argument(n,"path",e,["string"]),po.options(n,"criteria",i,{content:["string","buffer","object","array"],jsonIndent:["number"],mode:["string","number"]})},_o=t=>{let e=t||{};return e.mode!==void 0&&(e.mode=jr.normalizeFileMode(e.mode)),e},go=t=>new Error(`Path ${t} exists but is not a file. Halting jetpack.file() call for safety reasons.`),$d=t=>{let e;try{e=zi.statSync(t)}catch(i){if(i.code!=="ENOENT")throw i}if(e&&!e.isFile())throw go(t);return e},Kd=(t,e,i)=>{let n=jr.normalizeFileMode(e.mode),r=()=>i.content!==void 0?(Wi.sync(t,i.content,{mode:n,jsonIndent:i.jsonIndent}),!0):!1,s=()=>{i.mode!==void 0&&i.mode!==n&&zi.chmodSync(t,i.mode)};r()||s()},Gd=(t,e)=>{let i="";e.content!==void 0&&(i=e.content),Wi.sync(t,i,{mode:e.mode,jsonIndent:e.jsonIndent})},Hd=(t,e)=>{let i=_o(e),n=$d(t);n!==void 0?Kd(t,n,i):Gd(t,i)},Yd=t=>new Promise((e,i)=>{zi.stat(t).then(n=>{n.isFile()?e(n):i(go(t))}).catch(n=>{n.code==="ENOENT"?e(void 0):i(n)})}),Qd=(t,e,i)=>{let n=jr.normalizeFileMode(e.mode),r=()=>new Promise((a,o)=>{i.content!==void 0?Wi.async(t,i.content,{mode:n,jsonIndent:i.jsonIndent}).then(()=>{a(!0)}).catch(o):a(!1)}),s=()=>{if(i.mode!==void 0&&i.mode!==n)return zi.chmod(t,i.mode)};return r().then(a=>{if(!a)return s()})},Jd=(t,e)=>{let i="";return e.content!==void 0&&(i=e.content),Wi.async(t,i,{mode:e.mode,jsonIndent:e.jsonIndent})},Zd=(t,e)=>new Promise((i,n)=>{let r=_o(e);Yd(t).then(s=>s!==void 0?Qd(t,s,r):Jd(t,r)).then(i,n)});Vi.validateInput=Vd;Vi.sync=Hd;Vi.async=Zd});var ke=I(Ie=>{"use strict";var yo=require("crypto"),t_=require("path"),ae=_t(),vo=ut(),qr=["md5","sha1","sha256","sha512"],Br=["report","follow"],e_=(t,e,i)=>{let n=`${t}(path, [options])`;if(vo.argument(n,"path",e,["string"]),vo.options(n,"options",i,{checksum:["string"],mode:["boolean"],times:["boolean"],absolutePath:["boolean"],symlinks:["string"]}),i&&i.checksum!==void 0&&qr.indexOf(i.checksum)===-1)throw new Error(`Argument "options.checksum" passed to ${n} must have one of values: ${qr.join(", ")}`);if(i&&i.symlinks!==void 0&&Br.indexOf(i.symlinks)===-1)throw new Error(`Argument "options.symlinks" passed to ${n} must have one of values: ${Br.join(", ")}`)},bo=(t,e,i)=>{let n={};return n.name=t_.basename(t),i.isFile()?(n.type="file",n.size=i.size):i.isDirectory()?n.type="dir":i.isSymbolicLink()?n.type="symlink":n.type="other",e.mode&&(n.mode=i.mode),e.times&&(n.accessTime=i.atime,n.modifyTime=i.mtime,n.changeTime=i.ctime,n.birthTime=i.birthtime),e.absolutePath&&(n.absolutePath=t),n},i_=(t,e)=>{let i=yo.createHash(e),n=ae.readFileSync(t);return i.update(n),i.digest("hex")},n_=(t,e,i)=>{e.type==="file"&&i.checksum?e[i.checksum]=i_(t,i.checksum):e.type==="symlink"&&(e.pointsAt=ae.readlinkSync(t))},r_=(t,e)=>{let i=ae.lstatSync,n,r=e||{};r.symlinks==="follow"&&(i=ae.statSync);try{n=i(t)}catch(a){if(a.code==="ENOENT")return;throw a}let s=bo(t,r,n);return n_(t,s,r),s},s_=(t,e)=>new Promise((i,n)=>{let r=yo.createHash(e),s=ae.createReadStream(t);s.on("data",a=>{r.update(a)}),s.on("end",()=>{i(r.digest("hex"))}),s.on("error",n)}),a_=(t,e,i)=>e.type==="file"&&i.checksum?s_(t,i.checksum).then(n=>(e[i.checksum]=n,e)):e.type==="symlink"?ae.readlink(t).then(n=>(e.pointsAt=n,e)):Promise.resolve(e),o_=(t,e)=>new Promise((i,n)=>{let r=ae.lstat,s=e||{};s.symlinks==="follow"&&(r=ae.stat),r(t).then(a=>{let o=bo(t,s,a);a_(t,o,s).then(i,n)}).catch(a=>{a.code==="ENOENT"?i(void 0):n(a)})});Ie.supportedChecksumAlgorithms=qr;Ie.symlinkOptions=Br;Ie.validateInput=e_;Ie.sync=r_;Ie.async=o_});var Ki=I($i=>{"use strict";var wo=_t(),u_=ut(),l_=(t,e)=>{let i=`${t}(path)`;u_.argument(i,"path",e,["string","undefined"])},c_=t=>{try{return wo.readdirSync(t)}catch(e){if(e.code==="ENOENT")return;throw e}},f_=t=>new Promise((e,i)=>{wo.readdir(t).then(n=>{e(n)}).catch(n=>{n.code==="ENOENT"?e(void 0):i(n)})});$i.validateInput=l_;$i.sync=c_;$i.async=f_});var Qi=I(Xr=>{"use strict";var Gi=require("fs"),Hi=require("path"),$e=ke(),ky=Ki(),Yi=t=>t.isDirectory()?"dir":t.isFile()?"file":t.isSymbolicLink()?"symlink":"other",h_=(t,e,i)=>{e.maxLevelsDeep===void 0&&(e.maxLevelsDeep=1/0);let n=e.inspectOptions!==void 0;e.symlinks&&(e.inspectOptions===void 0?e.inspectOptions={symlinks:e.symlinks}:e.inspectOptions.symlinks=e.symlinks);let r=(a,o)=>{Gi.readdirSync(a,{withFileTypes:!0}).forEach(u=>{let l=typeof u=="string",c;l?c=Hi.join(a,u):c=Hi.join(a,u.name);let f;if(n)f=$e.sync(c,e.inspectOptions);else if(l){let h=$e.sync(c,e.inspectOptions);f={name:h.name,type:h.type}}else{let h=Yi(u);if(h==="symlink"&&e.symlinks==="follow"){let _=Gi.statSync(c);f={name:u.name,type:Yi(_)}}else f={name:u.name,type:h}}f!==void 0&&(i(c,f),f.type==="dir"&&o<e.maxLevelsDeep&&r(c,o+1))})},s=$e.sync(t,e.inspectOptions);s?(n?i(t,s):i(t,{name:s.name,type:s.type}),s.type==="dir"&&r(t,1)):i(t,void 0)},p_=5,d_=(t,e,i,n)=>{e.maxLevelsDeep===void 0&&(e.maxLevelsDeep=1/0);let r=e.inspectOptions!==void 0;e.symlinks&&(e.inspectOptions===void 0?e.inspectOptions={symlinks:e.symlinks}:e.inspectOptions.symlinks=e.symlinks);let s=[],a=0,o=()=>{if(s.length===0&&a===0)n();else if(s.length>0&&a<p_){let f=s.pop();a+=1,f()}},u=f=>{s.push(f),o()},l=()=>{a-=1,o()},c=(f,h)=>{let _=(y,x)=>{x.type==="dir"&&h<e.maxLevelsDeep&&c(y,h+1)};u(()=>{Gi.readdir(f,{withFileTypes:!0},(y,x)=>{y?n(y):(x.forEach(N=>{let T=typeof N=="string",E;if(T?E=Hi.join(f,N):E=Hi.join(f,N.name),r||T)u(()=>{$e.async(E,e.inspectOptions).then(v=>{v!==void 0&&(r?i(E,v):i(E,{name:v.name,type:v.type}),_(E,v)),l()}).catch(v=>{n(v)})});else{let v=Yi(N);if(v==="symlink"&&e.symlinks==="follow")u(()=>{Gi.stat(E,(p,d)=>{if(p)n(p);else{let w={name:N.name,type:Yi(d)};i(E,w),_(E,w),l()}})});else{let p={name:N.name,type:v};i(E,p),_(E,p)}}}),l())})})};$e.async(t,e.inspectOptions).then(f=>{f?(r?i(t,f):i(t,{name:f.name,type:f.type}),f.type==="dir"?c(t,1):n()):(i(t,void 0),n())}).catch(f=>{n(f)})};Xr.sync=h_;Xr.async=d_});var Eo=I((My,xo)=>{var __=typeof process=="object"&&process&&process.platform==="win32";xo.exports=__?{sep:"\\"}:{sep:"/"}});var Co=I((Fy,So)=>{"use strict";So.exports=Oo;function Oo(t,e,i){t instanceof RegExp&&(t=To(t,i)),e instanceof RegExp&&(e=To(e,i));var n=No(t,e,i);return n&&{start:n[0],end:n[1],pre:i.slice(0,n[0]),body:i.slice(n[0]+t.length,n[1]),post:i.slice(n[1]+e.length)}}function To(t,e){var i=e.match(t);return i?i[0]:null}Oo.range=No;function No(t,e,i){var n,r,s,a,o,u=i.indexOf(t),l=i.indexOf(e,u+1),c=u;if(u>=0&&l>0){if(t===e)return[u,l];for(n=[],s=i.length;c>=0&&!o;)c==u?(n.push(c),u=i.indexOf(t,c+1)):n.length==1?o=[n.pop(),l]:(r=n.pop(),r<s&&(s=r,a=l),l=i.indexOf(e,c+1)),c=u<l&&u>=0?u:l;n.length&&(o=[s,a])}return o}});var Mo=I((jy,Ro)=>{var Do=Co();Ro.exports=y_;var Po="\0SLASH"+Math.random()+"\0",Lo="\0OPEN"+Math.random()+"\0",Ur="\0CLOSE"+Math.random()+"\0",Ao="\0COMMA"+Math.random()+"\0",Io="\0PERIOD"+Math.random()+"\0";function zr(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function g_(t){return t.split("\\\\").join(Po).split("\\{").join(Lo).split("\\}").join(Ur).split("\\,").join(Ao).split("\\.").join(Io)}function m_(t){return t.split(Po).join("\\").split(Lo).join("{").split(Ur).join("}").split(Ao).join(",").split(Io).join(".")}function ko(t){if(!t)return[""];var e=[],i=Do("{","}",t);if(!i)return t.split(",");var n=i.pre,r=i.body,s=i.post,a=n.split(",");a[a.length-1]+="{"+r+"}";var o=ko(s);return s.length&&(a[a.length-1]+=o.shift(),a.push.apply(a,o)),e.push.apply(e,a),e}function y_(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),Ke(g_(t),!0).map(m_)):[]}function v_(t){return"{"+t+"}"}function b_(t){return/^-?0\d/.test(t)}function w_(t,e){return t<=e}function x_(t,e){return t>=e}function Ke(t,e){var i=[],n=Do("{","}",t);if(!n)return[t];var r=n.pre,s=n.post.length?Ke(n.post,!1):[""];if(/\$$/.test(n.pre))for(var a=0;a<s.length;a++){var o=r+"{"+n.body+"}"+s[a];i.push(o)}else{var u=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),l=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),c=u||l,f=n.body.indexOf(",")>=0;if(!c&&!f)return n.post.match(/,.*\}/)?(t=n.pre+"{"+n.body+Ur+n.post,Ke(t)):[t];var h;if(c)h=n.body.split(/\.\./);else if(h=ko(n.body),h.length===1&&(h=Ke(h[0],!1).map(v_),h.length===1))return s.map(function(O){return n.pre+h[0]+O});var _;if(c){var y=zr(h[0]),x=zr(h[1]),N=Math.max(h[0].length,h[1].length),T=h.length==3?Math.abs(zr(h[2])):1,E=w_,v=x<y;v&&(T*=-1,E=x_);var p=h.some(b_);_=[];for(var d=y;E(d,x);d+=T){var w;if(l)w=String.fromCharCode(d),w==="\\"&&(w="");else if(w=String(d),p){var S=N-w.length;if(S>0){var m=new Array(S+1).join("0");d<0?w="-"+m+w.slice(1):w=m+w}}_.push(w)}}else{_=[];for(var D=0;D<h.length;D++)_.push.apply(_,Ke(h[D],!1))}for(var D=0;D<_.length;D++)for(var a=0;a<s.length;a++){var o=r+_[D]+s[a];(!e||c||o)&&i.push(o)}}return i}});var Uo=I((By,Gr)=>{var bt=Gr.exports=(t,e,i={})=>(Ji(e),!i.nocomment&&e.charAt(0)==="#"?!1:new Ge(e,i).match(t));Gr.exports=bt;var Wr=Eo();bt.sep=Wr.sep;var It=Symbol("globstar **");bt.GLOBSTAR=It;var E_=Mo(),Fo={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},Vr="[^/]",$r=Vr+"*?",O_="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",T_="(?:(?!(?:\\/|^)\\.).)*?",jo=t=>t.split("").reduce((e,i)=>(e[i]=!0,e),{}),qo=jo("().*{}+?[]^$\\!"),N_=jo("[.("),Bo=/\/+/;bt.filter=(t,e={})=>(i,n,r)=>bt(i,t,e);var oe=(t,e={})=>{let i={};return Object.keys(t).forEach(n=>i[n]=t[n]),Object.keys(e).forEach(n=>i[n]=e[n]),i};bt.defaults=t=>{if(!t||typeof t!="object"||!Object.keys(t).length)return bt;let e=bt,i=(n,r,s)=>e(n,r,oe(t,s));return i.Minimatch=class extends e.Minimatch{constructor(r,s){super(r,oe(t,s))}},i.Minimatch.defaults=n=>e.defaults(oe(t,n)).Minimatch,i.filter=(n,r)=>e.filter(n,oe(t,r)),i.defaults=n=>e.defaults(oe(t,n)),i.makeRe=(n,r)=>e.makeRe(n,oe(t,r)),i.braceExpand=(n,r)=>e.braceExpand(n,oe(t,r)),i.match=(n,r,s)=>e.match(n,r,oe(t,s)),i};bt.braceExpand=(t,e)=>Xo(t,e);var Xo=(t,e={})=>(Ji(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:E_(t)),S_=1024*64,Ji=t=>{if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>S_)throw new TypeError("pattern is too long")},Kr=Symbol("subparse");bt.makeRe=(t,e)=>new Ge(t,e||{}).makeRe();bt.match=(t,e,i={})=>{let n=new Ge(e,i);return t=t.filter(r=>n.match(r)),n.options.nonull&&!t.length&&t.push(e),t};var C_=t=>t.replace(/\\(.)/g,"$1"),D_=t=>t.replace(/\\([^-\]])/g,"$1"),P_=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),L_=t=>t.replace(/[[\]\\]/g,"\\$&"),Ge=class{constructor(e,i){Ji(e),i||(i={}),this.options=i,this.set=[],this.pattern=e,this.windowsPathsNoEscape=!!i.windowsPathsNoEscape||i.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!i.partial,this.make()}debug(){}make(){let e=this.pattern,i=this.options;if(!i.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate();let n=this.globSet=this.braceExpand();i.debug&&(this.debug=(...r)=>console.error(...r)),this.debug(this.pattern,n),n=this.globParts=n.map(r=>r.split(Bo)),this.debug(this.pattern,n),n=n.map((r,s,a)=>r.map(this.parse,this)),this.debug(this.pattern,n),n=n.filter(r=>r.indexOf(!1)===-1),this.debug(this.pattern,n),this.set=n}parseNegate(){if(this.options.nonegate)return;let e=this.pattern,i=!1,n=0;for(let r=0;r<e.length&&e.charAt(r)==="!";r++)i=!i,n++;n&&(this.pattern=e.slice(n)),this.negate=i}matchOne(e,i,n){var r=this.options;this.debug("matchOne",{this:this,file:e,pattern:i}),this.debug("matchOne",e.length,i.length);for(var s=0,a=0,o=e.length,u=i.length;s<o&&a<u;s++,a++){this.debug("matchOne loop");var l=i[a],c=e[s];if(this.debug(i,l,c),l===!1)return!1;if(l===It){this.debug("GLOBSTAR",[i,l,c]);var f=s,h=a+1;if(h===u){for(this.debug("** at the end");s<o;s++)if(e[s]==="."||e[s]===".."||!r.dot&&e[s].charAt(0)===".")return!1;return!0}for(;f<o;){var _=e[f];if(this.debug(`
globstar while`,e,f,i,h,_),this.matchOne(e.slice(f),i.slice(h),n))return this.debug("globstar found match!",f,o,_),!0;if(_==="."||_===".."||!r.dot&&_.charAt(0)==="."){this.debug("dot detected!",e,f,i,h);break}this.debug("globstar swallow a segment, and continue"),f++}return!!(n&&(this.debug(`
>>> no match, partial?`,e,f,i,h),f===o))}var y;if(typeof l=="string"?(y=c===l,this.debug("string match",l,c,y)):(y=c.match(l),this.debug("pattern match",l,c,y)),!y)return!1}if(s===o&&a===u)return!0;if(s===o)return n;if(a===u)return s===o-1&&e[s]==="";throw new Error("wtf?")}braceExpand(){return Xo(this.pattern,this.options)}parse(e,i){Ji(e);let n=this.options;if(e==="**")if(n.noglobstar)e="*";else return It;if(e==="")return"";let r="",s=!1,a=!1,o=[],u=[],l,c=!1,f=-1,h=-1,_,y,x,N=e.charAt(0)===".",T=n.dot||N,E=()=>N?"":T?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",v=S=>S.charAt(0)==="."?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",p=()=>{if(l){switch(l){case"*":r+=$r,s=!0;break;case"?":r+=Vr,s=!0;break;default:r+="\\"+l;break}this.debug("clearStateChar %j %j",l,r),l=!1}};for(let S=0,m;S<e.length&&(m=e.charAt(S));S++){if(this.debug("%s	%s %s %j",e,S,r,m),a){if(m==="/")return!1;qo[m]&&(r+="\\"),r+=m,a=!1;continue}switch(m){case"/":return!1;case"\\":if(c&&e.charAt(S+1)==="-"){r+=m;continue}p(),a=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",e,S,r,m),c){this.debug("  in class"),m==="!"&&S===h+1&&(m="^"),r+=m;continue}this.debug("call clearStateChar %j",l),p(),l=m,n.noext&&p();continue;case"(":{if(c){r+="(";continue}if(!l){r+="\\(";continue}let D={type:l,start:S-1,reStart:r.length,open:Fo[l].open,close:Fo[l].close};this.debug(this.pattern,"	",D),o.push(D),r+=D.open,D.start===0&&D.type!=="!"&&(N=!0,r+=v(e.slice(S+1))),this.debug("plType %j %j",l,r),l=!1;continue}case")":{let D=o[o.length-1];if(c||!D){r+="\\)";continue}o.pop(),p(),s=!0,y=D,r+=y.close,y.type==="!"&&u.push(Object.assign(y,{reEnd:r.length}));continue}case"|":{let D=o[o.length-1];if(c||!D){r+="\\|";continue}p(),r+="|",D.start===0&&D.type!=="!"&&(N=!0,r+=v(e.slice(S+1)));continue}case"[":if(p(),c){r+="\\"+m;continue}c=!0,h=S,f=r.length,r+=m;continue;case"]":if(S===h+1||!c){r+="\\"+m;continue}_=e.substring(h+1,S);try{RegExp("["+L_(D_(_))+"]"),r+=m}catch(D){r=r.substring(0,f)+"(?:$.)"}s=!0,c=!1;continue;default:p(),qo[m]&&!(m==="^"&&c)&&(r+="\\"),r+=m;break}}for(c&&(_=e.slice(h+1),x=this.parse(_,Kr),r=r.substring(0,f)+"\\["+x[0],s=s||x[1]),y=o.pop();y;y=o.pop()){let S;S=r.slice(y.reStart+y.open.length),this.debug("setting tail",r,y),S=S.replace(/((?:\\{2}){0,64})(\\?)\|/g,(D,O,P)=>(P||(P="\\"),O+O+P+"|")),this.debug(`tail=%j
   %s`,S,S,y,r);let m=y.type==="*"?$r:y.type==="?"?Vr:"\\"+y.type;s=!0,r=r.slice(0,y.reStart)+m+"\\("+S}p(),a&&(r+="\\\\");let d=N_[r.charAt(0)];for(let S=u.length-1;S>-1;S--){let m=u[S],D=r.slice(0,m.reStart),O=r.slice(m.reStart,m.reEnd-8),P=r.slice(m.reEnd),k=r.slice(m.reEnd-8,m.reEnd)+P,R=D.split(")").length,B=D.split("(").length-R,W=P;for(let Y=0;Y<B;Y++)W=W.replace(/\)[+*?]?/,"");P=W;let M=P===""&&i!==Kr?"(?:$|\\/)":"";r=D+O+P+M+k}if(r!==""&&s&&(r="(?=.)"+r),d&&(r=E()+r),i===Kr)return[r,s];if(n.nocase&&!s&&(s=e.toUpperCase()!==e.toLowerCase()),!s)return C_(e);let w=n.nocase?"i":"";try{return Object.assign(new RegExp("^"+r+"$",w),{_glob:e,_src:r})}catch(S){return new RegExp("$.")}}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let e=this.set;if(!e.length)return this.regexp=!1,this.regexp;let i=this.options,n=i.noglobstar?$r:i.dot?O_:T_,r=i.nocase?"i":"",s=e.map(a=>(a=a.map(o=>typeof o=="string"?P_(o):o===It?It:o._src).reduce((o,u)=>(o[o.length-1]===It&&u===It||o.push(u),o),[]),a.forEach((o,u)=>{o!==It||a[u-1]===It||(u===0?a.length>1?a[u+1]="(?:\\/|"+n+"\\/)?"+a[u+1]:a[u]=n:u===a.length-1?a[u-1]+="(?:\\/|"+n+")?":(a[u-1]+="(?:\\/|\\/"+n+"\\/)"+a[u+1],a[u+1]=It))}),a.filter(o=>o!==It).join("/"))).join("|");s="^(?:"+s+")$",this.negate&&(s="^(?!"+s+").*$");try{this.regexp=new RegExp(s,r)}catch(a){this.regexp=!1}return this.regexp}match(e,i=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&i)return!0;let n=this.options;Wr.sep!=="/"&&(e=e.split(Wr.sep).join("/")),e=e.split(Bo),this.debug(this.pattern,"split",e);let r=this.set;this.debug(this.pattern,"set",r);let s;for(let a=e.length-1;a>=0&&(s=e[a],!s);a--);for(let a=0;a<r.length;a++){let o=r[a],u=e;if(n.matchBase&&o.length===1&&(u=[s]),this.matchOne(u,o,i))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(e){return bt.defaults(e).Minimatch}};bt.Minimatch=Ge});var Hr=I(zo=>{"use strict";var A_=Uo().Minimatch,I_=(t,e)=>{let i=e.indexOf("/")!==-1,n=/^!?\//.test(e),r=/^!/.test(e),s;if(!n&&i){let a=e.replace(/^!/,"").replace(/^\.\//,"");return/\/$/.test(t)?s="":s="/",r?`!${t}${s}${a}`:`${t}${s}${a}`}return e};zo.create=(t,e,i)=>{let n;typeof e=="string"?n=[e]:n=e;let r=n.map(a=>I_(t,a)).map(a=>new A_(a,{matchBase:!0,nocomment:!0,nocase:i||!1,dot:!0,windowsPathsNoEscape:!0}));return a=>{let o="matching",u=!1,l,c;for(c=0;c<r.length;c+=1){if(l=r[c],l.negate&&(o="negation",c===0&&(u=!0)),o==="negation"&&u&&!l.match(a))return!1;o==="matching"&&!u&&(u=l.match(a))}return u}}});var Jo=I(Zi=>{"use strict";var k_=require("path"),Wo=Qi(),Vo=ke(),$o=Hr(),Ko=ut(),R_=(t,e,i)=>{let n=`${t}([path], options)`;Ko.argument(n,"path",e,["string"]),Ko.options(n,"options",i,{matching:["string","array of string"],filter:["function"],files:["boolean"],directories:["boolean"],recursive:["boolean"],ignoreCase:["boolean"]})},Go=t=>{let e=t||{};return e.matching===void 0&&(e.matching="*"),e.files===void 0&&(e.files=!0),e.ignoreCase===void 0&&(e.ignoreCase=!1),e.directories===void 0&&(e.directories=!1),e.recursive===void 0&&(e.recursive=!0),e},Ho=(t,e)=>t.map(i=>k_.relative(e,i)),Yo=t=>{let e=new Error(`Path you want to find stuff in doesn't exist ${t}`);return e.code="ENOENT",e},Qo=t=>{let e=new Error(`Path you want to find stuff in must be a directory ${t}`);return e.code="ENOTDIR",e},M_=(t,e)=>{let i=[],n=$o.create(t,e.matching,e.ignoreCase),r=1/0;return e.recursive===!1&&(r=1),Wo.sync(t,{maxLevelsDeep:r,symlinks:"follow",inspectOptions:{times:!0,absolutePath:!0}},(s,a)=>{a&&s!==t&&n(s)&&(a.type==="file"&&e.files===!0||a.type==="dir"&&e.directories===!0)&&(e.filter?e.filter(a)&&i.push(s):i.push(s))}),i.sort(),Ho(i,e.cwd)},F_=(t,e)=>{let i=Vo.sync(t,{symlinks:"follow"});if(i===void 0)throw Yo(t);if(i.type!=="dir")throw Qo(t);return M_(t,Go(e))},j_=(t,e)=>new Promise((i,n)=>{let r=[],s=$o.create(t,e.matching,e.ignoreCase),a=1/0;e.recursive===!1&&(a=1);let o=0,u=!1,l=()=>{u&&o===0&&(r.sort(),i(Ho(r,e.cwd)))};Wo.async(t,{maxLevelsDeep:a,symlinks:"follow",inspectOptions:{times:!0,absolutePath:!0}},(c,f)=>{if(f&&c!==t&&s(c)&&(f.type==="file"&&e.files===!0||f.type==="dir"&&e.directories===!0))if(e.filter){let _=e.filter(f);typeof _.then=="function"?(o+=1,_.then(x=>{x&&r.push(c),o-=1,l()}).catch(x=>{n(x)})):_&&r.push(c)}else r.push(c)},c=>{c?n(c):(u=!0,l())})}),q_=(t,e)=>Vo.async(t,{symlinks:"follow"}).then(i=>{if(i===void 0)throw Yo(t);if(i.type!=="dir")throw Qo(t);return j_(t,Go(e))});Zi.validateInput=R_;Zi.sync=F_;Zi.async=q_});var eu=I(nn=>{"use strict";var B_=require("crypto"),tn=require("path"),en=ke(),zy=Ki(),Zo=ut(),tu=Qi(),X_=(t,e,i)=>{let n=`${t}(path, [options])`;if(Zo.argument(n,"path",e,["string"]),Zo.options(n,"options",i,{checksum:["string"],relativePath:["boolean"],times:["boolean"],symlinks:["string"]}),i&&i.checksum!==void 0&&en.supportedChecksumAlgorithms.indexOf(i.checksum)===-1)throw new Error(`Argument "options.checksum" passed to ${n} must have one of values: ${en.supportedChecksumAlgorithms.join(", ")}`);if(i&&i.symlinks!==void 0&&en.symlinkOptions.indexOf(i.symlinks)===-1)throw new Error(`Argument "options.symlinks" passed to ${n} must have one of values: ${en.symlinkOptions.join(", ")}`)},U_=(t,e)=>t===void 0?".":t.relativePath+"/"+e.name,z_=(t,e)=>{let i=B_.createHash(e);return t.forEach(n=>{i.update(n.name+n[e])}),i.digest("hex")},Yr=(t,e,i)=>{i.relativePath&&(e.relativePath=U_(t,e)),e.type==="dir"&&(e.children.forEach(n=>{Yr(e,n,i)}),e.size=0,e.children.sort((n,r)=>n.type==="dir"&&r.type==="file"?-1:n.type==="file"&&r.type==="dir"?1:n.name.localeCompare(r.name)),e.children.forEach(n=>{e.size+=n.size||0}),i.checksum&&(e[i.checksum]=z_(e.children,i.checksum)))},Qr=(t,e,i)=>{let n=e[0];if(e.length>1){let r=t.children.find(s=>s.name===n);return Qr(r,e.slice(1),i)}return t},W_=(t,e)=>{let i=e||{},n;return tu.sync(t,{inspectOptions:i},(r,s)=>{if(s){s.type==="dir"&&(s.children=[]);let a=tn.relative(t,r);a===""?n=s:Qr(n,a.split(tn.sep),s).children.push(s)}}),n&&Yr(void 0,n,i),n},V_=(t,e)=>{let i=e||{},n;return new Promise((r,s)=>{tu.async(t,{inspectOptions:i},(a,o)=>{if(o){o.type==="dir"&&(o.children=[]);let u=tn.relative(t,a);u===""?n=o:Qr(n,u.split(tn.sep),o).children.push(o)}},a=>{a?s(a):(n&&Yr(void 0,n,i),r(n))})})};nn.validateInput=X_;nn.sync=W_;nn.async=V_});var sn=I(rn=>{"use strict";var iu=_t(),$_=ut(),K_=(t,e)=>{let i=`${t}(path)`;$_.argument(i,"path",e,["string"])},G_=t=>{try{let e=iu.statSync(t);return e.isDirectory()?"dir":e.isFile()?"file":"other"}catch(e){if(e.code!=="ENOENT")throw e}return!1},H_=t=>new Promise((e,i)=>{iu.stat(t).then(n=>{n.isDirectory()?e("dir"):n.isFile()?e("file"):e("other")}).catch(n=>{n.code==="ENOENT"?e(!1):i(n)})});rn.validateInput=K_;rn.sync=G_;rn.async=H_});var es=I(ln=>{"use strict";var He=require("path"),wt=_t(),Jr=ge(),an=sn(),nu=ke(),Y_=Ve(),Q_=Hr(),ru=Mi(),su=Qi(),Zr=ut(),J_=(t,e,i,n)=>{let r=`${t}(from, to, [options])`;Zr.argument(r,"from",e,["string"]),Zr.argument(r,"to",i,["string"]),Zr.options(r,"options",n,{overwrite:["boolean","function"],matching:["string","array of string"],ignoreCase:["boolean"]})},au=(t,e)=>{let i=t||{},n={};return i.ignoreCase===void 0&&(i.ignoreCase=!1),n.overwrite=i.overwrite,i.matching?n.allowedToCopy=Q_.create(e,i.matching,i.ignoreCase):n.allowedToCopy=()=>!0,n},ou=t=>{let e=new Error(`Path to copy doesn't exist ${t}`);return e.code="ENOENT",e},on=t=>{let e=new Error(`Destination path already exists ${t}`);return e.code="EEXIST",e},un={mode:!0,symlinks:"report",times:!0,absolutePath:!0},uu=t=>typeof t.opts.overwrite!="function"&&t.opts.overwrite!==!0,Z_=(t,e,i)=>{if(!an.sync(t))throw ou(t);if(an.sync(e)&&!i.overwrite)throw on(e)},tg=t=>{if(typeof t.opts.overwrite=="function"){let e=nu.sync(t.destPath,un);return t.opts.overwrite(t.srcInspectData,e)}return t.opts.overwrite===!0},eg=(t,e,i,n)=>{let r=wt.readFileSync(t);try{wt.writeFileSync(e,r,{mode:i,flag:"wx"})}catch(s){if(s.code==="ENOENT")Y_.sync(e,r,{mode:i});else if(s.code==="EEXIST"){if(tg(n))wt.writeFileSync(e,r,{mode:i});else if(uu(n))throw on(n.destPath)}else throw s}},ig=(t,e)=>{let i=wt.readlinkSync(t);try{wt.symlinkSync(i,e)}catch(n){if(n.code==="EEXIST")wt.unlinkSync(e),wt.symlinkSync(i,e);else throw n}},ng=(t,e,i,n)=>{let r={srcPath:t,destPath:i,srcInspectData:e,opts:n},s=ru.normalizeFileMode(e.mode);e.type==="dir"?Jr.createSync(i,{mode:s}):e.type==="file"?eg(t,i,s,r):e.type==="symlink"&&ig(t,i)},rg=(t,e,i)=>{let n=au(i,t);Z_(t,e,n),su.sync(t,{inspectOptions:un},(r,s)=>{let a=He.relative(t,r),o=He.resolve(e,a);n.allowedToCopy(r,o,s)&&ng(r,s,o,n)})},sg=(t,e,i)=>an.async(t).then(n=>{if(n)return an.async(e);throw ou(t)}).then(n=>{if(n&&!i.overwrite)throw on(e)}),ag=t=>new Promise((e,i)=>{typeof t.opts.overwrite=="function"?nu.async(t.destPath,un).then(n=>{e(t.opts.overwrite(t.srcInspectData,n))}).catch(i):e(t.opts.overwrite===!0)}),ts=(t,e,i,n,r)=>new Promise((s,a)=>{let o=r||{},u="wx";o.overwrite&&(u="w");let l=wt.createReadStream(t),c=wt.createWriteStream(e,{mode:i,flags:u});l.on("error",a),c.on("error",f=>{l.resume(),f.code==="ENOENT"?Jr.createAsync(He.dirname(e)).then(()=>{ts(t,e,i,n).then(s,a)}).catch(a):f.code==="EEXIST"?ag(n).then(h=>{h?ts(t,e,i,n,{overwrite:!0}).then(s,a):uu(n)?a(on(e)):s()}).catch(a):a(f)}),c.on("finish",s),l.pipe(c)}),og=(t,e)=>wt.readlink(t).then(i=>new Promise((n,r)=>{wt.symlink(i,e).then(n).catch(s=>{s.code==="EEXIST"?wt.unlink(e).then(()=>wt.symlink(i,e)).then(n,r):r(s)})})),ug=(t,e,i,n)=>{let r={srcPath:t,destPath:i,srcInspectData:e,opts:n},s=ru.normalizeFileMode(e.mode);return e.type==="dir"?Jr.createAsync(i,{mode:s}):e.type==="file"?ts(t,i,s,r):e.type==="symlink"?og(t,i):Promise.resolve()},lg=(t,e,i)=>new Promise((n,r)=>{let s=au(i,t);sg(t,e,s).then(()=>{let a=!1,o=0;su.async(t,{inspectOptions:un},(u,l)=>{if(l){let c=He.relative(t,u),f=He.resolve(e,c);s.allowedToCopy(u,l,f)&&(o+=1,ug(u,l,f,s).then(()=>{o-=1,a&&o===0&&n()}).catch(r))}},u=>{u?r(u):(a=!0,a&&o===0&&n())})}).catch(r)});ln.validateInput=J_;ln.sync=rg;ln.async=lg});var ns=I(fn=>{"use strict";var lu=require("path"),Re=_t(),is=ut(),cu=es(),fu=ge(),Ye=sn(),cn=ji(),cg=(t,e,i,n)=>{let r=`${t}(from, to, [options])`;is.argument(r,"from",e,["string"]),is.argument(r,"to",i,["string"]),is.options(r,"options",n,{overwrite:["boolean"]})},hu=t=>t||{},pu=t=>{let e=new Error(`Destination path already exists ${t}`);return e.code="EEXIST",e},du=t=>{let e=new Error(`Path to move doesn't exist ${t}`);return e.code="ENOENT",e},fg=(t,e,i)=>{let n=hu(i);if(Ye.sync(e)!==!1&&n.overwrite!==!0)throw pu(e);try{Re.renameSync(t,e)}catch(r){if(r.code==="EISDIR"||r.code==="EPERM")cn.sync(e),Re.renameSync(t,e);else if(r.code==="EXDEV")cu.sync(t,e,{overwrite:!0}),cn.sync(t);else if(r.code==="ENOENT"){if(!Ye.sync(t))throw du(t);fu.createSync(lu.dirname(e)),Re.renameSync(t,e)}else throw r}},hg=t=>new Promise((e,i)=>{let n=lu.dirname(t);Ye.async(n).then(r=>{r?i():fu.createAsync(n).then(e,i)}).catch(i)}),pg=(t,e,i)=>{let n=hu(i);return new Promise((r,s)=>{Ye.async(e).then(a=>{a!==!1&&n.overwrite!==!0?s(pu(e)):Re.rename(t,e).then(r).catch(o=>{o.code==="EISDIR"||o.code==="EPERM"?cn.async(e).then(()=>Re.rename(t,e)).then(r,s):o.code==="EXDEV"?cu.async(t,e,{overwrite:!0}).then(()=>cn.async(t)).then(r,s):o.code==="ENOENT"?Ye.async(t).then(u=>{u?hg(e).then(()=>Re.rename(t,e)).then(r,s):s(du(t))}).catch(s):s(o)})})})};fn.validateInput=cg;fn.sync=fg;fn.async=pg});var bu=I(hn=>{"use strict";var _u=_t(),gu=ut(),mu=["utf8","buffer","json","jsonWithDates"],dg=(t,e,i)=>{let n=`${t}(path, returnAs)`;if(gu.argument(n,"path",e,["string"]),gu.argument(n,"returnAs",i,["string","undefined"]),i&&mu.indexOf(i)===-1)throw new Error(`Argument "returnAs" passed to ${n} must have one of values: ${mu.join(", ")}`)},yu=(t,e)=>typeof e=="string"&&/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*))(?:Z|(\+|-)([\d|:]*))?$/.exec(e)?new Date(e):e,vu=(t,e)=>{let i=new Error(`JSON parsing failed while reading ${t} [${e}]`);return i.originalError=e,i},_g=(t,e)=>{let i=e||"utf8",n,r="utf8";i==="buffer"&&(r=null);try{n=_u.readFileSync(t,{encoding:r})}catch(s){if(s.code==="ENOENT")return;throw s}try{i==="json"?n=JSON.parse(n):i==="jsonWithDates"&&(n=JSON.parse(n,yu))}catch(s){throw vu(t,s)}return n},gg=(t,e)=>new Promise((i,n)=>{let r=e||"utf8",s="utf8";r==="buffer"&&(s=null),_u.readFile(t,{encoding:s}).then(a=>{try{i(r==="json"?JSON.parse(a):r==="jsonWithDates"?JSON.parse(a,yu):a)}catch(o){n(vu(t,o))}}).catch(a=>{a.code==="ENOENT"?i(void 0):n(a)})});hn.validateInput=dg;hn.sync=_g;hn.async=gg});var xu=I(pn=>{"use strict";var Qe=require("path"),wu=ns(),rs=ut(),mg=(t,e,i,n)=>{let r=`${t}(path, newName, [options])`;if(rs.argument(r,"path",e,["string"]),rs.argument(r,"newName",i,["string"]),rs.options(r,"options",n,{overwrite:["boolean"]}),Qe.basename(i)!==i)throw new Error(`Argument "newName" passed to ${r} should be a filename, not a path. Received "${i}"`)},yg=(t,e,i)=>{let n=Qe.join(Qe.dirname(t),e);wu.sync(t,n,i)},vg=(t,e,i)=>{let n=Qe.join(Qe.dirname(t),e);return wu.async(t,n,i)};pn.validateInput=mg;pn.sync=yg;pn.async=vg});var Nu=I(_n=>{"use strict";var Eu=require("path"),dn=_t(),Ou=ut(),Tu=ge(),bg=(t,e,i)=>{let n=`${t}(symlinkValue, path)`;Ou.argument(n,"symlinkValue",e,["string"]),Ou.argument(n,"path",i,["string"])},wg=(t,e)=>{try{dn.symlinkSync(t,e)}catch(i){if(i.code==="ENOENT")Tu.createSync(Eu.dirname(e)),dn.symlinkSync(t,e);else throw i}},xg=(t,e)=>new Promise((i,n)=>{dn.symlink(t,e).then(i).catch(r=>{r.code==="ENOENT"?Tu.createAsync(Eu.dirname(e)).then(()=>dn.symlink(t,e)).then(i,n):n(r)})});_n.validateInput=bg;_n.sync=wg;_n.async=xg});var Cu=I(ss=>{"use strict";var Su=require("fs");ss.createWriteStream=Su.createWriteStream;ss.createReadStream=Su.createReadStream});var ku=I(gn=>{"use strict";var as=require("path"),Eg=require("os"),Du=require("crypto"),Pu=ge(),Lu=_t(),Og=ut(),Tg=(t,e)=>{let i=`${t}([options])`;Og.options(i,"options",e,{prefix:["string"],basePath:["string"]})},Au=(t,e)=>{t=t||{};let i={};return typeof t.prefix!="string"?i.prefix="":i.prefix=t.prefix,typeof t.basePath=="string"?i.basePath=as.resolve(e,t.basePath):i.basePath=Eg.tmpdir(),i},Iu=32,Ng=(t,e)=>{let i=Au(e,t),n=Du.randomBytes(Iu/2).toString("hex"),r=as.join(i.basePath,i.prefix+n);try{Lu.mkdirSync(r)}catch(s){if(s.code==="ENOENT")Pu.sync(r);else throw s}return r},Sg=(t,e)=>new Promise((i,n)=>{let r=Au(e,t);Du.randomBytes(Iu/2,(s,a)=>{if(s)n(s);else{let o=a.toString("hex"),u=as.join(r.basePath,r.prefix+o);Lu.mkdir(u,l=>{l?l.code==="ENOENT"?Pu.async(u).then(()=>{i(u)},n):n(l):i(u)})}})});gn.validateInput=Tg;gn.sync=Ng;gn.async=Sg});var qu=I((Zy,ju)=>{"use strict";var Ru=require("util"),os=require("path"),mn=ho(),yn=ge(),vn=mo(),bn=Jo(),wn=ke(),xn=eu(),En=es(),On=sn(),Tn=Ki(),Nn=ns(),Sn=bu(),Cn=ji(),Dn=xu(),Pn=Nu(),Mu=Cu(),Ln=ku(),An=Ve(),Fu=t=>{let e=()=>t||process.cwd(),i=function(){if(arguments.length===0)return e();let o=Array.prototype.slice.call(arguments),u=[e()].concat(o);return Fu(os.resolve.apply(null,u))},n=o=>os.resolve(e(),o),r=function(){return Array.prototype.unshift.call(arguments,e()),os.resolve.apply(null,arguments)},s=o=>{let u=o||{};return u.cwd=e(),u},a={cwd:i,path:r,append:(o,u,l)=>{mn.validateInput("append",o,u,l),mn.sync(n(o),u,l)},appendAsync:(o,u,l)=>(mn.validateInput("appendAsync",o,u,l),mn.async(n(o),u,l)),copy:(o,u,l)=>{En.validateInput("copy",o,u,l),En.sync(n(o),n(u),l)},copyAsync:(o,u,l)=>(En.validateInput("copyAsync",o,u,l),En.async(n(o),n(u),l)),createWriteStream:(o,u)=>Mu.createWriteStream(n(o),u),createReadStream:(o,u)=>Mu.createReadStream(n(o),u),dir:(o,u)=>{yn.validateInput("dir",o,u);let l=n(o);return yn.sync(l,u),i(l)},dirAsync:(o,u)=>(yn.validateInput("dirAsync",o,u),new Promise((l,c)=>{let f=n(o);yn.async(f,u).then(()=>{l(i(f))},c)})),exists:o=>(On.validateInput("exists",o),On.sync(n(o))),existsAsync:o=>(On.validateInput("existsAsync",o),On.async(n(o))),file:(o,u)=>(vn.validateInput("file",o,u),vn.sync(n(o),u),a),fileAsync:(o,u)=>(vn.validateInput("fileAsync",o,u),new Promise((l,c)=>{vn.async(n(o),u).then(()=>{l(a)},c)})),find:(o,u)=>(typeof u=="undefined"&&typeof o=="object"&&(u=o,o="."),bn.validateInput("find",o,u),bn.sync(n(o),s(u))),findAsync:(o,u)=>(typeof u=="undefined"&&typeof o=="object"&&(u=o,o="."),bn.validateInput("findAsync",o,u),bn.async(n(o),s(u))),inspect:(o,u)=>(wn.validateInput("inspect",o,u),wn.sync(n(o),u)),inspectAsync:(o,u)=>(wn.validateInput("inspectAsync",o,u),wn.async(n(o),u)),inspectTree:(o,u)=>(xn.validateInput("inspectTree",o,u),xn.sync(n(o),u)),inspectTreeAsync:(o,u)=>(xn.validateInput("inspectTreeAsync",o,u),xn.async(n(o),u)),list:o=>(Tn.validateInput("list",o),Tn.sync(n(o||"."))),listAsync:o=>(Tn.validateInput("listAsync",o),Tn.async(n(o||"."))),move:(o,u,l)=>{Nn.validateInput("move",o,u,l),Nn.sync(n(o),n(u),l)},moveAsync:(o,u,l)=>(Nn.validateInput("moveAsync",o,u,l),Nn.async(n(o),n(u),l)),read:(o,u)=>(Sn.validateInput("read",o,u),Sn.sync(n(o),u)),readAsync:(o,u)=>(Sn.validateInput("readAsync",o,u),Sn.async(n(o),u)),remove:o=>{Cn.validateInput("remove",o),Cn.sync(n(o||"."))},removeAsync:o=>(Cn.validateInput("removeAsync",o),Cn.async(n(o||"."))),rename:(o,u,l)=>{Dn.validateInput("rename",o,u,l),Dn.sync(n(o),u,l)},renameAsync:(o,u,l)=>(Dn.validateInput("renameAsync",o,u,l),Dn.async(n(o),u,l)),symlink:(o,u)=>{Pn.validateInput("symlink",o,u),Pn.sync(o,n(u))},symlinkAsync:(o,u)=>(Pn.validateInput("symlinkAsync",o,u),Pn.async(o,n(u))),tmpDir:o=>{Ln.validateInput("tmpDir",o);let u=Ln.sync(e(),o);return i(u)},tmpDirAsync:o=>(Ln.validateInput("tmpDirAsync",o),new Promise((u,l)=>{Ln.async(e(),o).then(c=>{u(i(c))},l)})),write:(o,u,l)=>{An.validateInput("write",o,u,l),An.sync(n(o),u,l)},writeAsync:(o,u,l)=>(An.validateInput("writeAsync",o,u,l),An.async(n(o),u,l))};return Ru.inspect.custom!==void 0&&(a[Ru.inspect.custom]=()=>`[fs-jetpack CWD: ${e()}]`),a};ju.exports=Fu});var In=I((t0,Bu)=>{"use strict";var Cg=qu();Bu.exports=Cg()});var kn=I(us=>{(function(){us.defaults={"0.1":{explicitCharkey:!1,trim:!0,normalize:!0,normalizeTags:!1,attrkey:"@",charkey:"#",explicitArray:!1,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!1,validator:null,xmlns:!1,explicitChildren:!1,childkey:"@@",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,emptyTag:""},"0.2":{explicitCharkey:!1,trim:!1,normalize:!1,normalizeTags:!1,attrkey:"$",charkey:"_",explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!0,validator:null,xmlns:!1,explicitChildren:!1,preserveChildrenOrder:!1,childkey:"$$",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:!0},doctype:null,renderOpts:{pretty:!0,indent:"  ",newline:`
`},headless:!1,chunkSize:1e4,emptyTag:"",cdata:!1}}}).call(us)});var Bt=I((Xu,ue)=>{(function(){var t,e,i,n,r,s,a,o=[].slice,u={}.hasOwnProperty;t=function(){var l,c,f,h,_,y;if(y=arguments[0],_=2<=arguments.length?o.call(arguments,1):[],r(Object.assign))Object.assign.apply(null,arguments);else for(l=0,f=_.length;l<f;l++)if(h=_[l],h!=null)for(c in h)!u.call(h,c)||(y[c]=h[c]);return y},r=function(l){return!!l&&Object.prototype.toString.call(l)==="[object Function]"},s=function(l){var c;return!!l&&((c=typeof l)==="function"||c==="object")},i=function(l){return r(Array.isArray)?Array.isArray(l):Object.prototype.toString.call(l)==="[object Array]"},n=function(l){var c;if(i(l))return!l.length;for(c in l)if(!!u.call(l,c))return!1;return!0},a=function(l){var c,f;return s(l)&&(f=Object.getPrototypeOf(l))&&(c=f.constructor)&&typeof c=="function"&&c instanceof c&&Function.prototype.toString.call(c)===Function.prototype.toString.call(Object)},e=function(l){return r(l.valueOf)?l.valueOf():l},ue.exports.assign=t,ue.exports.isFunction=r,ue.exports.isObject=s,ue.exports.isArray=i,ue.exports.isEmpty=n,ue.exports.isPlainObject=a,ue.exports.getValue=e}).call(Xu)});var ls=I((Uu,zu)=>{(function(){var t;zu.exports=t=function(){function e(){}return e.prototype.hasFeature=function(i,n){return!0},e.prototype.createDocumentType=function(i,n,r){throw new Error("This DOM method is not implemented.")},e.prototype.createDocument=function(i,n,r){throw new Error("This DOM method is not implemented.")},e.prototype.createHTMLDocument=function(i){throw new Error("This DOM method is not implemented.")},e.prototype.getFeature=function(i,n){throw new Error("This DOM method is not implemented.")},e}()}).call(Uu)});var $u=I((Wu,Vu)=>{(function(){var t;Vu.exports=t=function(){function e(){}return e.prototype.handleError=function(i){throw new Error(i)},e}()}).call(Wu)});var Hu=I((Ku,Gu)=>{(function(){var t;Gu.exports=t=function(){function e(i){this.arr=i||[]}return Object.defineProperty(e.prototype,"length",{get:function(){return this.arr.length}}),e.prototype.item=function(i){return this.arr[i]||null},e.prototype.contains=function(i){return this.arr.indexOf(i)!==-1},e}()}).call(Ku)});var Ju=I((Yu,Qu)=>{(function(){var t,e,i;e=$u(),i=Hu(),Qu.exports=t=function(){function n(){var r;this.defaultParams={"canonical-form":!1,"cdata-sections":!1,comments:!1,"datatype-normalization":!1,"element-content-whitespace":!0,entities:!0,"error-handler":new e,infoset:!0,"validate-if-schema":!1,namespaces:!0,"namespace-declarations":!0,"normalize-characters":!1,"schema-location":"","schema-type":"","split-cdata-sections":!0,validate:!1,"well-formed":!0},this.params=r=Object.create(this.defaultParams)}return Object.defineProperty(n.prototype,"parameterNames",{get:function(){return new i(Object.keys(this.defaultParams))}}),n.prototype.getParameter=function(r){return this.params.hasOwnProperty(r)?this.params[r]:null},n.prototype.canSetParameter=function(r,s){return!0},n.prototype.setParameter=function(r,s){return s!=null?this.params[r]=s:delete this.params[r]},n}()}).call(Yu)});var tt=I((Zu,tl)=>{(function(){tl.exports={Element:1,Attribute:2,Text:3,CData:4,EntityReference:5,EntityDeclaration:6,ProcessingInstruction:7,Comment:8,Document:9,DocType:10,DocumentFragment:11,NotationDeclaration:12,Declaration:201,Raw:202,AttributeDeclaration:203,ElementDeclaration:204,Dummy:205}}).call(Zu)});var cs=I((el,il)=>{(function(){var t,e,i;t=tt(),i=xt(),il.exports=e=function(){function n(r,s,a){if(this.parent=r,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),s==null)throw new Error("Missing attribute name. "+this.debugInfo(s));this.name=this.stringify.name(s),this.value=this.stringify.attValue(a),this.type=t.Attribute,this.isId=!1,this.schemaTypeInfo=null}return Object.defineProperty(n.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(n.prototype,"ownerElement",{get:function(){return this.parent}}),Object.defineProperty(n.prototype,"textContent",{get:function(){return this.value},set:function(r){return this.value=r||""}}),Object.defineProperty(n.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(n.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(n.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(n.prototype,"specified",{get:function(){return!0}}),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(r){return this.options.writer.attribute(this,this.options.writer.filterOptions(r))},n.prototype.debugInfo=function(r){return r=r||this.name,r==null?"parent: <"+this.parent.name+">":"attribute: {"+r+"}, parent: <"+this.parent.name+">"},n.prototype.isEqualNode=function(r){return!(r.namespaceURI!==this.namespaceURI||r.prefix!==this.prefix||r.localName!==this.localName||r.value!==this.value)},n}()}).call(el)});var Rn=I((nl,rl)=>{(function(){var t;rl.exports=t=function(){function e(i){this.nodes=i}return Object.defineProperty(e.prototype,"length",{get:function(){return Object.keys(this.nodes).length||0}}),e.prototype.clone=function(){return this.nodes=null},e.prototype.getNamedItem=function(i){return this.nodes[i]},e.prototype.setNamedItem=function(i){var n;return n=this.nodes[i.nodeName],this.nodes[i.nodeName]=i,n||null},e.prototype.removeNamedItem=function(i){var n;return n=this.nodes[i],delete this.nodes[i],n||null},e.prototype.item=function(i){return this.nodes[Object.keys(this.nodes)[i]]||null},e.prototype.getNamedItemNS=function(i,n){throw new Error("This DOM method is not implemented.")},e.prototype.setNamedItemNS=function(i){throw new Error("This DOM method is not implemented.")},e.prototype.removeNamedItemNS=function(i,n){throw new Error("This DOM method is not implemented.")},e}()}).call(nl)});var Mn=I((sl,al)=>{(function(){var t,e,i,n,r,s,a,o,u,l=function(f,h){for(var _ in h)c.call(h,_)&&(f[_]=h[_]);function y(){this.constructor=f}return y.prototype=h.prototype,f.prototype=new y,f.__super__=h.prototype,f},c={}.hasOwnProperty;u=Bt(),o=u.isObject,a=u.isFunction,s=u.getValue,r=xt(),t=tt(),e=cs(),n=Rn(),al.exports=i=function(f){l(h,f);function h(_,y,x){var N,T,E,v;if(h.__super__.constructor.call(this,_),y==null)throw new Error("Missing element name. "+this.debugInfo());if(this.name=this.stringify.name(y),this.type=t.Element,this.attribs={},this.schemaTypeInfo=null,x!=null&&this.attribute(x),_.type===t.Document&&(this.isRoot=!0,this.documentObject=_,_.rootObject=this,_.children)){for(v=_.children,T=0,E=v.length;T<E;T++)if(N=v[T],N.type===t.DocType){N.name=this.name;break}}}return Object.defineProperty(h.prototype,"tagName",{get:function(){return this.name}}),Object.defineProperty(h.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(h.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(h.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(h.prototype,"id",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(h.prototype,"className",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(h.prototype,"classList",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(h.prototype,"attributes",{get:function(){return(!this.attributeMap||!this.attributeMap.nodes)&&(this.attributeMap=new n(this.attribs)),this.attributeMap}}),h.prototype.clone=function(){var _,y,x,N;x=Object.create(this),x.isRoot&&(x.documentObject=null),x.attribs={},N=this.attribs;for(y in N)!c.call(N,y)||(_=N[y],x.attribs[y]=_.clone());return x.children=[],this.children.forEach(function(T){var E;return E=T.clone(),E.parent=x,x.children.push(E)}),x},h.prototype.attribute=function(_,y){var x,N;if(_!=null&&(_=s(_)),o(_))for(x in _)!c.call(_,x)||(N=_[x],this.attribute(x,N));else a(y)&&(y=y.apply()),this.options.keepNullAttributes&&y==null?this.attribs[_]=new e(this,_,""):y!=null&&(this.attribs[_]=new e(this,_,y));return this},h.prototype.removeAttribute=function(_){var y,x,N;if(_==null)throw new Error("Missing attribute name. "+this.debugInfo());if(_=s(_),Array.isArray(_))for(x=0,N=_.length;x<N;x++)y=_[x],delete this.attribs[y];else delete this.attribs[_];return this},h.prototype.toString=function(_){return this.options.writer.element(this,this.options.writer.filterOptions(_))},h.prototype.att=function(_,y){return this.attribute(_,y)},h.prototype.a=function(_,y){return this.attribute(_,y)},h.prototype.getAttribute=function(_){return this.attribs.hasOwnProperty(_)?this.attribs[_].value:null},h.prototype.setAttribute=function(_,y){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.getAttributeNode=function(_){return this.attribs.hasOwnProperty(_)?this.attribs[_]:null},h.prototype.setAttributeNode=function(_){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.removeAttributeNode=function(_){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.getElementsByTagName=function(_){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.getAttributeNS=function(_,y){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.setAttributeNS=function(_,y,x){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.removeAttributeNS=function(_,y){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.getAttributeNodeNS=function(_,y){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.setAttributeNodeNS=function(_){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.getElementsByTagNameNS=function(_,y){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.hasAttribute=function(_){return this.attribs.hasOwnProperty(_)},h.prototype.hasAttributeNS=function(_,y){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.setIdAttribute=function(_,y){return this.attribs.hasOwnProperty(_)?this.attribs[_].isId:y},h.prototype.setIdAttributeNS=function(_,y,x){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.setIdAttributeNode=function(_,y){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.getElementsByTagName=function(_){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.getElementsByTagNameNS=function(_,y){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.getElementsByClassName=function(_){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.isEqualNode=function(_){var y,x,N;if(!h.__super__.isEqualNode.apply(this,arguments).isEqualNode(_)||_.namespaceURI!==this.namespaceURI||_.prefix!==this.prefix||_.localName!==this.localName||_.attribs.length!==this.attribs.length)return!1;for(y=x=0,N=this.attribs.length-1;0<=N?x<=N:x>=N;y=0<=N?++x:--x)if(!this.attribs[y].isEqualNode(_.attribs[y]))return!1;return!0},h}(r)}).call(sl)});var Je=I((ol,ul)=>{(function(){var t,e,i=function(r,s){for(var a in s)n.call(s,a)&&(r[a]=s[a]);function o(){this.constructor=r}return o.prototype=s.prototype,r.prototype=new o,r.__super__=s.prototype,r},n={}.hasOwnProperty;e=xt(),ul.exports=t=function(r){i(s,r);function s(a){s.__super__.constructor.call(this,a),this.value=""}return Object.defineProperty(s.prototype,"data",{get:function(){return this.value},set:function(a){return this.value=a||""}}),Object.defineProperty(s.prototype,"length",{get:function(){return this.value.length}}),Object.defineProperty(s.prototype,"textContent",{get:function(){return this.value},set:function(a){return this.value=a||""}}),s.prototype.clone=function(){return Object.create(this)},s.prototype.substringData=function(a,o){throw new Error("This DOM method is not implemented."+this.debugInfo())},s.prototype.appendData=function(a){throw new Error("This DOM method is not implemented."+this.debugInfo())},s.prototype.insertData=function(a,o){throw new Error("This DOM method is not implemented."+this.debugInfo())},s.prototype.deleteData=function(a,o){throw new Error("This DOM method is not implemented."+this.debugInfo())},s.prototype.replaceData=function(a,o,u){throw new Error("This DOM method is not implemented."+this.debugInfo())},s.prototype.isEqualNode=function(a){return!(!s.__super__.isEqualNode.apply(this,arguments).isEqualNode(a)||a.data!==this.data)},s}(e)}).call(ol)});var Fn=I((ll,cl)=>{(function(){var t,e,i,n=function(s,a){for(var o in a)r.call(a,o)&&(s[o]=a[o]);function u(){this.constructor=s}return u.prototype=a.prototype,s.prototype=new u,s.__super__=a.prototype,s},r={}.hasOwnProperty;t=tt(),i=Je(),cl.exports=e=function(s){n(a,s);function a(o,u){if(a.__super__.constructor.call(this,o),u==null)throw new Error("Missing CDATA text. "+this.debugInfo());this.name="#cdata-section",this.type=t.CData,this.value=this.stringify.cdata(u)}return a.prototype.clone=function(){return Object.create(this)},a.prototype.toString=function(o){return this.options.writer.cdata(this,this.options.writer.filterOptions(o))},a}(i)}).call(ll)});var jn=I((fl,hl)=>{(function(){var t,e,i,n=function(s,a){for(var o in a)r.call(a,o)&&(s[o]=a[o]);function u(){this.constructor=s}return u.prototype=a.prototype,s.prototype=new u,s.__super__=a.prototype,s},r={}.hasOwnProperty;t=tt(),e=Je(),hl.exports=i=function(s){n(a,s);function a(o,u){if(a.__super__.constructor.call(this,o),u==null)throw new Error("Missing comment text. "+this.debugInfo());this.name="#comment",this.type=t.Comment,this.value=this.stringify.comment(u)}return a.prototype.clone=function(){return Object.create(this)},a.prototype.toString=function(o){return this.options.writer.comment(this,this.options.writer.filterOptions(o))},a}(e)}).call(fl)});var qn=I((pl,dl)=>{(function(){var t,e,i,n,r=function(a,o){for(var u in o)s.call(o,u)&&(a[u]=o[u]);function l(){this.constructor=a}return l.prototype=o.prototype,a.prototype=new l,a.__super__=o.prototype,a},s={}.hasOwnProperty;n=Bt().isObject,i=xt(),t=tt(),dl.exports=e=function(a){r(o,a);function o(u,l,c,f){var h;o.__super__.constructor.call(this,u),n(l)&&(h=l,l=h.version,c=h.encoding,f=h.standalone),l||(l="1.0"),this.type=t.Declaration,this.version=this.stringify.xmlVersion(l),c!=null&&(this.encoding=this.stringify.xmlEncoding(c)),f!=null&&(this.standalone=this.stringify.xmlStandalone(f))}return o.prototype.toString=function(u){return this.options.writer.declaration(this,this.options.writer.filterOptions(u))},o}(i)}).call(pl)});var Bn=I((_l,gl)=>{(function(){var t,e,i,n=function(s,a){for(var o in a)r.call(a,o)&&(s[o]=a[o]);function u(){this.constructor=s}return u.prototype=a.prototype,s.prototype=new u,s.__super__=a.prototype,s},r={}.hasOwnProperty;i=xt(),t=tt(),gl.exports=e=function(s){n(a,s);function a(o,u,l,c,f,h){if(a.__super__.constructor.call(this,o),u==null)throw new Error("Missing DTD element name. "+this.debugInfo());if(l==null)throw new Error("Missing DTD attribute name. "+this.debugInfo(u));if(!c)throw new Error("Missing DTD attribute type. "+this.debugInfo(u));if(!f)throw new Error("Missing DTD attribute default. "+this.debugInfo(u));if(f.indexOf("#")!==0&&(f="#"+f),!f.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(u));if(h&&!f.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(u));this.elementName=this.stringify.name(u),this.type=t.AttributeDeclaration,this.attributeName=this.stringify.name(l),this.attributeType=this.stringify.dtdAttType(c),h&&(this.defaultValue=this.stringify.dtdAttDefault(h)),this.defaultValueType=f}return a.prototype.toString=function(o){return this.options.writer.dtdAttList(this,this.options.writer.filterOptions(o))},a}(i)}).call(_l)});var Xn=I((ml,yl)=>{(function(){var t,e,i,n,r=function(a,o){for(var u in o)s.call(o,u)&&(a[u]=o[u]);function l(){this.constructor=a}return l.prototype=o.prototype,a.prototype=new l,a.__super__=o.prototype,a},s={}.hasOwnProperty;n=Bt().isObject,i=xt(),t=tt(),yl.exports=e=function(a){r(o,a);function o(u,l,c,f){if(o.__super__.constructor.call(this,u),c==null)throw new Error("Missing DTD entity name. "+this.debugInfo(c));if(f==null)throw new Error("Missing DTD entity value. "+this.debugInfo(c));if(this.pe=!!l,this.name=this.stringify.name(c),this.type=t.EntityDeclaration,!n(f))this.value=this.stringify.dtdEntityValue(f),this.internal=!0;else{if(!f.pubID&&!f.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(c));if(f.pubID&&!f.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(c));if(this.internal=!1,f.pubID!=null&&(this.pubID=this.stringify.dtdPubID(f.pubID)),f.sysID!=null&&(this.sysID=this.stringify.dtdSysID(f.sysID)),f.nData!=null&&(this.nData=this.stringify.dtdNData(f.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(c))}}return Object.defineProperty(o.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(o.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(o.prototype,"notationName",{get:function(){return this.nData||null}}),Object.defineProperty(o.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(o.prototype,"xmlEncoding",{get:function(){return null}}),Object.defineProperty(o.prototype,"xmlVersion",{get:function(){return null}}),o.prototype.toString=function(u){return this.options.writer.dtdEntity(this,this.options.writer.filterOptions(u))},o}(i)}).call(ml)});var Un=I((vl,bl)=>{(function(){var t,e,i,n=function(s,a){for(var o in a)r.call(a,o)&&(s[o]=a[o]);function u(){this.constructor=s}return u.prototype=a.prototype,s.prototype=new u,s.__super__=a.prototype,s},r={}.hasOwnProperty;i=xt(),t=tt(),bl.exports=e=function(s){n(a,s);function a(o,u,l){if(a.__super__.constructor.call(this,o),u==null)throw new Error("Missing DTD element name. "+this.debugInfo());l||(l="(#PCDATA)"),Array.isArray(l)&&(l="("+l.join(",")+")"),this.name=this.stringify.name(u),this.type=t.ElementDeclaration,this.value=this.stringify.dtdElementValue(l)}return a.prototype.toString=function(o){return this.options.writer.dtdElement(this,this.options.writer.filterOptions(o))},a}(i)}).call(vl)});var zn=I((wl,xl)=>{(function(){var t,e,i,n=function(s,a){for(var o in a)r.call(a,o)&&(s[o]=a[o]);function u(){this.constructor=s}return u.prototype=a.prototype,s.prototype=new u,s.__super__=a.prototype,s},r={}.hasOwnProperty;i=xt(),t=tt(),xl.exports=e=function(s){n(a,s);function a(o,u,l){if(a.__super__.constructor.call(this,o),u==null)throw new Error("Missing DTD notation name. "+this.debugInfo(u));if(!l.pubID&&!l.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(u));this.name=this.stringify.name(u),this.type=t.NotationDeclaration,l.pubID!=null&&(this.pubID=this.stringify.dtdPubID(l.pubID)),l.sysID!=null&&(this.sysID=this.stringify.dtdSysID(l.sysID))}return Object.defineProperty(a.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(a.prototype,"systemId",{get:function(){return this.sysID}}),a.prototype.toString=function(o){return this.options.writer.dtdNotation(this,this.options.writer.filterOptions(o))},a}(i)}).call(wl)});var Wn=I((El,Ol)=>{(function(){var t,e,i,n,r,s,a,o,u,l=function(f,h){for(var _ in h)c.call(h,_)&&(f[_]=h[_]);function y(){this.constructor=f}return y.prototype=h.prototype,f.prototype=new y,f.__super__=h.prototype,f},c={}.hasOwnProperty;u=Bt().isObject,o=xt(),t=tt(),e=Bn(),n=Xn(),i=Un(),r=zn(),a=Rn(),Ol.exports=s=function(f){l(h,f);function h(_,y,x){var N,T,E,v,p,d;if(h.__super__.constructor.call(this,_),this.type=t.DocType,_.children){for(v=_.children,T=0,E=v.length;T<E;T++)if(N=v[T],N.type===t.Element){this.name=N.name;break}}this.documentObject=_,u(y)&&(p=y,y=p.pubID,x=p.sysID),x==null&&(d=[y,x],x=d[0],y=d[1]),y!=null&&(this.pubID=this.stringify.dtdPubID(y)),x!=null&&(this.sysID=this.stringify.dtdSysID(x))}return Object.defineProperty(h.prototype,"entities",{get:function(){var _,y,x,N,T;for(N={},T=this.children,y=0,x=T.length;y<x;y++)_=T[y],_.type===t.EntityDeclaration&&!_.pe&&(N[_.name]=_);return new a(N)}}),Object.defineProperty(h.prototype,"notations",{get:function(){var _,y,x,N,T;for(N={},T=this.children,y=0,x=T.length;y<x;y++)_=T[y],_.type===t.NotationDeclaration&&(N[_.name]=_);return new a(N)}}),Object.defineProperty(h.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(h.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(h.prototype,"internalSubset",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),h.prototype.element=function(_,y){var x;return x=new i(this,_,y),this.children.push(x),this},h.prototype.attList=function(_,y,x,N,T){var E;return E=new e(this,_,y,x,N,T),this.children.push(E),this},h.prototype.entity=function(_,y){var x;return x=new n(this,!1,_,y),this.children.push(x),this},h.prototype.pEntity=function(_,y){var x;return x=new n(this,!0,_,y),this.children.push(x),this},h.prototype.notation=function(_,y){var x;return x=new r(this,_,y),this.children.push(x),this},h.prototype.toString=function(_){return this.options.writer.docType(this,this.options.writer.filterOptions(_))},h.prototype.ele=function(_,y){return this.element(_,y)},h.prototype.att=function(_,y,x,N,T){return this.attList(_,y,x,N,T)},h.prototype.ent=function(_,y){return this.entity(_,y)},h.prototype.pent=function(_,y){return this.pEntity(_,y)},h.prototype.not=function(_,y){return this.notation(_,y)},h.prototype.up=function(){return this.root()||this.documentObject},h.prototype.isEqualNode=function(_){return!(!h.__super__.isEqualNode.apply(this,arguments).isEqualNode(_)||_.name!==this.name||_.publicId!==this.publicId||_.systemId!==this.systemId)},h}(o)}).call(El)});var Vn=I((Tl,Nl)=>{(function(){var t,e,i,n=function(s,a){for(var o in a)r.call(a,o)&&(s[o]=a[o]);function u(){this.constructor=s}return u.prototype=a.prototype,s.prototype=new u,s.__super__=a.prototype,s},r={}.hasOwnProperty;t=tt(),e=xt(),Nl.exports=i=function(s){n(a,s);function a(o,u){if(a.__super__.constructor.call(this,o),u==null)throw new Error("Missing raw text. "+this.debugInfo());this.type=t.Raw,this.value=this.stringify.raw(u)}return a.prototype.clone=function(){return Object.create(this)},a.prototype.toString=function(o){return this.options.writer.raw(this,this.options.writer.filterOptions(o))},a}(e)}).call(Tl)});var $n=I((Sl,Cl)=>{(function(){var t,e,i,n=function(s,a){for(var o in a)r.call(a,o)&&(s[o]=a[o]);function u(){this.constructor=s}return u.prototype=a.prototype,s.prototype=new u,s.__super__=a.prototype,s},r={}.hasOwnProperty;t=tt(),e=Je(),Cl.exports=i=function(s){n(a,s);function a(o,u){if(a.__super__.constructor.call(this,o),u==null)throw new Error("Missing element text. "+this.debugInfo());this.name="#text",this.type=t.Text,this.value=this.stringify.text(u)}return Object.defineProperty(a.prototype,"isElementContentWhitespace",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(a.prototype,"wholeText",{get:function(){var o,u,l;for(l="",u=this.previousSibling;u;)l=u.data+l,u=u.previousSibling;for(l+=this.data,o=this.nextSibling;o;)l=l+o.data,o=o.nextSibling;return l}}),a.prototype.clone=function(){return Object.create(this)},a.prototype.toString=function(o){return this.options.writer.text(this,this.options.writer.filterOptions(o))},a.prototype.splitText=function(o){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.replaceWholeText=function(o){throw new Error("This DOM method is not implemented."+this.debugInfo())},a}(e)}).call(Sl)});var Kn=I((Dl,Pl)=>{(function(){var t,e,i,n=function(s,a){for(var o in a)r.call(a,o)&&(s[o]=a[o]);function u(){this.constructor=s}return u.prototype=a.prototype,s.prototype=new u,s.__super__=a.prototype,s},r={}.hasOwnProperty;t=tt(),e=Je(),Pl.exports=i=function(s){n(a,s);function a(o,u,l){if(a.__super__.constructor.call(this,o),u==null)throw new Error("Missing instruction target. "+this.debugInfo());this.type=t.ProcessingInstruction,this.target=this.stringify.insTarget(u),this.name=this.target,l&&(this.value=this.stringify.insValue(l))}return a.prototype.clone=function(){return Object.create(this)},a.prototype.toString=function(o){return this.options.writer.processingInstruction(this,this.options.writer.filterOptions(o))},a.prototype.isEqualNode=function(o){return!(!a.__super__.isEqualNode.apply(this,arguments).isEqualNode(o)||o.target!==this.target)},a}(e)}).call(Dl)});var fs=I((Ll,Al)=>{(function(){var t,e,i,n=function(s,a){for(var o in a)r.call(a,o)&&(s[o]=a[o]);function u(){this.constructor=s}return u.prototype=a.prototype,s.prototype=new u,s.__super__=a.prototype,s},r={}.hasOwnProperty;i=xt(),t=tt(),Al.exports=e=function(s){n(a,s);function a(o){a.__super__.constructor.call(this,o),this.type=t.Dummy}return a.prototype.clone=function(){return Object.create(this)},a.prototype.toString=function(o){return""},a}(i)}).call(Ll)});var Rl=I((Il,kl)=>{(function(){var t;kl.exports=t=function(){function e(i){this.nodes=i}return Object.defineProperty(e.prototype,"length",{get:function(){return this.nodes.length||0}}),e.prototype.clone=function(){return this.nodes=null},e.prototype.item=function(i){return this.nodes[i]||null},e}()}).call(Il)});var jl=I((Ml,Fl)=>{(function(){Fl.exports={Disconnected:1,Preceding:2,Following:4,Contains:8,ContainedBy:16,ImplementationSpecific:32}}).call(Ml)});var xt=I((ql,Bl)=>{(function(){var t,e,i,n,r,s,a,o,u,l,c,f,h,_,y,x,N,T,E,v={}.hasOwnProperty;E=Bt(),T=E.isObject,N=E.isFunction,x=E.isEmpty,y=E.getValue,o=null,i=null,n=null,r=null,s=null,h=null,_=null,f=null,a=null,e=null,c=null,u=null,t=null,Bl.exports=l=function(){function p(d){this.parent=d,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.value=null,this.children=[],this.baseURI=null,o||(o=Mn(),i=Fn(),n=jn(),r=qn(),s=Wn(),h=Vn(),_=$n(),f=Kn(),a=fs(),e=tt(),c=Rl(),u=Rn(),t=jl())}return Object.defineProperty(p.prototype,"nodeName",{get:function(){return this.name}}),Object.defineProperty(p.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(p.prototype,"nodeValue",{get:function(){return this.value}}),Object.defineProperty(p.prototype,"parentNode",{get:function(){return this.parent}}),Object.defineProperty(p.prototype,"childNodes",{get:function(){return(!this.childNodeList||!this.childNodeList.nodes)&&(this.childNodeList=new c(this.children)),this.childNodeList}}),Object.defineProperty(p.prototype,"firstChild",{get:function(){return this.children[0]||null}}),Object.defineProperty(p.prototype,"lastChild",{get:function(){return this.children[this.children.length-1]||null}}),Object.defineProperty(p.prototype,"previousSibling",{get:function(){var d;return d=this.parent.children.indexOf(this),this.parent.children[d-1]||null}}),Object.defineProperty(p.prototype,"nextSibling",{get:function(){var d;return d=this.parent.children.indexOf(this),this.parent.children[d+1]||null}}),Object.defineProperty(p.prototype,"ownerDocument",{get:function(){return this.document()||null}}),Object.defineProperty(p.prototype,"textContent",{get:function(){var d,w,S,m,D;if(this.nodeType===e.Element||this.nodeType===e.DocumentFragment){for(D="",m=this.children,w=0,S=m.length;w<S;w++)d=m[w],d.textContent&&(D+=d.textContent);return D}else return null},set:function(d){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),p.prototype.setParent=function(d){var w,S,m,D,O;for(this.parent=d,d&&(this.options=d.options,this.stringify=d.stringify),D=this.children,O=[],S=0,m=D.length;S<m;S++)w=D[S],O.push(w.setParent(this));return O},p.prototype.element=function(d,w,S){var m,D,O,P,k,R,B,W,M,Y,V;if(R=null,w===null&&S==null&&(M=[{},null],w=M[0],S=M[1]),w==null&&(w={}),w=y(w),T(w)||(Y=[w,S],S=Y[0],w=Y[1]),d!=null&&(d=y(d)),Array.isArray(d))for(O=0,B=d.length;O<B;O++)D=d[O],R=this.element(D);else if(N(d))R=this.element(d.apply());else if(T(d)){for(k in d)if(!!v.call(d,k))if(V=d[k],N(V)&&(V=V.apply()),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&k.indexOf(this.stringify.convertAttKey)===0)R=this.attribute(k.substr(this.stringify.convertAttKey.length),V);else if(!this.options.separateArrayItems&&Array.isArray(V)&&x(V))R=this.dummy();else if(T(V)&&x(V))R=this.element(k);else if(!this.options.keepNullNodes&&V==null)R=this.dummy();else if(!this.options.separateArrayItems&&Array.isArray(V))for(P=0,W=V.length;P<W;P++)D=V[P],m={},m[k]=D,R=this.element(m);else T(V)?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&k.indexOf(this.stringify.convertTextKey)===0?R=this.element(V):(R=this.element(k),R.element(V)):R=this.element(k,V)}else!this.options.keepNullNodes&&S===null?R=this.dummy():!this.options.ignoreDecorators&&this.stringify.convertTextKey&&d.indexOf(this.stringify.convertTextKey)===0?R=this.text(S):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&d.indexOf(this.stringify.convertCDataKey)===0?R=this.cdata(S):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&d.indexOf(this.stringify.convertCommentKey)===0?R=this.comment(S):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&d.indexOf(this.stringify.convertRawKey)===0?R=this.raw(S):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&d.indexOf(this.stringify.convertPIKey)===0?R=this.instruction(d.substr(this.stringify.convertPIKey.length),S):R=this.node(d,w,S);if(R==null)throw new Error("Could not create any elements with: "+d+". "+this.debugInfo());return R},p.prototype.insertBefore=function(d,w,S){var m,D,O,P,k;if(d!=null?d.type:void 0)return O=d,P=w,O.setParent(this),P?(D=children.indexOf(P),k=children.splice(D),children.push(O),Array.prototype.push.apply(children,k)):children.push(O),O;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(d));return D=this.parent.children.indexOf(this),k=this.parent.children.splice(D),m=this.parent.element(d,w,S),Array.prototype.push.apply(this.parent.children,k),m},p.prototype.insertAfter=function(d,w,S){var m,D,O;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(d));return D=this.parent.children.indexOf(this),O=this.parent.children.splice(D+1),m=this.parent.element(d,w,S),Array.prototype.push.apply(this.parent.children,O),m},p.prototype.remove=function(){var d,w;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return d=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[d,d-d+1].concat(w=[])),this.parent},p.prototype.node=function(d,w,S){var m,D;return d!=null&&(d=y(d)),w||(w={}),w=y(w),T(w)||(D=[w,S],S=D[0],w=D[1]),m=new o(this,d,w),S!=null&&m.text(S),this.children.push(m),m},p.prototype.text=function(d){var w;return T(d)&&this.element(d),w=new _(this,d),this.children.push(w),this},p.prototype.cdata=function(d){var w;return w=new i(this,d),this.children.push(w),this},p.prototype.comment=function(d){var w;return w=new n(this,d),this.children.push(w),this},p.prototype.commentBefore=function(d){var w,S,m;return S=this.parent.children.indexOf(this),m=this.parent.children.splice(S),w=this.parent.comment(d),Array.prototype.push.apply(this.parent.children,m),this},p.prototype.commentAfter=function(d){var w,S,m;return S=this.parent.children.indexOf(this),m=this.parent.children.splice(S+1),w=this.parent.comment(d),Array.prototype.push.apply(this.parent.children,m),this},p.prototype.raw=function(d){var w;return w=new h(this,d),this.children.push(w),this},p.prototype.dummy=function(){var d;return d=new a(this),d},p.prototype.instruction=function(d,w){var S,m,D,O,P;if(d!=null&&(d=y(d)),w!=null&&(w=y(w)),Array.isArray(d))for(O=0,P=d.length;O<P;O++)S=d[O],this.instruction(S);else if(T(d))for(S in d)!v.call(d,S)||(m=d[S],this.instruction(S,m));else N(w)&&(w=w.apply()),D=new f(this,d,w),this.children.push(D);return this},p.prototype.instructionBefore=function(d,w){var S,m,D;return m=this.parent.children.indexOf(this),D=this.parent.children.splice(m),S=this.parent.instruction(d,w),Array.prototype.push.apply(this.parent.children,D),this},p.prototype.instructionAfter=function(d,w){var S,m,D;return m=this.parent.children.indexOf(this),D=this.parent.children.splice(m+1),S=this.parent.instruction(d,w),Array.prototype.push.apply(this.parent.children,D),this},p.prototype.declaration=function(d,w,S){var m,D;return m=this.document(),D=new r(m,d,w,S),m.children.length===0?m.children.unshift(D):m.children[0].type===e.Declaration?m.children[0]=D:m.children.unshift(D),m.root()||m},p.prototype.dtd=function(d,w){var S,m,D,O,P,k,R,B,W,M;for(m=this.document(),D=new s(m,d,w),W=m.children,O=P=0,R=W.length;P<R;O=++P)if(S=W[O],S.type===e.DocType)return m.children[O]=D,D;for(M=m.children,O=k=0,B=M.length;k<B;O=++k)if(S=M[O],S.isRoot)return m.children.splice(O,0,D),D;return m.children.push(D),D},p.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},p.prototype.root=function(){var d;for(d=this;d;){if(d.type===e.Document)return d.rootObject;if(d.isRoot)return d;d=d.parent}},p.prototype.document=function(){var d;for(d=this;d;){if(d.type===e.Document)return d;d=d.parent}},p.prototype.end=function(d){return this.document().end(d)},p.prototype.prev=function(){var d;if(d=this.parent.children.indexOf(this),d<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[d-1]},p.prototype.next=function(){var d;if(d=this.parent.children.indexOf(this),d===-1||d===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[d+1]},p.prototype.importDocument=function(d){var w;return w=d.root().clone(),w.parent=this,w.isRoot=!1,this.children.push(w),this},p.prototype.debugInfo=function(d){var w,S;return d=d||this.name,d==null&&!((w=this.parent)!=null?w.name:void 0)?"":d==null?"parent: <"+this.parent.name+">":((S=this.parent)!=null?S.name:void 0)?"node: <"+d+">, parent: <"+this.parent.name+">":"node: <"+d+">"},p.prototype.ele=function(d,w,S){return this.element(d,w,S)},p.prototype.nod=function(d,w,S){return this.node(d,w,S)},p.prototype.txt=function(d){return this.text(d)},p.prototype.dat=function(d){return this.cdata(d)},p.prototype.com=function(d){return this.comment(d)},p.prototype.ins=function(d,w){return this.instruction(d,w)},p.prototype.doc=function(){return this.document()},p.prototype.dec=function(d,w,S){return this.declaration(d,w,S)},p.prototype.e=function(d,w,S){return this.element(d,w,S)},p.prototype.n=function(d,w,S){return this.node(d,w,S)},p.prototype.t=function(d){return this.text(d)},p.prototype.d=function(d){return this.cdata(d)},p.prototype.c=function(d){return this.comment(d)},p.prototype.r=function(d){return this.raw(d)},p.prototype.i=function(d,w){return this.instruction(d,w)},p.prototype.u=function(){return this.up()},p.prototype.importXMLBuilder=function(d){return this.importDocument(d)},p.prototype.replaceChild=function(d,w){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.removeChild=function(d){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.appendChild=function(d){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.hasChildNodes=function(){return this.children.length!==0},p.prototype.cloneNode=function(d){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.normalize=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.isSupported=function(d,w){return!0},p.prototype.hasAttributes=function(){return this.attribs.length!==0},p.prototype.compareDocumentPosition=function(d){var w,S;return w=this,w===d?0:this.document()!==d.document()?(S=t.Disconnected|t.ImplementationSpecific,Math.random()<.5?S|=t.Preceding:S|=t.Following,S):w.isAncestor(d)?t.Contains|t.Preceding:w.isDescendant(d)?t.Contains|t.Following:w.isPreceding(d)?t.Preceding:t.Following},p.prototype.isSameNode=function(d){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.lookupPrefix=function(d){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.isDefaultNamespace=function(d){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.lookupNamespaceURI=function(d){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.isEqualNode=function(d){var w,S,m;if(d.nodeType!==this.nodeType||d.children.length!==this.children.length)return!1;for(w=S=0,m=this.children.length-1;0<=m?S<=m:S>=m;w=0<=m?++S:--S)if(!this.children[w].isEqualNode(d.children[w]))return!1;return!0},p.prototype.getFeature=function(d,w){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.setUserData=function(d,w,S){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.getUserData=function(d){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.contains=function(d){return d?d===this||this.isDescendant(d):!1},p.prototype.isDescendant=function(d){var w,S,m,D,O;for(O=this.children,m=0,D=O.length;m<D;m++)if(w=O[m],d===w||(S=w.isDescendant(d),S))return!0;return!1},p.prototype.isAncestor=function(d){return d.isDescendant(this)},p.prototype.isPreceding=function(d){var w,S;return w=this.treePosition(d),S=this.treePosition(this),w===-1||S===-1?!1:w<S},p.prototype.isFollowing=function(d){var w,S;return w=this.treePosition(d),S=this.treePosition(this),w===-1||S===-1?!1:w>S},p.prototype.treePosition=function(d){var w,S;return S=0,w=!1,this.foreachTreeNode(this.document(),function(m){if(S++,!w&&m===d)return w=!0}),w?S:-1},p.prototype.foreachTreeNode=function(d,w){var S,m,D,O,P;for(d||(d=this.document()),O=d.children,m=0,D=O.length;m<D;m++){if(S=O[m],P=w(S))return P;if(P=this.foreachTreeNode(S,w),P)return P}},p}()}).call(ql)});var hs=I((Xl,Ul)=>{(function(){var t,e=function(n,r){return function(){return n.apply(r,arguments)}},i={}.hasOwnProperty;Ul.exports=t=function(){function n(r){this.assertLegalName=e(this.assertLegalName,this),this.assertLegalChar=e(this.assertLegalChar,this);var s,a,o;r||(r={}),this.options=r,this.options.version||(this.options.version="1.0"),a=r.stringify||{};for(s in a)!i.call(a,s)||(o=a[s],this[s]=o)}return n.prototype.name=function(r){return this.options.noValidation?r:this.assertLegalName(""+r||"")},n.prototype.text=function(r){return this.options.noValidation?r:this.assertLegalChar(this.textEscape(""+r||""))},n.prototype.cdata=function(r){return this.options.noValidation?r:(r=""+r||"",r=r.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(r))},n.prototype.comment=function(r){if(this.options.noValidation)return r;if(r=""+r||"",r.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+r);return this.assertLegalChar(r)},n.prototype.raw=function(r){return this.options.noValidation?r:""+r||""},n.prototype.attValue=function(r){return this.options.noValidation?r:this.assertLegalChar(this.attEscape(r=""+r||""))},n.prototype.insTarget=function(r){return this.options.noValidation?r:this.assertLegalChar(""+r||"")},n.prototype.insValue=function(r){if(this.options.noValidation)return r;if(r=""+r||"",r.match(/\?>/))throw new Error("Invalid processing instruction value: "+r);return this.assertLegalChar(r)},n.prototype.xmlVersion=function(r){if(this.options.noValidation)return r;if(r=""+r||"",!r.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+r);return r},n.prototype.xmlEncoding=function(r){if(this.options.noValidation)return r;if(r=""+r||"",!r.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+r);return this.assertLegalChar(r)},n.prototype.xmlStandalone=function(r){return this.options.noValidation?r:r?"yes":"no"},n.prototype.dtdPubID=function(r){return this.options.noValidation?r:this.assertLegalChar(""+r||"")},n.prototype.dtdSysID=function(r){return this.options.noValidation?r:this.assertLegalChar(""+r||"")},n.prototype.dtdElementValue=function(r){return this.options.noValidation?r:this.assertLegalChar(""+r||"")},n.prototype.dtdAttType=function(r){return this.options.noValidation?r:this.assertLegalChar(""+r||"")},n.prototype.dtdAttDefault=function(r){return this.options.noValidation?r:this.assertLegalChar(""+r||"")},n.prototype.dtdEntityValue=function(r){return this.options.noValidation?r:this.assertLegalChar(""+r||"")},n.prototype.dtdNData=function(r){return this.options.noValidation?r:this.assertLegalChar(""+r||"")},n.prototype.convertAttKey="@",n.prototype.convertPIKey="?",n.prototype.convertTextKey="#text",n.prototype.convertCDataKey="#cdata",n.prototype.convertCommentKey="#comment",n.prototype.convertRawKey="#raw",n.prototype.assertLegalChar=function(r){var s,a;if(this.options.noValidation)return r;if(s="",this.options.version==="1.0"){if(s=/[\0-\x08\x0B\f\x0E-\x1F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,a=r.match(s))throw new Error("Invalid character in string: "+r+" at index "+a.index)}else if(this.options.version==="1.1"&&(s=/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,a=r.match(s)))throw new Error("Invalid character in string: "+r+" at index "+a.index);return r},n.prototype.assertLegalName=function(r){var s;if(this.options.noValidation)return r;if(this.assertLegalChar(r),s=/^([:A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])([\x2D\.0-:A-Z_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*$/,!r.match(s))throw new Error("Invalid character in name");return r},n.prototype.textEscape=function(r){var s;return this.options.noValidation?r:(s=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,r.replace(s,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;"))},n.prototype.attEscape=function(r){var s;return this.options.noValidation?r:(s=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,r.replace(s,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;"))},n}()}).call(Xl)});var Ze=I((zl,Wl)=>{(function(){Wl.exports={None:0,OpenTag:1,InsideTag:2,CloseTag:3}}).call(zl)});var ps=I((Vl,$l)=>{(function(){var t,e,i,n,r,s,a,o,u,l,c,f,h,_,y,x,N,T={}.hasOwnProperty;N=Bt().assign,t=tt(),u=qn(),l=Wn(),i=Fn(),n=jn(),f=Mn(),_=Vn(),y=$n(),h=Kn(),c=fs(),r=Bn(),s=Un(),a=Xn(),o=zn(),e=Ze(),$l.exports=x=function(){function E(v){var p,d,w;v||(v={}),this.options=v,d=v.writer||{};for(p in d)!T.call(d,p)||(w=d[p],this["_"+p]=this[p],this[p]=w)}return E.prototype.filterOptions=function(v){var p,d,w,S,m,D,O,P;return v||(v={}),v=N({},this.options,v),p={writer:this},p.pretty=v.pretty||!1,p.allowEmpty=v.allowEmpty||!1,p.indent=(d=v.indent)!=null?d:"  ",p.newline=(w=v.newline)!=null?w:`
`,p.offset=(S=v.offset)!=null?S:0,p.dontPrettyTextNodes=(m=(D=v.dontPrettyTextNodes)!=null?D:v.dontprettytextnodes)!=null?m:0,p.spaceBeforeSlash=(O=(P=v.spaceBeforeSlash)!=null?P:v.spacebeforeslash)!=null?O:"",p.spaceBeforeSlash===!0&&(p.spaceBeforeSlash=" "),p.suppressPrettyCount=0,p.user={},p.state=e.None,p},E.prototype.indent=function(v,p,d){var w;return!p.pretty||p.suppressPrettyCount?"":p.pretty&&(w=(d||0)+p.offset+1,w>0)?new Array(w).join(p.indent):""},E.prototype.endline=function(v,p,d){return!p.pretty||p.suppressPrettyCount?"":p.newline},E.prototype.attribute=function(v,p,d){var w;return this.openAttribute(v,p,d),w=" "+v.name+'="'+v.value+'"',this.closeAttribute(v,p,d),w},E.prototype.cdata=function(v,p,d){var w;return this.openNode(v,p,d),p.state=e.OpenTag,w=this.indent(v,p,d)+"<![CDATA[",p.state=e.InsideTag,w+=v.value,p.state=e.CloseTag,w+="]]>"+this.endline(v,p,d),p.state=e.None,this.closeNode(v,p,d),w},E.prototype.comment=function(v,p,d){var w;return this.openNode(v,p,d),p.state=e.OpenTag,w=this.indent(v,p,d)+"<!-- ",p.state=e.InsideTag,w+=v.value,p.state=e.CloseTag,w+=" -->"+this.endline(v,p,d),p.state=e.None,this.closeNode(v,p,d),w},E.prototype.declaration=function(v,p,d){var w;return this.openNode(v,p,d),p.state=e.OpenTag,w=this.indent(v,p,d)+"<?xml",p.state=e.InsideTag,w+=' version="'+v.version+'"',v.encoding!=null&&(w+=' encoding="'+v.encoding+'"'),v.standalone!=null&&(w+=' standalone="'+v.standalone+'"'),p.state=e.CloseTag,w+=p.spaceBeforeSlash+"?>",w+=this.endline(v,p,d),p.state=e.None,this.closeNode(v,p,d),w},E.prototype.docType=function(v,p,d){var w,S,m,D,O;if(d||(d=0),this.openNode(v,p,d),p.state=e.OpenTag,D=this.indent(v,p,d),D+="<!DOCTYPE "+v.root().name,v.pubID&&v.sysID?D+=' PUBLIC "'+v.pubID+'" "'+v.sysID+'"':v.sysID&&(D+=' SYSTEM "'+v.sysID+'"'),v.children.length>0){for(D+=" [",D+=this.endline(v,p,d),p.state=e.InsideTag,O=v.children,S=0,m=O.length;S<m;S++)w=O[S],D+=this.writeChildNode(w,p,d+1);p.state=e.CloseTag,D+="]"}return p.state=e.CloseTag,D+=p.spaceBeforeSlash+">",D+=this.endline(v,p,d),p.state=e.None,this.closeNode(v,p,d),D},E.prototype.element=function(v,p,d){var w,S,m,D,O,P,k,R,B,W,M,Y,V,Pt;d||(d=0),W=!1,M="",this.openNode(v,p,d),p.state=e.OpenTag,M+=this.indent(v,p,d)+"<"+v.name,Y=v.attribs;for(B in Y)!T.call(Y,B)||(w=Y[B],M+=this.attribute(w,p,d));if(m=v.children.length,D=m===0?null:v.children[0],m===0||v.children.every(function(mt){return(mt.type===t.Text||mt.type===t.Raw)&&mt.value===""}))p.allowEmpty?(M+=">",p.state=e.CloseTag,M+="</"+v.name+">"+this.endline(v,p,d)):(p.state=e.CloseTag,M+=p.spaceBeforeSlash+"/>"+this.endline(v,p,d));else if(p.pretty&&m===1&&(D.type===t.Text||D.type===t.Raw)&&D.value!=null)M+=">",p.state=e.InsideTag,p.suppressPrettyCount++,W=!0,M+=this.writeChildNode(D,p,d+1),p.suppressPrettyCount--,W=!1,p.state=e.CloseTag,M+="</"+v.name+">"+this.endline(v,p,d);else{if(p.dontPrettyTextNodes){for(V=v.children,O=0,k=V.length;O<k;O++)if(S=V[O],(S.type===t.Text||S.type===t.Raw)&&S.value!=null){p.suppressPrettyCount++,W=!0;break}}for(M+=">"+this.endline(v,p,d),p.state=e.InsideTag,Pt=v.children,P=0,R=Pt.length;P<R;P++)S=Pt[P],M+=this.writeChildNode(S,p,d+1);p.state=e.CloseTag,M+=this.indent(v,p,d)+"</"+v.name+">",W&&p.suppressPrettyCount--,M+=this.endline(v,p,d),p.state=e.None}return this.closeNode(v,p,d),M},E.prototype.writeChildNode=function(v,p,d){switch(v.type){case t.CData:return this.cdata(v,p,d);case t.Comment:return this.comment(v,p,d);case t.Element:return this.element(v,p,d);case t.Raw:return this.raw(v,p,d);case t.Text:return this.text(v,p,d);case t.ProcessingInstruction:return this.processingInstruction(v,p,d);case t.Dummy:return"";case t.Declaration:return this.declaration(v,p,d);case t.DocType:return this.docType(v,p,d);case t.AttributeDeclaration:return this.dtdAttList(v,p,d);case t.ElementDeclaration:return this.dtdElement(v,p,d);case t.EntityDeclaration:return this.dtdEntity(v,p,d);case t.NotationDeclaration:return this.dtdNotation(v,p,d);default:throw new Error("Unknown XML node type: "+v.constructor.name)}},E.prototype.processingInstruction=function(v,p,d){var w;return this.openNode(v,p,d),p.state=e.OpenTag,w=this.indent(v,p,d)+"<?",p.state=e.InsideTag,w+=v.target,v.value&&(w+=" "+v.value),p.state=e.CloseTag,w+=p.spaceBeforeSlash+"?>",w+=this.endline(v,p,d),p.state=e.None,this.closeNode(v,p,d),w},E.prototype.raw=function(v,p,d){var w;return this.openNode(v,p,d),p.state=e.OpenTag,w=this.indent(v,p,d),p.state=e.InsideTag,w+=v.value,p.state=e.CloseTag,w+=this.endline(v,p,d),p.state=e.None,this.closeNode(v,p,d),w},E.prototype.text=function(v,p,d){var w;return this.openNode(v,p,d),p.state=e.OpenTag,w=this.indent(v,p,d),p.state=e.InsideTag,w+=v.value,p.state=e.CloseTag,w+=this.endline(v,p,d),p.state=e.None,this.closeNode(v,p,d),w},E.prototype.dtdAttList=function(v,p,d){var w;return this.openNode(v,p,d),p.state=e.OpenTag,w=this.indent(v,p,d)+"<!ATTLIST",p.state=e.InsideTag,w+=" "+v.elementName+" "+v.attributeName+" "+v.attributeType,v.defaultValueType!=="#DEFAULT"&&(w+=" "+v.defaultValueType),v.defaultValue&&(w+=' "'+v.defaultValue+'"'),p.state=e.CloseTag,w+=p.spaceBeforeSlash+">"+this.endline(v,p,d),p.state=e.None,this.closeNode(v,p,d),w},E.prototype.dtdElement=function(v,p,d){var w;return this.openNode(v,p,d),p.state=e.OpenTag,w=this.indent(v,p,d)+"<!ELEMENT",p.state=e.InsideTag,w+=" "+v.name+" "+v.value,p.state=e.CloseTag,w+=p.spaceBeforeSlash+">"+this.endline(v,p,d),p.state=e.None,this.closeNode(v,p,d),w},E.prototype.dtdEntity=function(v,p,d){var w;return this.openNode(v,p,d),p.state=e.OpenTag,w=this.indent(v,p,d)+"<!ENTITY",p.state=e.InsideTag,v.pe&&(w+=" %"),w+=" "+v.name,v.value?w+=' "'+v.value+'"':(v.pubID&&v.sysID?w+=' PUBLIC "'+v.pubID+'" "'+v.sysID+'"':v.sysID&&(w+=' SYSTEM "'+v.sysID+'"'),v.nData&&(w+=" NDATA "+v.nData)),p.state=e.CloseTag,w+=p.spaceBeforeSlash+">"+this.endline(v,p,d),p.state=e.None,this.closeNode(v,p,d),w},E.prototype.dtdNotation=function(v,p,d){var w;return this.openNode(v,p,d),p.state=e.OpenTag,w=this.indent(v,p,d)+"<!NOTATION",p.state=e.InsideTag,w+=" "+v.name,v.pubID&&v.sysID?w+=' PUBLIC "'+v.pubID+'" "'+v.sysID+'"':v.pubID?w+=' PUBLIC "'+v.pubID+'"':v.sysID&&(w+=' SYSTEM "'+v.sysID+'"'),p.state=e.CloseTag,w+=p.spaceBeforeSlash+">"+this.endline(v,p,d),p.state=e.None,this.closeNode(v,p,d),w},E.prototype.openNode=function(v,p,d){},E.prototype.closeNode=function(v,p,d){},E.prototype.openAttribute=function(v,p,d){},E.prototype.closeAttribute=function(v,p,d){},E}()}).call(Vl)});var Gn=I((Kl,Gl)=>{(function(){var t,e,i=function(r,s){for(var a in s)n.call(s,a)&&(r[a]=s[a]);function o(){this.constructor=r}return o.prototype=s.prototype,r.prototype=new o,r.__super__=s.prototype,r},n={}.hasOwnProperty;e=ps(),Gl.exports=t=function(r){i(s,r);function s(a){s.__super__.constructor.call(this,a)}return s.prototype.document=function(a,o){var u,l,c,f,h;for(o=this.filterOptions(o),f="",h=a.children,l=0,c=h.length;l<c;l++)u=h[l],f+=this.writeChildNode(u,o,0);return o.pretty&&f.slice(-o.newline.length)===o.newline&&(f=f.slice(0,-o.newline.length)),f},s}(e)}).call(Kl)});var ds=I((Hl,Yl)=>{(function(){var t,e,i,n,r,s,a,o,u=function(c,f){for(var h in f)l.call(f,h)&&(c[h]=f[h]);function _(){this.constructor=c}return _.prototype=f.prototype,c.prototype=new _,c.__super__=f.prototype,c},l={}.hasOwnProperty;o=Bt().isPlainObject,i=ls(),e=Ju(),r=xt(),t=tt(),a=hs(),s=Gn(),Yl.exports=n=function(c){u(f,c);function f(h){f.__super__.constructor.call(this,null),this.name="#document",this.type=t.Document,this.documentURI=null,this.domConfig=new e,h||(h={}),h.writer||(h.writer=new s),this.options=h,this.stringify=new a(h)}return Object.defineProperty(f.prototype,"implementation",{value:new i}),Object.defineProperty(f.prototype,"doctype",{get:function(){var h,_,y,x;for(x=this.children,_=0,y=x.length;_<y;_++)if(h=x[_],h.type===t.DocType)return h;return null}}),Object.defineProperty(f.prototype,"documentElement",{get:function(){return this.rootObject||null}}),Object.defineProperty(f.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(f.prototype,"strictErrorChecking",{get:function(){return!1}}),Object.defineProperty(f.prototype,"xmlEncoding",{get:function(){return this.children.length!==0&&this.children[0].type===t.Declaration?this.children[0].encoding:null}}),Object.defineProperty(f.prototype,"xmlStandalone",{get:function(){return this.children.length!==0&&this.children[0].type===t.Declaration?this.children[0].standalone==="yes":!1}}),Object.defineProperty(f.prototype,"xmlVersion",{get:function(){return this.children.length!==0&&this.children[0].type===t.Declaration?this.children[0].version:"1.0"}}),Object.defineProperty(f.prototype,"URL",{get:function(){return this.documentURI}}),Object.defineProperty(f.prototype,"origin",{get:function(){return null}}),Object.defineProperty(f.prototype,"compatMode",{get:function(){return null}}),Object.defineProperty(f.prototype,"characterSet",{get:function(){return null}}),Object.defineProperty(f.prototype,"contentType",{get:function(){return null}}),f.prototype.end=function(h){var _;return _={},h?o(h)&&(_=h,h=this.options.writer):h=this.options.writer,h.document(this,h.filterOptions(_))},f.prototype.toString=function(h){return this.options.writer.document(this,this.options.writer.filterOptions(h))},f.prototype.createElement=function(h){throw new Error("This DOM method is not implemented."+this.debugInfo())},f.prototype.createDocumentFragment=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},f.prototype.createTextNode=function(h){throw new Error("This DOM method is not implemented."+this.debugInfo())},f.prototype.createComment=function(h){throw new Error("This DOM method is not implemented."+this.debugInfo())},f.prototype.createCDATASection=function(h){throw new Error("This DOM method is not implemented."+this.debugInfo())},f.prototype.createProcessingInstruction=function(h,_){throw new Error("This DOM method is not implemented."+this.debugInfo())},f.prototype.createAttribute=function(h){throw new Error("This DOM method is not implemented."+this.debugInfo())},f.prototype.createEntityReference=function(h){throw new Error("This DOM method is not implemented."+this.debugInfo())},f.prototype.getElementsByTagName=function(h){throw new Error("This DOM method is not implemented."+this.debugInfo())},f.prototype.importNode=function(h,_){throw new Error("This DOM method is not implemented."+this.debugInfo())},f.prototype.createElementNS=function(h,_){throw new Error("This DOM method is not implemented."+this.debugInfo())},f.prototype.createAttributeNS=function(h,_){throw new Error("This DOM method is not implemented."+this.debugInfo())},f.prototype.getElementsByTagNameNS=function(h,_){throw new Error("This DOM method is not implemented."+this.debugInfo())},f.prototype.getElementById=function(h){throw new Error("This DOM method is not implemented."+this.debugInfo())},f.prototype.adoptNode=function(h){throw new Error("This DOM method is not implemented."+this.debugInfo())},f.prototype.normalizeDocument=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},f.prototype.renameNode=function(h,_,y){throw new Error("This DOM method is not implemented."+this.debugInfo())},f.prototype.getElementsByClassName=function(h){throw new Error("This DOM method is not implemented."+this.debugInfo())},f.prototype.createEvent=function(h){throw new Error("This DOM method is not implemented."+this.debugInfo())},f.prototype.createRange=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},f.prototype.createNodeIterator=function(h,_,y){throw new Error("This DOM method is not implemented."+this.debugInfo())},f.prototype.createTreeWalker=function(h,_,y){throw new Error("This DOM method is not implemented."+this.debugInfo())},f}(r)}).call(Hl)});var Zl=I((Ql,Jl)=>{(function(){var t,e,i,n,r,s,a,o,u,l,c,f,h,_,y,x,N,T,E,v,p,d,w,S,m={}.hasOwnProperty;S=Bt(),d=S.isObject,p=S.isFunction,w=S.isPlainObject,v=S.getValue,t=tt(),f=ds(),_=Mn(),n=Fn(),r=jn(),x=Vn(),E=$n(),y=Kn(),l=qn(),c=Wn(),s=Bn(),o=Xn(),a=Un(),u=zn(),i=cs(),T=hs(),N=Gn(),e=Ze(),Jl.exports=h=function(){function D(O,P,k){var R;this.name="?xml",this.type=t.Document,O||(O={}),R={},O.writer?w(O.writer)&&(R=O.writer,O.writer=new N):O.writer=new N,this.options=O,this.writer=O.writer,this.writerOptions=this.writer.filterOptions(R),this.stringify=new T(O),this.onDataCallback=P||function(){},this.onEndCallback=k||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return D.prototype.createChildNode=function(O){var P,k,R,B,W,M,Y,V;switch(O.type){case t.CData:this.cdata(O.value);break;case t.Comment:this.comment(O.value);break;case t.Element:R={},Y=O.attribs;for(k in Y)!m.call(Y,k)||(P=Y[k],R[k]=P.value);this.node(O.name,R);break;case t.Dummy:this.dummy();break;case t.Raw:this.raw(O.value);break;case t.Text:this.text(O.value);break;case t.ProcessingInstruction:this.instruction(O.target,O.value);break;default:throw new Error("This XML node type is not supported in a JS object: "+O.constructor.name)}for(V=O.children,W=0,M=V.length;W<M;W++)B=V[W],this.createChildNode(B),B.type===t.Element&&this.up();return this},D.prototype.dummy=function(){return this},D.prototype.node=function(O,P,k){var R;if(O==null)throw new Error("Missing node name.");if(this.root&&this.currentLevel===-1)throw new Error("Document can only have one root node. "+this.debugInfo(O));return this.openCurrent(),O=v(O),P==null&&(P={}),P=v(P),d(P)||(R=[P,k],k=R[0],P=R[1]),this.currentNode=new _(this,O,P),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,k!=null&&this.text(k),this},D.prototype.element=function(O,P,k){var R,B,W,M,Y,V;if(this.currentNode&&this.currentNode.type===t.DocType)this.dtdElement.apply(this,arguments);else if(Array.isArray(O)||d(O)||p(O))for(M=this.options.noValidation,this.options.noValidation=!0,V=new f(this.options).element("TEMP_ROOT"),V.element(O),this.options.noValidation=M,Y=V.children,B=0,W=Y.length;B<W;B++)R=Y[B],this.createChildNode(R),R.type===t.Element&&this.up();else this.node(O,P,k);return this},D.prototype.attribute=function(O,P){var k,R;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(O));if(O!=null&&(O=v(O)),d(O))for(k in O)!m.call(O,k)||(R=O[k],this.attribute(k,R));else p(P)&&(P=P.apply()),this.options.keepNullAttributes&&P==null?this.currentNode.attribs[O]=new i(this,O,""):P!=null&&(this.currentNode.attribs[O]=new i(this,O,P));return this},D.prototype.text=function(O){var P;return this.openCurrent(),P=new E(this,O),this.onData(this.writer.text(P,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},D.prototype.cdata=function(O){var P;return this.openCurrent(),P=new n(this,O),this.onData(this.writer.cdata(P,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},D.prototype.comment=function(O){var P;return this.openCurrent(),P=new r(this,O),this.onData(this.writer.comment(P,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},D.prototype.raw=function(O){var P;return this.openCurrent(),P=new x(this,O),this.onData(this.writer.raw(P,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},D.prototype.instruction=function(O,P){var k,R,B,W,M;if(this.openCurrent(),O!=null&&(O=v(O)),P!=null&&(P=v(P)),Array.isArray(O))for(k=0,W=O.length;k<W;k++)R=O[k],this.instruction(R);else if(d(O))for(R in O)!m.call(O,R)||(B=O[R],this.instruction(R,B));else p(P)&&(P=P.apply()),M=new y(this,O,P),this.onData(this.writer.processingInstruction(M,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this},D.prototype.declaration=function(O,P,k){var R;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return R=new l(this,O,P,k),this.onData(this.writer.declaration(R,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},D.prototype.doctype=function(O,P,k){if(this.openCurrent(),O==null)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new c(this,P,k),this.currentNode.rootNodeName=O,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},D.prototype.dtdElement=function(O,P){var k;return this.openCurrent(),k=new a(this,O,P),this.onData(this.writer.dtdElement(k,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},D.prototype.attList=function(O,P,k,R,B){var W;return this.openCurrent(),W=new s(this,O,P,k,R,B),this.onData(this.writer.dtdAttList(W,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},D.prototype.entity=function(O,P){var k;return this.openCurrent(),k=new o(this,!1,O,P),this.onData(this.writer.dtdEntity(k,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},D.prototype.pEntity=function(O,P){var k;return this.openCurrent(),k=new o(this,!0,O,P),this.onData(this.writer.dtdEntity(k,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},D.prototype.notation=function(O,P){var k;return this.openCurrent(),k=new u(this,O,P),this.onData(this.writer.dtdNotation(k,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},D.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},D.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},D.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},D.prototype.openNode=function(O){var P,k,R,B;if(!O.isOpen){if(!this.root&&this.currentLevel===0&&O.type===t.Element&&(this.root=O),k="",O.type===t.Element){this.writerOptions.state=e.OpenTag,k=this.writer.indent(O,this.writerOptions,this.currentLevel)+"<"+O.name,B=O.attribs;for(R in B)!m.call(B,R)||(P=B[R],k+=this.writer.attribute(P,this.writerOptions,this.currentLevel));k+=(O.children?">":"/>")+this.writer.endline(O,this.writerOptions,this.currentLevel),this.writerOptions.state=e.InsideTag}else this.writerOptions.state=e.OpenTag,k=this.writer.indent(O,this.writerOptions,this.currentLevel)+"<!DOCTYPE "+O.rootNodeName,O.pubID&&O.sysID?k+=' PUBLIC "'+O.pubID+'" "'+O.sysID+'"':O.sysID&&(k+=' SYSTEM "'+O.sysID+'"'),O.children?(k+=" [",this.writerOptions.state=e.InsideTag):(this.writerOptions.state=e.CloseTag,k+=">"),k+=this.writer.endline(O,this.writerOptions,this.currentLevel);return this.onData(k,this.currentLevel),O.isOpen=!0}},D.prototype.closeNode=function(O){var P;if(!O.isClosed)return P="",this.writerOptions.state=e.CloseTag,O.type===t.Element?P=this.writer.indent(O,this.writerOptions,this.currentLevel)+"</"+O.name+">"+this.writer.endline(O,this.writerOptions,this.currentLevel):P=this.writer.indent(O,this.writerOptions,this.currentLevel)+"]>"+this.writer.endline(O,this.writerOptions,this.currentLevel),this.writerOptions.state=e.None,this.onData(P,this.currentLevel),O.isClosed=!0},D.prototype.onData=function(O,P){return this.documentStarted=!0,this.onDataCallback(O,P+1)},D.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},D.prototype.debugInfo=function(O){return O==null?"":"node: <"+O+">"},D.prototype.ele=function(){return this.element.apply(this,arguments)},D.prototype.nod=function(O,P,k){return this.node(O,P,k)},D.prototype.txt=function(O){return this.text(O)},D.prototype.dat=function(O){return this.cdata(O)},D.prototype.com=function(O){return this.comment(O)},D.prototype.ins=function(O,P){return this.instruction(O,P)},D.prototype.dec=function(O,P,k){return this.declaration(O,P,k)},D.prototype.dtd=function(O,P,k){return this.doctype(O,P,k)},D.prototype.e=function(O,P,k){return this.element(O,P,k)},D.prototype.n=function(O,P,k){return this.node(O,P,k)},D.prototype.t=function(O){return this.text(O)},D.prototype.d=function(O){return this.cdata(O)},D.prototype.c=function(O){return this.comment(O)},D.prototype.r=function(O){return this.raw(O)},D.prototype.i=function(O,P){return this.instruction(O,P)},D.prototype.att=function(){return this.currentNode&&this.currentNode.type===t.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},D.prototype.a=function(){return this.currentNode&&this.currentNode.type===t.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},D.prototype.ent=function(O,P){return this.entity(O,P)},D.prototype.pent=function(O,P){return this.pEntity(O,P)},D.prototype.not=function(O,P){return this.notation(O,P)},D}()}).call(Ql)});var ic=I((tc,ec)=>{(function(){var t,e,i,n,r=function(a,o){for(var u in o)s.call(o,u)&&(a[u]=o[u]);function l(){this.constructor=a}return l.prototype=o.prototype,a.prototype=new l,a.__super__=o.prototype,a},s={}.hasOwnProperty;t=tt(),n=ps(),e=Ze(),ec.exports=i=function(a){r(o,a);function o(u,l){this.stream=u,o.__super__.constructor.call(this,l)}return o.prototype.endline=function(u,l,c){return u.isLastRootNode&&l.state===e.CloseTag?"":o.__super__.endline.call(this,u,l,c)},o.prototype.document=function(u,l){var c,f,h,_,y,x,N,T,E;for(N=u.children,f=h=0,y=N.length;h<y;f=++h)c=N[f],c.isLastRootNode=f===u.children.length-1;for(l=this.filterOptions(l),T=u.children,E=[],_=0,x=T.length;_<x;_++)c=T[_],E.push(this.writeChildNode(c,l,0));return E},o.prototype.attribute=function(u,l,c){return this.stream.write(o.__super__.attribute.call(this,u,l,c))},o.prototype.cdata=function(u,l,c){return this.stream.write(o.__super__.cdata.call(this,u,l,c))},o.prototype.comment=function(u,l,c){return this.stream.write(o.__super__.comment.call(this,u,l,c))},o.prototype.declaration=function(u,l,c){return this.stream.write(o.__super__.declaration.call(this,u,l,c))},o.prototype.docType=function(u,l,c){var f,h,_,y;if(c||(c=0),this.openNode(u,l,c),l.state=e.OpenTag,this.stream.write(this.indent(u,l,c)),this.stream.write("<!DOCTYPE "+u.root().name),u.pubID&&u.sysID?this.stream.write(' PUBLIC "'+u.pubID+'" "'+u.sysID+'"'):u.sysID&&this.stream.write(' SYSTEM "'+u.sysID+'"'),u.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(u,l,c)),l.state=e.InsideTag,y=u.children,h=0,_=y.length;h<_;h++)f=y[h],this.writeChildNode(f,l,c+1);l.state=e.CloseTag,this.stream.write("]")}return l.state=e.CloseTag,this.stream.write(l.spaceBeforeSlash+">"),this.stream.write(this.endline(u,l,c)),l.state=e.None,this.closeNode(u,l,c)},o.prototype.element=function(u,l,c){var f,h,_,y,x,N,T,E,v,p;c||(c=0),this.openNode(u,l,c),l.state=e.OpenTag,this.stream.write(this.indent(u,l,c)+"<"+u.name),v=u.attribs;for(T in v)!s.call(v,T)||(f=v[T],this.attribute(f,l,c));if(_=u.children.length,y=_===0?null:u.children[0],_===0||u.children.every(function(d){return(d.type===t.Text||d.type===t.Raw)&&d.value===""}))l.allowEmpty?(this.stream.write(">"),l.state=e.CloseTag,this.stream.write("</"+u.name+">")):(l.state=e.CloseTag,this.stream.write(l.spaceBeforeSlash+"/>"));else if(l.pretty&&_===1&&(y.type===t.Text||y.type===t.Raw)&&y.value!=null)this.stream.write(">"),l.state=e.InsideTag,l.suppressPrettyCount++,E=!0,this.writeChildNode(y,l,c+1),l.suppressPrettyCount--,E=!1,l.state=e.CloseTag,this.stream.write("</"+u.name+">");else{for(this.stream.write(">"+this.endline(u,l,c)),l.state=e.InsideTag,p=u.children,x=0,N=p.length;x<N;x++)h=p[x],this.writeChildNode(h,l,c+1);l.state=e.CloseTag,this.stream.write(this.indent(u,l,c)+"</"+u.name+">")}return this.stream.write(this.endline(u,l,c)),l.state=e.None,this.closeNode(u,l,c)},o.prototype.processingInstruction=function(u,l,c){return this.stream.write(o.__super__.processingInstruction.call(this,u,l,c))},o.prototype.raw=function(u,l,c){return this.stream.write(o.__super__.raw.call(this,u,l,c))},o.prototype.text=function(u,l,c){return this.stream.write(o.__super__.text.call(this,u,l,c))},o.prototype.dtdAttList=function(u,l,c){return this.stream.write(o.__super__.dtdAttList.call(this,u,l,c))},o.prototype.dtdElement=function(u,l,c){return this.stream.write(o.__super__.dtdElement.call(this,u,l,c))},o.prototype.dtdEntity=function(u,l,c){return this.stream.write(o.__super__.dtdEntity.call(this,u,l,c))},o.prototype.dtdNotation=function(u,l,c){return this.stream.write(o.__super__.dtdNotation.call(this,u,l,c))},o}(n)}).call(tc)});var rc=I((nc,le)=>{(function(){var t,e,i,n,r,s,a,o,u,l;l=Bt(),o=l.assign,u=l.isFunction,i=ls(),n=ds(),r=Zl(),a=Gn(),s=ic(),t=tt(),e=Ze(),le.exports.create=function(c,f,h,_){var y,x;if(c==null)throw new Error("Root element needs a name.");return _=o({},f,h,_),y=new n(_),x=y.element(c),_.headless||(y.declaration(_),(_.pubID!=null||_.sysID!=null)&&y.dtd(_)),x},le.exports.begin=function(c,f,h){var _;return u(c)&&(_=[c,f],f=_[0],h=_[1],c={}),f?new r(c,f,h):new n(c)},le.exports.stringWriter=function(c){return new a(c)},le.exports.streamWriter=function(c,f){return new s(c,f)},le.exports.implementation=new i,le.exports.nodeType=t,le.exports.writerState=e}).call(nc)});var sc=I(_s=>{(function(){"use strict";var t,e,i,n,r,s={}.hasOwnProperty;t=rc(),e=kn().defaults,n=function(a){return typeof a=="string"&&(a.indexOf("&")>=0||a.indexOf(">")>=0||a.indexOf("<")>=0)},r=function(a){return"<![CDATA["+i(a)+"]]>"},i=function(a){return a.replace("]]>","]]]]><![CDATA[>")},_s.Builder=function(){function a(o){var u,l,c;this.options={},l=e["0.2"];for(u in l)!s.call(l,u)||(c=l[u],this.options[u]=c);for(u in o)!s.call(o,u)||(c=o[u],this.options[u]=c)}return a.prototype.buildObject=function(o){var u,l,c,f,h;return u=this.options.attrkey,l=this.options.charkey,Object.keys(o).length===1&&this.options.rootName===e["0.2"].rootName?(h=Object.keys(o)[0],o=o[h]):h=this.options.rootName,c=function(_){return function(y,x){var N,T,E,v,p,d;if(typeof x!="object")_.options.cdata&&n(x)?y.raw(r(x)):y.txt(x);else if(Array.isArray(x)){for(v in x)if(!!s.call(x,v)){T=x[v];for(p in T)E=T[p],y=c(y.ele(p),E).up()}}else for(p in x)if(!!s.call(x,p))if(T=x[p],p===u){if(typeof T=="object")for(N in T)d=T[N],y=y.att(N,d)}else if(p===l)_.options.cdata&&n(T)?y=y.raw(r(T)):y=y.txt(T);else if(Array.isArray(T))for(v in T)!s.call(T,v)||(E=T[v],typeof E=="string"?_.options.cdata&&n(E)?y=y.ele(p).raw(r(E)).up():y=y.ele(p,E).up():y=c(y.ele(p),E).up());else typeof T=="object"?y=c(y.ele(p),T).up():typeof T=="string"&&_.options.cdata&&n(T)?y=y.ele(p).raw(r(T)).up():(T==null&&(T=""),y=y.ele(p,T.toString()).up());return y}}(this),f=t.create(h,this.options.xmldec,this.options.doctype,{headless:this.options.headless,allowSurrogateChars:this.options.allowSurrogateChars}),c(f,o).end(this.options.renderOpts)},a}()}).call(_s)});var ac=I(Hn=>{(function(t){t.parser=function(b,g){return new i(b,g)},t.SAXParser=i,t.SAXStream=l,t.createStream=u,t.MAX_BUFFER_LENGTH=64*1024;var e=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function i(b,g){if(!(this instanceof i))return new i(b,g);var A=this;r(A),A.q=A.c="",A.bufferCheckPosition=t.MAX_BUFFER_LENGTH,A.opt=g||{},A.opt.lowercase=A.opt.lowercase||A.opt.lowercasetags,A.looseCase=A.opt.lowercase?"toLowerCase":"toUpperCase",A.tags=[],A.closed=A.closedRoot=A.sawRoot=!1,A.tag=A.error=null,A.strict=!!b,A.noscript=!!(b||A.opt.noscript),A.state=m.BEGIN,A.strictEntities=A.opt.strictEntities,A.ENTITIES=A.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),A.attribList=[],A.opt.xmlns&&(A.ns=Object.create(y)),A.trackPosition=A.opt.position!==!1,A.trackPosition&&(A.position=A.line=A.column=0),O(A,"onready")}Object.create||(Object.create=function(b){function g(){}g.prototype=b;var A=new g;return A}),Object.keys||(Object.keys=function(b){var g=[];for(var A in b)b.hasOwnProperty(A)&&g.push(A);return g});function n(b){for(var g=Math.max(t.MAX_BUFFER_LENGTH,10),A=0,C=0,$=e.length;C<$;C++){var J=b[e[C]].length;if(J>g)switch(e[C]){case"textNode":k(b);break;case"cdata":P(b,"oncdata",b.cdata),b.cdata="";break;case"script":P(b,"onscript",b.script),b.script="";break;default:B(b,"Max buffer length exceeded: "+e[C])}A=Math.max(A,J)}var Z=t.MAX_BUFFER_LENGTH-A;b.bufferCheckPosition=Z+b.position}function r(b){for(var g=0,A=e.length;g<A;g++)b[e[g]]=""}function s(b){k(b),b.cdata!==""&&(P(b,"oncdata",b.cdata),b.cdata=""),b.script!==""&&(P(b,"onscript",b.script),b.script="")}i.prototype={end:function(){W(this)},write:yi,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){s(this)}};var a;try{a=require("stream").Stream}catch(b){a=function(){}}a||(a=function(){});var o=t.EVENTS.filter(function(b){return b!=="error"&&b!=="end"});function u(b,g){return new l(b,g)}function l(b,g){if(!(this instanceof l))return new l(b,g);a.apply(this),this._parser=new i(b,g),this.writable=!0,this.readable=!0;var A=this;this._parser.onend=function(){A.emit("end")},this._parser.onerror=function(C){A.emit("error",C),A._parser.error=null},this._decoder=null,o.forEach(function(C){Object.defineProperty(A,"on"+C,{get:function(){return A._parser["on"+C]},set:function($){if(!$)return A.removeAllListeners(C),A._parser["on"+C]=$,$;A.on(C,$)},enumerable:!0,configurable:!1})})}l.prototype=Object.create(a.prototype,{constructor:{value:l}}),l.prototype.write=function(b){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(b)){if(!this._decoder){var g=require("string_decoder").StringDecoder;this._decoder=new g("utf8")}b=this._decoder.write(b)}return this._parser.write(b.toString()),this.emit("data",b),!0},l.prototype.end=function(b){return b&&b.length&&this.write(b),this._parser.end(),!0},l.prototype.on=function(b,g){var A=this;return!A._parser["on"+b]&&o.indexOf(b)!==-1&&(A._parser["on"+b]=function(){var C=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);C.splice(0,0,b),A.emit.apply(A,C)}),a.prototype.on.call(A,b,g)};var c="[CDATA[",f="DOCTYPE",h="http://www.w3.org/XML/1998/namespace",_="http://www.w3.org/2000/xmlns/",y={xml:h,xmlns:_},x=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,N=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,T=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,E=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function v(b){return b===" "||b===`
`||b==="\r"||b==="	"}function p(b){return b==='"'||b==="'"}function d(b){return b===">"||v(b)}function w(b,g){return b.test(g)}function S(b,g){return!w(b,g)}var m=0;t.STATE={BEGIN:m++,BEGIN_WHITESPACE:m++,TEXT:m++,TEXT_ENTITY:m++,OPEN_WAKA:m++,SGML_DECL:m++,SGML_DECL_QUOTED:m++,DOCTYPE:m++,DOCTYPE_QUOTED:m++,DOCTYPE_DTD:m++,DOCTYPE_DTD_QUOTED:m++,COMMENT_STARTING:m++,COMMENT:m++,COMMENT_ENDING:m++,COMMENT_ENDED:m++,CDATA:m++,CDATA_ENDING:m++,CDATA_ENDING_2:m++,PROC_INST:m++,PROC_INST_BODY:m++,PROC_INST_ENDING:m++,OPEN_TAG:m++,OPEN_TAG_SLASH:m++,ATTRIB:m++,ATTRIB_NAME:m++,ATTRIB_NAME_SAW_WHITE:m++,ATTRIB_VALUE:m++,ATTRIB_VALUE_QUOTED:m++,ATTRIB_VALUE_CLOSED:m++,ATTRIB_VALUE_UNQUOTED:m++,ATTRIB_VALUE_ENTITY_Q:m++,ATTRIB_VALUE_ENTITY_U:m++,CLOSE_TAG:m++,CLOSE_TAG_SAW_WHITE:m++,SCRIPT:m++,SCRIPT_ENDING:m++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach(function(b){var g=t.ENTITIES[b],A=typeof g=="number"?String.fromCharCode(g):g;t.ENTITIES[b]=A});for(var D in t.STATE)t.STATE[t.STATE[D]]=D;m=t.STATE;function O(b,g,A){b[g]&&b[g](A)}function P(b,g,A){b.textNode&&k(b),O(b,g,A)}function k(b){b.textNode=R(b.opt,b.textNode),b.textNode&&O(b,"ontext",b.textNode),b.textNode=""}function R(b,g){return b.trim&&(g=g.trim()),b.normalize&&(g=g.replace(/\s+/g," ")),g}function B(b,g){return k(b),b.trackPosition&&(g+=`
Line: `+b.line+`
Column: `+b.column+`
Char: `+b.c),g=new Error(g),b.error=g,O(b,"onerror",g),b}function W(b){return b.sawRoot&&!b.closedRoot&&M(b,"Unclosed root tag"),b.state!==m.BEGIN&&b.state!==m.BEGIN_WHITESPACE&&b.state!==m.TEXT&&B(b,"Unexpected end"),k(b),b.c="",b.closed=!0,O(b,"onend"),i.call(b,b.strict,b.opt),b}function M(b,g){if(typeof b!="object"||!(b instanceof i))throw new Error("bad call to strictFail");b.strict&&B(b,g)}function Y(b){b.strict||(b.tagName=b.tagName[b.looseCase]());var g=b.tags[b.tags.length-1]||b,A=b.tag={name:b.tagName,attributes:{}};b.opt.xmlns&&(A.ns=g.ns),b.attribList.length=0,P(b,"onopentagstart",A)}function V(b,g){var A=b.indexOf(":"),C=A<0?["",b]:b.split(":"),$=C[0],J=C[1];return g&&b==="xmlns"&&($="xmlns",J=""),{prefix:$,local:J}}function Pt(b){if(b.strict||(b.attribName=b.attribName[b.looseCase]()),b.attribList.indexOf(b.attribName)!==-1||b.tag.attributes.hasOwnProperty(b.attribName)){b.attribName=b.attribValue="";return}if(b.opt.xmlns){var g=V(b.attribName,!0),A=g.prefix,C=g.local;if(A==="xmlns")if(C==="xml"&&b.attribValue!==h)M(b,"xml: prefix must be bound to "+h+`
Actual: `+b.attribValue);else if(C==="xmlns"&&b.attribValue!==_)M(b,"xmlns: prefix must be bound to "+_+`
Actual: `+b.attribValue);else{var $=b.tag,J=b.tags[b.tags.length-1]||b;$.ns===J.ns&&($.ns=Object.create(J.ns)),$.ns[C]=b.attribValue}b.attribList.push([b.attribName,b.attribValue])}else b.tag.attributes[b.attribName]=b.attribValue,P(b,"onattribute",{name:b.attribName,value:b.attribValue});b.attribName=b.attribValue=""}function mt(b,g){if(b.opt.xmlns){var A=b.tag,C=V(b.tagName);A.prefix=C.prefix,A.local=C.local,A.uri=A.ns[C.prefix]||"",A.prefix&&!A.uri&&(M(b,"Unbound namespace prefix: "+JSON.stringify(b.tagName)),A.uri=C.prefix);var $=b.tags[b.tags.length-1]||b;A.ns&&$.ns!==A.ns&&Object.keys(A.ns).forEach(function(aa){P(b,"onopennamespace",{prefix:aa,uri:A.ns[aa]})});for(var J=0,Z=b.attribList.length;J<Z;J++){var at=b.attribList[J],dt=at[0],Ee=at[1],ot=V(dt,!0),Gt=ot.prefix,yp=ot.local,sa=Gt===""?"":A.ns[Gt]||"",mr={name:dt,value:Ee,prefix:Gt,local:yp,uri:sa};Gt&&Gt!=="xmlns"&&!sa&&(M(b,"Unbound namespace prefix: "+JSON.stringify(Gt)),mr.uri=Gt),b.tag.attributes[dt]=mr,P(b,"onattribute",mr)}b.attribList.length=0}b.tag.isSelfClosing=!!g,b.sawRoot=!0,b.tags.push(b.tag),P(b,"onopentag",b.tag),g||(!b.noscript&&b.tagName.toLowerCase()==="script"?b.state=m.SCRIPT:b.state=m.TEXT,b.tag=null,b.tagName=""),b.attribName=b.attribValue="",b.attribList.length=0}function Kt(b){if(!b.tagName){M(b,"Weird empty close tag."),b.textNode+="</>",b.state=m.TEXT;return}if(b.script){if(b.tagName!=="script"){b.script+="</"+b.tagName+">",b.tagName="",b.state=m.SCRIPT;return}P(b,"onscript",b.script),b.script=""}var g=b.tags.length,A=b.tagName;b.strict||(A=A[b.looseCase]());for(var C=A;g--;){var $=b.tags[g];if($.name!==C)M(b,"Unexpected close tag");else break}if(g<0){M(b,"Unmatched closing tag: "+b.tagName),b.textNode+="</"+b.tagName+">",b.state=m.TEXT;return}b.tagName=A;for(var J=b.tags.length;J-- >g;){var Z=b.tag=b.tags.pop();b.tagName=b.tag.name,P(b,"onclosetag",b.tagName);var at={};for(var dt in Z.ns)at[dt]=Z.ns[dt];var Ee=b.tags[b.tags.length-1]||b;b.opt.xmlns&&Z.ns!==Ee.ns&&Object.keys(Z.ns).forEach(function(ot){var Gt=Z.ns[ot];P(b,"onclosenamespace",{prefix:ot,uri:Gt})})}g===0&&(b.closedRoot=!0),b.tagName=b.attribValue=b.attribName="",b.attribList.length=0,b.state=m.TEXT}function gi(b){var g=b.entity,A=g.toLowerCase(),C,$="";return b.ENTITIES[g]?b.ENTITIES[g]:b.ENTITIES[A]?b.ENTITIES[A]:(g=A,g.charAt(0)==="#"&&(g.charAt(1)==="x"?(g=g.slice(2),C=parseInt(g,16),$=C.toString(16)):(g=g.slice(1),C=parseInt(g,10),$=C.toString(10))),g=g.replace(/^0+/,""),isNaN(C)||$.toLowerCase()!==g?(M(b,"Invalid character entity"),"&"+b.entity+";"):String.fromCodePoint(C))}function mi(b,g){g==="<"?(b.state=m.OPEN_WAKA,b.startTagPosition=b.position):v(g)||(M(b,"Non-whitespace before first tag."),b.textNode=g,b.state=m.TEXT)}function ie(b,g){var A="";return g<b.length&&(A=b.charAt(g)),A}function yi(b){var g=this;if(this.error)throw this.error;if(g.closed)return B(g,"Cannot write after close. Assign an onready handler.");if(b===null)return W(g);typeof b=="object"&&(b=b.toString());for(var A=0,C="";C=ie(b,A++),g.c=C,!!C;)switch(g.trackPosition&&(g.position++,C===`
`?(g.line++,g.column=0):g.column++),g.state){case m.BEGIN:if(g.state=m.BEGIN_WHITESPACE,C==="\uFEFF")continue;mi(g,C);continue;case m.BEGIN_WHITESPACE:mi(g,C);continue;case m.TEXT:if(g.sawRoot&&!g.closedRoot){for(var $=A-1;C&&C!=="<"&&C!=="&";)C=ie(b,A++),C&&g.trackPosition&&(g.position++,C===`
`?(g.line++,g.column=0):g.column++);g.textNode+=b.substring($,A-1)}C==="<"&&!(g.sawRoot&&g.closedRoot&&!g.strict)?(g.state=m.OPEN_WAKA,g.startTagPosition=g.position):(!v(C)&&(!g.sawRoot||g.closedRoot)&&M(g,"Text data outside of root node."),C==="&"?g.state=m.TEXT_ENTITY:g.textNode+=C);continue;case m.SCRIPT:C==="<"?g.state=m.SCRIPT_ENDING:g.script+=C;continue;case m.SCRIPT_ENDING:C==="/"?g.state=m.CLOSE_TAG:(g.script+="<"+C,g.state=m.SCRIPT);continue;case m.OPEN_WAKA:if(C==="!")g.state=m.SGML_DECL,g.sgmlDecl="";else if(!v(C))if(w(x,C))g.state=m.OPEN_TAG,g.tagName=C;else if(C==="/")g.state=m.CLOSE_TAG,g.tagName="";else if(C==="?")g.state=m.PROC_INST,g.procInstName=g.procInstBody="";else{if(M(g,"Unencoded <"),g.startTagPosition+1<g.position){var J=g.position-g.startTagPosition;C=new Array(J).join(" ")+C}g.textNode+="<"+C,g.state=m.TEXT}continue;case m.SGML_DECL:(g.sgmlDecl+C).toUpperCase()===c?(P(g,"onopencdata"),g.state=m.CDATA,g.sgmlDecl="",g.cdata=""):g.sgmlDecl+C==="--"?(g.state=m.COMMENT,g.comment="",g.sgmlDecl=""):(g.sgmlDecl+C).toUpperCase()===f?(g.state=m.DOCTYPE,(g.doctype||g.sawRoot)&&M(g,"Inappropriately located doctype declaration"),g.doctype="",g.sgmlDecl=""):C===">"?(P(g,"onsgmldeclaration",g.sgmlDecl),g.sgmlDecl="",g.state=m.TEXT):(p(C)&&(g.state=m.SGML_DECL_QUOTED),g.sgmlDecl+=C);continue;case m.SGML_DECL_QUOTED:C===g.q&&(g.state=m.SGML_DECL,g.q=""),g.sgmlDecl+=C;continue;case m.DOCTYPE:C===">"?(g.state=m.TEXT,P(g,"ondoctype",g.doctype),g.doctype=!0):(g.doctype+=C,C==="["?g.state=m.DOCTYPE_DTD:p(C)&&(g.state=m.DOCTYPE_QUOTED,g.q=C));continue;case m.DOCTYPE_QUOTED:g.doctype+=C,C===g.q&&(g.q="",g.state=m.DOCTYPE);continue;case m.DOCTYPE_DTD:g.doctype+=C,C==="]"?g.state=m.DOCTYPE:p(C)&&(g.state=m.DOCTYPE_DTD_QUOTED,g.q=C);continue;case m.DOCTYPE_DTD_QUOTED:g.doctype+=C,C===g.q&&(g.state=m.DOCTYPE_DTD,g.q="");continue;case m.COMMENT:C==="-"?g.state=m.COMMENT_ENDING:g.comment+=C;continue;case m.COMMENT_ENDING:C==="-"?(g.state=m.COMMENT_ENDED,g.comment=R(g.opt,g.comment),g.comment&&P(g,"oncomment",g.comment),g.comment=""):(g.comment+="-"+C,g.state=m.COMMENT);continue;case m.COMMENT_ENDED:C!==">"?(M(g,"Malformed comment"),g.comment+="--"+C,g.state=m.COMMENT):g.state=m.TEXT;continue;case m.CDATA:C==="]"?g.state=m.CDATA_ENDING:g.cdata+=C;continue;case m.CDATA_ENDING:C==="]"?g.state=m.CDATA_ENDING_2:(g.cdata+="]"+C,g.state=m.CDATA);continue;case m.CDATA_ENDING_2:C===">"?(g.cdata&&P(g,"oncdata",g.cdata),P(g,"onclosecdata"),g.cdata="",g.state=m.TEXT):C==="]"?g.cdata+="]":(g.cdata+="]]"+C,g.state=m.CDATA);continue;case m.PROC_INST:C==="?"?g.state=m.PROC_INST_ENDING:v(C)?g.state=m.PROC_INST_BODY:g.procInstName+=C;continue;case m.PROC_INST_BODY:if(!g.procInstBody&&v(C))continue;C==="?"?g.state=m.PROC_INST_ENDING:g.procInstBody+=C;continue;case m.PROC_INST_ENDING:C===">"?(P(g,"onprocessinginstruction",{name:g.procInstName,body:g.procInstBody}),g.procInstName=g.procInstBody="",g.state=m.TEXT):(g.procInstBody+="?"+C,g.state=m.PROC_INST_BODY);continue;case m.OPEN_TAG:w(N,C)?g.tagName+=C:(Y(g),C===">"?mt(g):C==="/"?g.state=m.OPEN_TAG_SLASH:(v(C)||M(g,"Invalid character in tag name"),g.state=m.ATTRIB));continue;case m.OPEN_TAG_SLASH:C===">"?(mt(g,!0),Kt(g)):(M(g,"Forward-slash in opening tag not followed by >"),g.state=m.ATTRIB);continue;case m.ATTRIB:if(v(C))continue;C===">"?mt(g):C==="/"?g.state=m.OPEN_TAG_SLASH:w(x,C)?(g.attribName=C,g.attribValue="",g.state=m.ATTRIB_NAME):M(g,"Invalid attribute name");continue;case m.ATTRIB_NAME:C==="="?g.state=m.ATTRIB_VALUE:C===">"?(M(g,"Attribute without value"),g.attribValue=g.attribName,Pt(g),mt(g)):v(C)?g.state=m.ATTRIB_NAME_SAW_WHITE:w(N,C)?g.attribName+=C:M(g,"Invalid attribute name");continue;case m.ATTRIB_NAME_SAW_WHITE:if(C==="=")g.state=m.ATTRIB_VALUE;else{if(v(C))continue;M(g,"Attribute without value"),g.tag.attributes[g.attribName]="",g.attribValue="",P(g,"onattribute",{name:g.attribName,value:""}),g.attribName="",C===">"?mt(g):w(x,C)?(g.attribName=C,g.state=m.ATTRIB_NAME):(M(g,"Invalid attribute name"),g.state=m.ATTRIB)}continue;case m.ATTRIB_VALUE:if(v(C))continue;p(C)?(g.q=C,g.state=m.ATTRIB_VALUE_QUOTED):(M(g,"Unquoted attribute value"),g.state=m.ATTRIB_VALUE_UNQUOTED,g.attribValue=C);continue;case m.ATTRIB_VALUE_QUOTED:if(C!==g.q){C==="&"?g.state=m.ATTRIB_VALUE_ENTITY_Q:g.attribValue+=C;continue}Pt(g),g.q="",g.state=m.ATTRIB_VALUE_CLOSED;continue;case m.ATTRIB_VALUE_CLOSED:v(C)?g.state=m.ATTRIB:C===">"?mt(g):C==="/"?g.state=m.OPEN_TAG_SLASH:w(x,C)?(M(g,"No whitespace between attributes"),g.attribName=C,g.attribValue="",g.state=m.ATTRIB_NAME):M(g,"Invalid attribute name");continue;case m.ATTRIB_VALUE_UNQUOTED:if(!d(C)){C==="&"?g.state=m.ATTRIB_VALUE_ENTITY_U:g.attribValue+=C;continue}Pt(g),C===">"?mt(g):g.state=m.ATTRIB;continue;case m.CLOSE_TAG:if(g.tagName)C===">"?Kt(g):w(N,C)?g.tagName+=C:g.script?(g.script+="</"+g.tagName,g.tagName="",g.state=m.SCRIPT):(v(C)||M(g,"Invalid tagname in closing tag"),g.state=m.CLOSE_TAG_SAW_WHITE);else{if(v(C))continue;S(x,C)?g.script?(g.script+="</"+C,g.state=m.SCRIPT):M(g,"Invalid tagname in closing tag."):g.tagName=C}continue;case m.CLOSE_TAG_SAW_WHITE:if(v(C))continue;C===">"?Kt(g):M(g,"Invalid characters in closing tag");continue;case m.TEXT_ENTITY:case m.ATTRIB_VALUE_ENTITY_Q:case m.ATTRIB_VALUE_ENTITY_U:var Z,at;switch(g.state){case m.TEXT_ENTITY:Z=m.TEXT,at="textNode";break;case m.ATTRIB_VALUE_ENTITY_Q:Z=m.ATTRIB_VALUE_QUOTED,at="attribValue";break;case m.ATTRIB_VALUE_ENTITY_U:Z=m.ATTRIB_VALUE_UNQUOTED,at="attribValue";break}if(C===";")if(g.opt.unparsedEntities){var dt=gi(g);g.entity="",g.state=Z,g.write(dt)}else g[at]+=gi(g),g.entity="",g.state=Z;else w(g.entity.length?E:T,C)?g.entity+=C:(M(g,"Invalid character in entity name"),g[at]+="&"+g.entity+C,g.entity="",g.state=Z);continue;default:throw new Error(g,"Unknown state: "+g.state)}return g.position>=g.bufferCheckPosition&&n(g),g}String.fromCodePoint||function(){var b=String.fromCharCode,g=Math.floor,A=function(){var C=16384,$=[],J,Z,at=-1,dt=arguments.length;if(!dt)return"";for(var Ee="";++at<dt;){var ot=Number(arguments[at]);if(!isFinite(ot)||ot<0||ot>1114111||g(ot)!==ot)throw RangeError("Invalid code point: "+ot);ot<=65535?$.push(ot):(ot-=65536,J=(ot>>10)+55296,Z=ot%1024+56320,$.push(J,Z)),(at+1===dt||$.length>C)&&(Ee+=b.apply(null,$),$.length=0)}return Ee};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:A,configurable:!0,writable:!0}):String.fromCodePoint=A}()})(typeof Hn=="undefined"?Hn.sax={}:Hn)});var oc=I(gs=>{(function(){"use strict";gs.stripBOM=function(t){return t[0]==="\uFEFF"?t.substring(1):t}}).call(gs)});var ms=I(me=>{(function(){"use strict";var t;t=new RegExp(/(?!xmlns)^.*:/),me.normalize=function(e){return e.toLowerCase()},me.firstCharLowerCase=function(e){return e.charAt(0).toLowerCase()+e.slice(1)},me.stripPrefix=function(e){return e.replace(t,"")},me.parseNumbers=function(e){return isNaN(e)||(e=e%1==0?parseInt(e,10):parseFloat(e)),e},me.parseBooleans=function(e){return/^(?:true|false)$/i.test(e)&&(e=e.toLowerCase()==="true"),e}}).call(me)});var uc=I(Qt=>{(function(){"use strict";var t,e,i,n,r,s,a,o,u,l=function(h,_){return function(){return h.apply(_,arguments)}},c=function(h,_){for(var y in _)f.call(_,y)&&(h[y]=_[y]);function x(){this.constructor=h}return x.prototype=_.prototype,h.prototype=new x,h.__super__=_.prototype,h},f={}.hasOwnProperty;o=ac(),n=require("events"),t=oc(),a=ms(),u=require("timers").setImmediate,e=kn().defaults,r=function(h){return typeof h=="object"&&h!=null&&Object.keys(h).length===0},s=function(h,_,y){var x,N,T;for(x=0,N=h.length;x<N;x++)T=h[x],_=T(_,y);return _},i=function(h,_,y){var x;return x=Object.create(null),x.value=y,x.writable=!0,x.enumerable=!0,x.configurable=!0,Object.defineProperty(h,_,x)},Qt.Parser=function(h){c(_,h);function _(y){this.parseStringPromise=l(this.parseStringPromise,this),this.parseString=l(this.parseString,this),this.reset=l(this.reset,this),this.assignOrPush=l(this.assignOrPush,this),this.processAsync=l(this.processAsync,this);var x,N,T;if(!(this instanceof Qt.Parser))return new Qt.Parser(y);this.options={},N=e["0.2"];for(x in N)!f.call(N,x)||(T=N[x],this.options[x]=T);for(x in y)!f.call(y,x)||(T=y[x],this.options[x]=T);this.options.xmlns&&(this.options.xmlnskey=this.options.attrkey+"ns"),this.options.normalizeTags&&(this.options.tagNameProcessors||(this.options.tagNameProcessors=[]),this.options.tagNameProcessors.unshift(a.normalize)),this.reset()}return _.prototype.processAsync=function(){var y,x;try{return this.remaining.length<=this.options.chunkSize?(y=this.remaining,this.remaining="",this.saxParser=this.saxParser.write(y),this.saxParser.close()):(y=this.remaining.substr(0,this.options.chunkSize),this.remaining=this.remaining.substr(this.options.chunkSize,this.remaining.length),this.saxParser=this.saxParser.write(y),u(this.processAsync))}catch(N){if(x=N,!this.saxParser.errThrown)return this.saxParser.errThrown=!0,this.emit(x)}},_.prototype.assignOrPush=function(y,x,N){return x in y?(y[x]instanceof Array||i(y,x,[y[x]]),y[x].push(N)):this.options.explicitArray?i(y,x,[N]):i(y,x,N)},_.prototype.reset=function(){var y,x,N,T;return this.removeAllListeners(),this.saxParser=o.parser(this.options.strict,{trim:!1,normalize:!1,xmlns:this.options.xmlns}),this.saxParser.errThrown=!1,this.saxParser.onerror=function(E){return function(v){if(E.saxParser.resume(),!E.saxParser.errThrown)return E.saxParser.errThrown=!0,E.emit("error",v)}}(this),this.saxParser.onend=function(E){return function(){if(!E.saxParser.ended)return E.saxParser.ended=!0,E.emit("end",E.resultObject)}}(this),this.saxParser.ended=!1,this.EXPLICIT_CHARKEY=this.options.explicitCharkey,this.resultObject=null,T=[],y=this.options.attrkey,x=this.options.charkey,this.saxParser.onopentag=function(E){return function(v){var p,d,w,S,m;if(w={},w[x]="",!E.options.ignoreAttrs){m=v.attributes;for(p in m)!f.call(m,p)||(!(y in w)&&!E.options.mergeAttrs&&(w[y]={}),d=E.options.attrValueProcessors?s(E.options.attrValueProcessors,v.attributes[p],p):v.attributes[p],S=E.options.attrNameProcessors?s(E.options.attrNameProcessors,p):p,E.options.mergeAttrs?E.assignOrPush(w,S,d):i(w[y],S,d))}return w["#name"]=E.options.tagNameProcessors?s(E.options.tagNameProcessors,v.name):v.name,E.options.xmlns&&(w[E.options.xmlnskey]={uri:v.uri,local:v.local}),T.push(w)}}(this),this.saxParser.onclosetag=function(E){return function(){var v,p,d,w,S,m,D,O,P,k;if(m=T.pop(),S=m["#name"],(!E.options.explicitChildren||!E.options.preserveChildrenOrder)&&delete m["#name"],m.cdata===!0&&(v=m.cdata,delete m.cdata),P=T[T.length-1],m[x].match(/^\s*$/)&&!v?(p=m[x],delete m[x]):(E.options.trim&&(m[x]=m[x].trim()),E.options.normalize&&(m[x]=m[x].replace(/\s{2,}/g," ").trim()),m[x]=E.options.valueProcessors?s(E.options.valueProcessors,m[x],S):m[x],Object.keys(m).length===1&&x in m&&!E.EXPLICIT_CHARKEY&&(m=m[x])),r(m)&&(typeof E.options.emptyTag=="function"?m=E.options.emptyTag():m=E.options.emptyTag!==""?E.options.emptyTag:p),E.options.validator!=null&&(k="/"+function(){var R,B,W;for(W=[],R=0,B=T.length;R<B;R++)w=T[R],W.push(w["#name"]);return W}().concat(S).join("/"),function(){var R;try{return m=E.options.validator(k,P&&P[S],m)}catch(B){return R=B,E.emit("error",R)}}()),E.options.explicitChildren&&!E.options.mergeAttrs&&typeof m=="object"){if(!E.options.preserveChildrenOrder)w={},E.options.attrkey in m&&(w[E.options.attrkey]=m[E.options.attrkey],delete m[E.options.attrkey]),!E.options.charsAsChildren&&E.options.charkey in m&&(w[E.options.charkey]=m[E.options.charkey],delete m[E.options.charkey]),Object.getOwnPropertyNames(m).length>0&&(w[E.options.childkey]=m),m=w;else if(P){P[E.options.childkey]=P[E.options.childkey]||[],D={};for(d in m)!f.call(m,d)||i(D,d,m[d]);P[E.options.childkey].push(D),delete m["#name"],Object.keys(m).length===1&&x in m&&!E.EXPLICIT_CHARKEY&&(m=m[x])}}return T.length>0?E.assignOrPush(P,S,m):(E.options.explicitRoot&&(O=m,m={},i(m,S,O)),E.resultObject=m,E.saxParser.ended=!0,E.emit("end",E.resultObject))}}(this),N=function(E){return function(v){var p,d;if(d=T[T.length-1],d)return d[x]+=v,E.options.explicitChildren&&E.options.preserveChildrenOrder&&E.options.charsAsChildren&&(E.options.includeWhiteChars||v.replace(/\\n/g,"").trim()!=="")&&(d[E.options.childkey]=d[E.options.childkey]||[],p={"#name":"__text__"},p[x]=v,E.options.normalize&&(p[x]=p[x].replace(/\s{2,}/g," ").trim()),d[E.options.childkey].push(p)),d}}(this),this.saxParser.ontext=N,this.saxParser.oncdata=function(E){return function(v){var p;if(p=N(v),p)return p.cdata=!0}}(this)},_.prototype.parseString=function(y,x){var N;x!=null&&typeof x=="function"&&(this.on("end",function(T){return this.reset(),x(null,T)}),this.on("error",function(T){return this.reset(),x(T)}));try{return y=y.toString(),y.trim()===""?(this.emit("end",null),!0):(y=t.stripBOM(y),this.options.async?(this.remaining=y,u(this.processAsync),this.saxParser):this.saxParser.write(y).close())}catch(T){if(N=T,this.saxParser.errThrown||this.saxParser.ended){if(this.saxParser.ended)throw N}else return this.emit("error",N),this.saxParser.errThrown=!0}},_.prototype.parseStringPromise=function(y){return new Promise(function(x){return function(N,T){return x.parseString(y,function(E,v){return E?T(E):N(v)})}}(this))},_}(n),Qt.parseString=function(h,_,y){var x,N,T;return y!=null?(typeof y=="function"&&(x=y),typeof _=="object"&&(N=_)):(typeof _=="function"&&(x=_),N={}),T=new Qt.Parser(N),T.parseString(h,x)},Qt.parseStringPromise=function(h,_){var y,x;return typeof _=="object"&&(y=_),x=new Qt.Parser(y),x.parseStringPromise(h)}}).call(Qt)});var lc=I(Jt=>{(function(){"use strict";var t,e,i,n,r=function(a,o){for(var u in o)s.call(o,u)&&(a[u]=o[u]);function l(){this.constructor=a}return l.prototype=o.prototype,a.prototype=new l,a.__super__=o.prototype,a},s={}.hasOwnProperty;e=kn(),t=sc(),i=uc(),n=ms(),Jt.defaults=e.defaults,Jt.processors=n,Jt.ValidationError=function(a){r(o,a);function o(u){this.message=u}return o}(Error),Jt.Builder=t.Builder,Jt.Parser=i.Parser,Jt.parseString=i.parseString,Jt.parseStringPromise=i.parseStringPromise}).call(Jt)});var sr=I((yv,kc)=>{"use strict";function nt(t){this.__parent=t,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}nt.prototype.clone_empty=function(){var t=new nt(this.__parent);return t.set_indent(this.__indent_count,this.__alignment_count),t};nt.prototype.item=function(t){return t<0?this.__items[this.__items.length+t]:this.__items[t]};nt.prototype.has_match=function(t){for(var e=this.__items.length-1;e>=0;e--)if(this.__items[e].match(t))return!0;return!1};nt.prototype.set_indent=function(t,e){this.is_empty()&&(this.__indent_count=t||0,this.__alignment_count=e||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))};nt.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)};nt.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count};nt.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var t=this.__parent.current_line;return t.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),t.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),t.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,t.__items[0]===" "&&(t.__items.splice(0,1),t.__character_count-=1),!0}return!1};nt.prototype.is_empty=function(){return this.__items.length===0};nt.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]};nt.prototype.push=function(t){this.__items.push(t);var e=t.lastIndexOf(`
`);e!==-1?this.__character_count=t.length-e:this.__character_count+=t.length};nt.prototype.pop=function(){var t=null;return this.is_empty()||(t=this.__items.pop(),this.__character_count-=t.length),t};nt.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)};nt.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)};nt.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),this.__character_count-=1};nt.prototype.toString=function(){var t="";return this.is_empty()?this.__parent.indent_empty_lines&&(t=this.__parent.get_indent_string(this.__indent_count)):(t=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),t+=this.__items.join("")),t};function ri(t,e){this.__cache=[""],this.__indent_size=t.indent_size,this.__indent_string=t.indent_char,t.indent_with_tabs||(this.__indent_string=new Array(t.indent_size+1).join(t.indent_char)),e=e||"",t.indent_level>0&&(e=new Array(t.indent_level+1).join(this.__indent_string)),this.__base_string=e,this.__base_string_length=e.length}ri.prototype.get_indent_size=function(t,e){var i=this.__base_string_length;return e=e||0,t<0&&(i=0),i+=t*this.__indent_size,i+=e,i};ri.prototype.get_indent_string=function(t,e){var i=this.__base_string;return e=e||0,t<0&&(t=0,i=""),e+=t*this.__indent_size,this.__ensure_cache(e),i+=this.__cache[e],i};ri.prototype.__ensure_cache=function(t){for(;t>=this.__cache.length;)this.__add_column()};ri.prototype.__add_column=function(){var t=this.__cache.length,e=0,i="";this.__indent_size&&t>=this.__indent_size&&(e=Math.floor(t/this.__indent_size),t-=e*this.__indent_size,i=new Array(e+1).join(this.__indent_string)),t&&(i+=new Array(t+1).join(" ")),this.__cache.push(i)};function rt(t,e){this.__indent_cache=new ri(t,e),this.raw=!1,this._end_with_newline=t.end_with_newline,this.indent_size=t.indent_size,this.wrap_line_length=t.wrap_line_length,this.indent_empty_lines=t.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new nt(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}rt.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)};rt.prototype.get_line_number=function(){return this.__lines.length};rt.prototype.get_indent_string=function(t,e){return this.__indent_cache.get_indent_string(t,e)};rt.prototype.get_indent_size=function(t,e){return this.__indent_cache.get_indent_size(t,e)};rt.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()};rt.prototype.add_new_line=function(t){return this.is_empty()||!t&&this.just_added_newline()?!1:(this.raw||this.__add_outputline(),!0)};rt.prototype.get_code=function(t){this.trim(!0);var e=this.current_line.pop();e&&(e[e.length-1]===`
`&&(e=e.replace(/\n+$/g,"")),this.current_line.push(e)),this._end_with_newline&&this.__add_outputline();var i=this.__lines.join(`
`);return t!==`
`&&(i=i.replace(/[\n]/g,t)),i};rt.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()};rt.prototype.set_indent=function(t,e){return t=t||0,e=e||0,this.next_line.set_indent(t,e),this.__lines.length>1?(this.current_line.set_indent(t,e),!0):(this.current_line.set_indent(),!1)};rt.prototype.add_raw_token=function(t){for(var e=0;e<t.newlines;e++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(t.whitespace_before),this.current_line.push(t.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1};rt.prototype.add_token=function(t){this.__add_space_before_token(),this.current_line.push(t),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()};rt.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))};rt.prototype.remove_indent=function(t){for(var e=this.__lines.length;t<e;)this.__lines[t]._remove_indent(),t++;this.current_line._remove_wrap_indent()};rt.prototype.trim=function(t){for(t=t===void 0?!1:t,this.current_line.trim();t&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null};rt.prototype.just_added_newline=function(){return this.current_line.is_empty()};rt.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()};rt.prototype.ensure_empty_line_above=function(t,e){for(var i=this.__lines.length-2;i>=0;){var n=this.__lines[i];if(n.is_empty())break;if(n.item(0).indexOf(t)!==0&&n.item(-1)!==e){this.__lines.splice(i+1,0,new nt(this)),this.previous_line=this.__lines[this.__lines.length-2];break}i--}};kc.exports.Output=rt});var As=I((vv,Rc)=>{"use strict";function rm(t,e,i,n){this.type=t,this.text=e,this.comments_before=null,this.newlines=i||0,this.whitespace_before=n||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}Rc.exports.Token=rm});var Rs=I(te=>{"use strict";var sm="\\x23\\x24\\x40\\x41-\\x5a\\x5f\\x61-\\x7a",Mc="\\x24\\x30-\\x39\\x41-\\x5a\\x5f\\x61-\\x7a",Is="\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc",Fc="\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f",ks="\\\\u[0-9a-fA-F]{4}|\\\\u\\{[0-9a-fA-F]+\\}",jc="(?:"+ks+"|["+sm+Is+"])",am="(?:"+ks+"|["+Mc+Is+Fc+"])*";te.identifier=new RegExp(jc+am,"g");te.identifierStart=new RegExp(jc);te.identifierMatch=new RegExp("(?:"+ks+"|["+Mc+Is+Fc+"])+");te.newline=/[\n\r\u2028\u2029]/;te.lineBreak=new RegExp(`\r
|`+te.newline.source);te.allLineBreaks=new RegExp(te.lineBreak.source,"g")});var or=I((wv,ar)=>{"use strict";function fe(t,e){this.raw_options=qc(t,e),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","angular","django","erb","handlebars","php","smarty"],["auto"])}fe.prototype._get_array=function(t,e){var i=this.raw_options[t],n=e||[];return typeof i=="object"?i!==null&&typeof i.concat=="function"&&(n=i.concat()):typeof i=="string"&&(n=i.split(/[^a-zA-Z0-9_\/\-]+/)),n};fe.prototype._get_boolean=function(t,e){var i=this.raw_options[t],n=i===void 0?!!e:!!i;return n};fe.prototype._get_characters=function(t,e){var i=this.raw_options[t],n=e||"";return typeof i=="string"&&(n=i.replace(/\\r/,"\r").replace(/\\n/,`
`).replace(/\\t/,"	")),n};fe.prototype._get_number=function(t,e){var i=this.raw_options[t];e=parseInt(e,10),isNaN(e)&&(e=0);var n=parseInt(i,10);return isNaN(n)&&(n=e),n};fe.prototype._get_selection=function(t,e,i){var n=this._get_selection_list(t,e,i);if(n.length!==1)throw new Error("Invalid Option Value: The option '"+t+`' can only be one of the following values:
`+e+`
You passed in: '`+this.raw_options[t]+"'");return n[0]};fe.prototype._get_selection_list=function(t,e,i){if(!e||e.length===0)throw new Error("Selection list cannot be empty.");if(i=i||[e[0]],!this._is_valid_selection(i,e))throw new Error("Invalid Default Value!");var n=this._get_array(t,i);if(!this._is_valid_selection(n,e))throw new Error("Invalid Option Value: The option '"+t+`' can contain only the following values:
`+e+`
You passed in: '`+this.raw_options[t]+"'");return n};fe.prototype._is_valid_selection=function(t,e){return t.length&&e.length&&!t.some(function(i){return e.indexOf(i)===-1})};function qc(t,e){var i={};t=Bc(t);var n;for(n in t)n!==e&&(i[n]=t[n]);if(e&&t[e])for(n in t[e])i[n]=t[e][n];return i}function Bc(t){var e={},i;for(i in t){var n=i.replace(/-/g,"_");e[n]=t[i]}return e}ar.exports.Options=fe;ar.exports.normalizeOpts=Bc;ar.exports.mergeOpts=qc});var Ms=I((xv,zc)=>{"use strict";var Xc=or().Options,om=["before-newline","after-newline","preserve-newline"];function Uc(t){Xc.call(this,t,"js");var e=this.raw_options.brace_style||null;e==="expand-strict"?this.raw_options.brace_style="expand":e==="collapse-preserve-inline"?this.raw_options.brace_style="collapse,preserve-inline":this.raw_options.braces_on_own_line!==void 0&&(this.raw_options.brace_style=this.raw_options.braces_on_own_line?"expand":"collapse");var i=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_preserve_inline=!1,this.brace_style="collapse";for(var n=0;n<i.length;n++)i[n]==="preserve-inline"?this.brace_preserve_inline=!0:this.brace_style=i[n];this.unindent_chained_methods=this._get_boolean("unindent_chained_methods"),this.break_chained_methods=this._get_boolean("break_chained_methods"),this.space_in_paren=this._get_boolean("space_in_paren"),this.space_in_empty_paren=this._get_boolean("space_in_empty_paren"),this.jslint_happy=this._get_boolean("jslint_happy"),this.space_after_anon_function=this._get_boolean("space_after_anon_function"),this.space_after_named_function=this._get_boolean("space_after_named_function"),this.keep_array_indentation=this._get_boolean("keep_array_indentation"),this.space_before_conditional=this._get_boolean("space_before_conditional",!0),this.unescape_strings=this._get_boolean("unescape_strings"),this.e4x=this._get_boolean("e4x"),this.comma_first=this._get_boolean("comma_first"),this.operator_position=this._get_selection("operator_position",om),this.test_output_raw=this._get_boolean("test_output_raw"),this.jslint_happy&&(this.space_after_anon_function=!0)}Uc.prototype=new Xc;zc.exports.Options=Uc});var ur=I((Ev,Vc)=>{"use strict";var Wc=RegExp.prototype.hasOwnProperty("sticky");function ft(t){this.__input=t||"",this.__input_length=this.__input.length,this.__position=0}ft.prototype.restart=function(){this.__position=0};ft.prototype.back=function(){this.__position>0&&(this.__position-=1)};ft.prototype.hasNext=function(){return this.__position<this.__input_length};ft.prototype.next=function(){var t=null;return this.hasNext()&&(t=this.__input.charAt(this.__position),this.__position+=1),t};ft.prototype.peek=function(t){var e=null;return t=t||0,t+=this.__position,t>=0&&t<this.__input_length&&(e=this.__input.charAt(t)),e};ft.prototype.__match=function(t,e){t.lastIndex=e;var i=t.exec(this.__input);return i&&!(Wc&&t.sticky)&&i.index!==e&&(i=null),i};ft.prototype.test=function(t,e){return e=e||0,e+=this.__position,e>=0&&e<this.__input_length?!!this.__match(t,e):!1};ft.prototype.testChar=function(t,e){var i=this.peek(e);return t.lastIndex=0,i!==null&&t.test(i)};ft.prototype.match=function(t){var e=this.__match(t,this.__position);return e?this.__position+=e[0].length:e=null,e};ft.prototype.read=function(t,e,i){var n="",r;return t&&(r=this.match(t),r&&(n+=r[0])),e&&(r||!t)&&(n+=this.readUntil(e,i)),n};ft.prototype.readUntil=function(t,e){var i="",n=this.__position;t.lastIndex=this.__position;var r=t.exec(this.__input);return r?(n=r.index,e&&(n+=r[0].length)):n=this.__input_length,i=this.__input.substring(this.__position,n),this.__position=n,i};ft.prototype.readUntilAfter=function(t){return this.readUntil(t,!0)};ft.prototype.get_regexp=function(t,e){var i=null,n="g";return e&&Wc&&(n="y"),typeof t=="string"&&t!==""?i=new RegExp(t,n):t&&(i=new RegExp(t.source,n)),i};ft.prototype.get_literal_regexp=function(t){return RegExp(t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))};ft.prototype.peekUntilAfter=function(t){var e=this.__position,i=this.readUntilAfter(t);return this.__position=e,i};ft.prototype.lookBack=function(t){var e=this.__position-1;return e>=t.length&&this.__input.substring(e-t.length,e).toLowerCase()===t};Vc.exports.InputScanner=ft});var Kc=I((Ov,$c)=>{"use strict";function be(t){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=t}be.prototype.restart=function(){this.__position=0};be.prototype.isEmpty=function(){return this.__tokens_length===0};be.prototype.hasNext=function(){return this.__position<this.__tokens_length};be.prototype.next=function(){var t=null;return this.hasNext()&&(t=this.__tokens[this.__position],this.__position+=1),t};be.prototype.peek=function(t){var e=null;return t=t||0,t+=this.__position,t>=0&&t<this.__tokens_length&&(e=this.__tokens[t]),e};be.prototype.add=function(t){this.__parent_token&&(t.parent=this.__parent_token),this.__tokens.push(t),this.__tokens_length+=1};$c.exports.TokenStream=be});var si=I((Tv,Gc)=>{"use strict";function Wt(t,e){this._input=t,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,e&&(this._starting_pattern=this._input.get_regexp(e._starting_pattern,!0),this._match_pattern=this._input.get_regexp(e._match_pattern,!0),this._until_pattern=this._input.get_regexp(e._until_pattern),this._until_after=e._until_after)}Wt.prototype.read=function(){var t=this._input.read(this._starting_pattern);return(!this._starting_pattern||t)&&(t+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),t};Wt.prototype.read_match=function(){return this._input.match(this._match_pattern)};Wt.prototype.until_after=function(t){var e=this._create();return e._until_after=!0,e._until_pattern=this._input.get_regexp(t),e._update(),e};Wt.prototype.until=function(t){var e=this._create();return e._until_after=!1,e._until_pattern=this._input.get_regexp(t),e._update(),e};Wt.prototype.starting_with=function(t){var e=this._create();return e._starting_pattern=this._input.get_regexp(t,!0),e._update(),e};Wt.prototype.matching=function(t){var e=this._create();return e._match_pattern=this._input.get_regexp(t,!0),e._update(),e};Wt.prototype._create=function(){return new Wt(this._input,this)};Wt.prototype._update=function(){};Gc.exports.Pattern=Wt});var Qc=I((Nv,Yc)=>{"use strict";var Hc=si().Pattern;function he(t,e){Hc.call(this,t,e),e?this._line_regexp=this._input.get_regexp(e._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}he.prototype=new Hc;he.prototype.__set_whitespace_patterns=function(t,e){t+="\\t ",e+="\\n\\r",this._match_pattern=this._input.get_regexp("["+t+e+"]+",!0),this._newline_regexp=this._input.get_regexp("\\r\\n|["+e+"]")};he.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var t=this._input.read(this._match_pattern);if(t===" ")this.whitespace_before_token=" ";else if(t){var e=this.__split(this._newline_regexp,t);this.newline_count=e.length-1,this.whitespace_before_token=e[this.newline_count]}return t};he.prototype.matching=function(t,e){var i=this._create();return i.__set_whitespace_patterns(t,e),i._update(),i};he.prototype._create=function(){return new he(this._input,this)};he.prototype.__split=function(t,e){t.lastIndex=0;for(var i=0,n=[],r=t.exec(e);r;)n.push(e.substring(i,r.index)),i=r.index+r[0].length,r=t.exec(e);return i<e.length?n.push(e.substring(i,e.length)):n.push(""),n};Yc.exports.WhitespacePattern=he});var oi=I((Sv,js)=>{"use strict";var um=ur().InputScanner,Jc=As().Token,Fs=Kc().TokenStream,lm=Qc().WhitespacePattern,ai={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"},Vt=function(t,e){this._input=new um(t),this._options=e||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new lm(this._input)};Vt.prototype.tokenize=function(){this._input.restart(),this.__tokens=new Fs,this._reset();for(var t,e=new Jc(ai.START,""),i=null,n=[],r=new Fs;e.type!==ai.EOF;){for(t=this._get_next_token(e,i);this._is_comment(t);)r.add(t),t=this._get_next_token(e,i);r.isEmpty()||(t.comments_before=r,r=new Fs),t.parent=i,this._is_opening(t)?(n.push(i),i=t):i&&this._is_closing(t,i)&&(t.opened=i,i.closed=t,i=n.pop(),t.parent=i),t.previous=e,e.next=t,this.__tokens.add(t),e=t}return this.__tokens};Vt.prototype._is_first_token=function(){return this.__tokens.isEmpty()};Vt.prototype._reset=function(){};Vt.prototype._get_next_token=function(t,e){this._readWhitespace();var i=this._input.read(/.+/g);return i?this._create_token(ai.RAW,i):this._create_token(ai.EOF,"")};Vt.prototype._is_comment=function(t){return!1};Vt.prototype._is_opening=function(t){return!1};Vt.prototype._is_closing=function(t,e){return!1};Vt.prototype._create_token=function(t,e){var i=new Jc(t,e,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token);return i};Vt.prototype._readWhitespace=function(){return this._patterns.whitespace.read()};js.exports.Tokenizer=Vt;js.exports.TOKEN=ai});var lr=I((Cv,Zc)=>{"use strict";function qs(t,e){t=typeof t=="string"?t:t.source,e=typeof e=="string"?e:e.source,this.__directives_block_pattern=new RegExp(t+/ beautify( \w+[:]\w+)+ /.source+e,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(t+/\sbeautify\signore:end\s/.source+e,"g")}qs.prototype.get_directives=function(t){if(!t.match(this.__directives_block_pattern))return null;var e={};this.__directive_pattern.lastIndex=0;for(var i=this.__directive_pattern.exec(t);i;)e[i[1]]=i[2],i=this.__directive_pattern.exec(t);return e};qs.prototype.readIgnored=function(t){return t.readUntilAfter(this.__directives_end_ignore_pattern)};Zc.exports.Directives=qs});var Us=I((Dv,tf)=>{"use strict";var Bs=si().Pattern,Xs={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1,angular:!1};function Mt(t,e){Bs.call(this,t,e),this.__template_pattern=null,this._disabled=Object.assign({},Xs),this._excluded=Object.assign({},Xs),e&&(this.__template_pattern=this._input.get_regexp(e.__template_pattern),this._excluded=Object.assign(this._excluded,e._excluded),this._disabled=Object.assign(this._disabled,e._disabled));var i=new Bs(t);this.__patterns={handlebars_comment:i.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:i.starting_with(/{{{/).until_after(/}}}/),handlebars:i.starting_with(/{{/).until_after(/}}/),php:i.starting_with(/<\?(?:[= ]|php)/).until_after(/\?>/),erb:i.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:i.starting_with(/{%/).until_after(/%}/),django_value:i.starting_with(/{{/).until_after(/}}/),django_comment:i.starting_with(/{#/).until_after(/#}/),smarty:i.starting_with(/{(?=[^}{\s\n])/).until_after(/[^\s\n]}/),smarty_comment:i.starting_with(/{\*/).until_after(/\*}/),smarty_literal:i.starting_with(/{literal}/).until_after(/{\/literal}/)}}Mt.prototype=new Bs;Mt.prototype._create=function(){return new Mt(this._input,this)};Mt.prototype._update=function(){this.__set_templated_pattern()};Mt.prototype.disable=function(t){var e=this._create();return e._disabled[t]=!0,e._update(),e};Mt.prototype.read_options=function(t){var e=this._create();for(var i in Xs)e._disabled[i]=t.templating.indexOf(i)===-1;return e._update(),e};Mt.prototype.exclude=function(t){var e=this._create();return e._excluded[t]=!0,e._update(),e};Mt.prototype.read=function(){var t="";this._match_pattern?t=this._input.read(this._starting_pattern):t=this._input.read(this._starting_pattern,this.__template_pattern);for(var e=this._read_template();e;)this._match_pattern?e+=this._input.read(this._match_pattern):e+=this._input.readUntil(this.__template_pattern),t+=e,e=this._read_template();return this._until_after&&(t+=this._input.readUntilAfter(this._until_pattern)),t};Mt.prototype.__set_templated_pattern=function(){var t=[];this._disabled.php||t.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||t.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||t.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(t.push(this.__patterns.django._starting_pattern.source),t.push(this.__patterns.django_value._starting_pattern.source),t.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||t.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&t.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+t.join("|")+")")};Mt.prototype._read_template=function(){var t="",e=this._input.peek();if(e==="<"){var i=this._input.peek(1);!this._disabled.php&&!this._excluded.php&&i==="?"&&(t=t||this.__patterns.php.read()),!this._disabled.erb&&!this._excluded.erb&&i==="%"&&(t=t||this.__patterns.erb.read())}else e==="{"&&(!this._disabled.handlebars&&!this._excluded.handlebars&&(t=t||this.__patterns.handlebars_comment.read(),t=t||this.__patterns.handlebars_unescaped.read(),t=t||this.__patterns.handlebars.read()),this._disabled.django||(!this._excluded.django&&!this._excluded.handlebars&&(t=t||this.__patterns.django_value.read()),this._excluded.django||(t=t||this.__patterns.django_comment.read(),t=t||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(t=t||this.__patterns.smarty_comment.read(),t=t||this.__patterns.smarty_literal.read(),t=t||this.__patterns.smarty.read()));return t};tf.exports.TemplatablePattern=Mt});var li=I((Pv,ui)=>{"use strict";var cm=ur().InputScanner,ef=oi().Tokenizer,zs=oi().TOKEN,fm=lr().Directives,Ct=Rs(),hm=si().Pattern,pm=Us().TemplatablePattern;function Ws(t,e){return e.indexOf(t)!==-1}var j={START_EXPR:"TK_START_EXPR",END_EXPR:"TK_END_EXPR",START_BLOCK:"TK_START_BLOCK",END_BLOCK:"TK_END_BLOCK",WORD:"TK_WORD",RESERVED:"TK_RESERVED",SEMICOLON:"TK_SEMICOLON",STRING:"TK_STRING",EQUALS:"TK_EQUALS",OPERATOR:"TK_OPERATOR",COMMA:"TK_COMMA",BLOCK_COMMENT:"TK_BLOCK_COMMENT",COMMENT:"TK_COMMENT",DOT:"TK_DOT",UNKNOWN:"TK_UNKNOWN",START:zs.START,RAW:zs.RAW,EOF:zs.EOF},nf=new fm(/\/\*/,/\*\//),dm=/0[xX][0123456789abcdefABCDEF_]*n?|0[oO][01234567_]*n?|0[bB][01_]*n?|\d[\d_]*n|(?:\.\d[\d_]*|\d[\d_]*\.?[\d_]*)(?:[eE][+-]?[\d_]+)?/,_m=/[0-9]/,gm=/[^\d\.]/,mm=">>> === !== &&= ??= ||= << && >= ** != == <= >> || ?? |> < / - + > : & % ? ^ | *".split(" "),we=">>>= ... >>= <<= === >>> !== **= &&= ??= ||= => ^= :: /= << <= == && -= >= >> != -- += ** || ?? ++ %= &= *= |= |> = ! ? > < : / ^ - + * & % ~ |";we=we.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&");we="\\?\\.(?!\\d) "+we;we=we.replace(/ /g,"|");var ym=new RegExp(we),rf="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(","),vm=rf.concat(["do","in","of","else","get","set","new","catch","finally","typeof","yield","async","await","from","as","class","extends"]),bm=new RegExp("^(?:"+vm.join("|")+")$"),cr,st=function(t,e){ef.call(this,t,e),this._patterns.whitespace=this._patterns.whitespace.matching(/\u00A0\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff/.source,/\u2028\u2029/.source);var i=new hm(this._input),n=new pm(this._input).read_options(this._options);this.__patterns={template:n,identifier:n.starting_with(Ct.identifier).matching(Ct.identifierMatch),number:i.matching(dm),punct:i.matching(ym),comment:i.starting_with(/\/\//).until(/[\n\r\u2028\u2029]/),block_comment:i.starting_with(/\/\*/).until_after(/\*\//),html_comment_start:i.matching(/<!--/),html_comment_end:i.matching(/-->/),include:i.starting_with(/#include/).until_after(Ct.lineBreak),shebang:i.starting_with(/#!/).until_after(Ct.lineBreak),xml:i.matching(/[\s\S]*?<(\/?)([-a-zA-Z:0-9_.]+|{[^}]+?}|!\[CDATA\[[^\]]*?\]\]|)(\s*{[^}]+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{([^{}]|{[^}]+?})+?}))*\s*(\/?)\s*>/),single_quote:n.until(/['\\\n\r\u2028\u2029]/),double_quote:n.until(/["\\\n\r\u2028\u2029]/),template_text:n.until(/[`\\$]/),template_expression:n.until(/[`}\\]/)}};st.prototype=new ef;st.prototype._is_comment=function(t){return t.type===j.COMMENT||t.type===j.BLOCK_COMMENT||t.type===j.UNKNOWN};st.prototype._is_opening=function(t){return t.type===j.START_BLOCK||t.type===j.START_EXPR};st.prototype._is_closing=function(t,e){return(t.type===j.END_BLOCK||t.type===j.END_EXPR)&&e&&(t.text==="]"&&e.text==="["||t.text===")"&&e.text==="("||t.text==="}"&&e.text==="{")};st.prototype._reset=function(){cr=!1};st.prototype._get_next_token=function(t,e){var i=null;this._readWhitespace();var n=this._input.peek();return n===null?this._create_token(j.EOF,""):(i=i||this._read_non_javascript(n),i=i||this._read_string(n),i=i||this._read_pair(n,this._input.peek(1)),i=i||this._read_word(t),i=i||this._read_singles(n),i=i||this._read_comment(n),i=i||this._read_regexp(n,t),i=i||this._read_xml(n,t),i=i||this._read_punctuation(),i=i||this._create_token(j.UNKNOWN,this._input.next()),i)};st.prototype._read_word=function(t){var e;if(e=this.__patterns.identifier.read(),e!=="")return e=e.replace(Ct.allLineBreaks,`
`),!(t.type===j.DOT||t.type===j.RESERVED&&(t.text==="set"||t.text==="get"))&&bm.test(e)?(e==="in"||e==="of")&&(t.type===j.WORD||t.type===j.STRING)?this._create_token(j.OPERATOR,e):this._create_token(j.RESERVED,e):this._create_token(j.WORD,e);if(e=this.__patterns.number.read(),e!=="")return this._create_token(j.WORD,e)};st.prototype._read_singles=function(t){var e=null;return t==="("||t==="["?e=this._create_token(j.START_EXPR,t):t===")"||t==="]"?e=this._create_token(j.END_EXPR,t):t==="{"?e=this._create_token(j.START_BLOCK,t):t==="}"?e=this._create_token(j.END_BLOCK,t):t===";"?e=this._create_token(j.SEMICOLON,t):t==="."&&gm.test(this._input.peek(1))?e=this._create_token(j.DOT,t):t===","&&(e=this._create_token(j.COMMA,t)),e&&this._input.next(),e};st.prototype._read_pair=function(t,e){var i=null;return t==="#"&&e==="{"&&(i=this._create_token(j.START_BLOCK,t+e)),i&&(this._input.next(),this._input.next()),i};st.prototype._read_punctuation=function(){var t=this.__patterns.punct.read();if(t!=="")return t==="="?this._create_token(j.EQUALS,t):t==="?."?this._create_token(j.DOT,t):this._create_token(j.OPERATOR,t)};st.prototype._read_non_javascript=function(t){var e="";if(t==="#"){if(this._is_first_token()&&(e=this.__patterns.shebang.read(),e))return this._create_token(j.UNKNOWN,e.trim()+`
`);if(e=this.__patterns.include.read(),e)return this._create_token(j.UNKNOWN,e.trim()+`
`);t=this._input.next();var i="#";if(this._input.hasNext()&&this._input.testChar(_m)){do t=this._input.next(),i+=t;while(this._input.hasNext()&&t!=="#"&&t!=="=");return t==="#"||(this._input.peek()==="["&&this._input.peek(1)==="]"?(i+="[]",this._input.next(),this._input.next()):this._input.peek()==="{"&&this._input.peek(1)==="}"&&(i+="{}",this._input.next(),this._input.next())),this._create_token(j.WORD,i)}this._input.back()}else if(t==="<"&&this._is_first_token()){if(e=this.__patterns.html_comment_start.read(),e){for(;this._input.hasNext()&&!this._input.testChar(Ct.newline);)e+=this._input.next();return cr=!0,this._create_token(j.COMMENT,e)}}else if(cr&&t==="-"&&(e=this.__patterns.html_comment_end.read(),e))return cr=!1,this._create_token(j.COMMENT,e);return null};st.prototype._read_comment=function(t){var e=null;if(t==="/"){var i="";if(this._input.peek(1)==="*"){i=this.__patterns.block_comment.read();var n=nf.get_directives(i);n&&n.ignore==="start"&&(i+=nf.readIgnored(this._input)),i=i.replace(Ct.allLineBreaks,`
`),e=this._create_token(j.BLOCK_COMMENT,i),e.directives=n}else this._input.peek(1)==="/"&&(i=this.__patterns.comment.read(),e=this._create_token(j.COMMENT,i))}return e};st.prototype._read_string=function(t){if(t==="`"||t==="'"||t==='"'){var e=this._input.next();return this.has_char_escapes=!1,t==="`"?e+=this._read_string_recursive("`",!0,"${"):e+=this._read_string_recursive(t),this.has_char_escapes&&this._options.unescape_strings&&(e=wm(e)),this._input.peek()===t&&(e+=this._input.next()),e=e.replace(Ct.allLineBreaks,`
`),this._create_token(j.STRING,e)}return null};st.prototype._allow_regexp_or_xml=function(t){return t.type===j.RESERVED&&Ws(t.text,["return","case","throw","else","do","typeof","yield"])||t.type===j.END_EXPR&&t.text===")"&&t.opened.previous.type===j.RESERVED&&Ws(t.opened.previous.text,["if","while","for"])||Ws(t.type,[j.COMMENT,j.START_EXPR,j.START_BLOCK,j.START,j.END_BLOCK,j.OPERATOR,j.EQUALS,j.EOF,j.SEMICOLON,j.COMMA])};st.prototype._read_regexp=function(t,e){if(t==="/"&&this._allow_regexp_or_xml(e)){for(var i=this._input.next(),n=!1,r=!1;this._input.hasNext()&&(n||r||this._input.peek()!==t)&&!this._input.testChar(Ct.newline);)i+=this._input.peek(),n?n=!1:(n=this._input.peek()==="\\",this._input.peek()==="["?r=!0:this._input.peek()==="]"&&(r=!1)),this._input.next();return this._input.peek()===t&&(i+=this._input.next(),i+=this._input.read(Ct.identifier)),this._create_token(j.STRING,i)}return null};st.prototype._read_xml=function(t,e){if(this._options.e4x&&t==="<"&&this._allow_regexp_or_xml(e)){var i="",n=this.__patterns.xml.read_match();if(n){for(var r=n[2].replace(/^{\s+/,"{").replace(/\s+}$/,"}"),s=r.indexOf("{")===0,a=0;n;){var o=!!n[1],u=n[2],l=!!n[n.length-1]||u.slice(0,8)==="![CDATA[";if(!l&&(u===r||s&&u.replace(/^{\s+/,"{").replace(/\s+}$/,"}"))&&(o?--a:++a),i+=n[0],a<=0)break;n=this.__patterns.xml.read_match()}return n||(i+=this._input.match(/[\s\S]*/g)[0]),i=i.replace(Ct.allLineBreaks,`
`),this._create_token(j.STRING,i)}}return null};function wm(t){for(var e="",i=0,n=new cm(t),r=null;n.hasNext();)if(r=n.match(/([\s]|[^\\]|\\\\)+/g),r&&(e+=r[0]),n.peek()==="\\"){if(n.next(),n.peek()==="x")r=n.match(/x([0-9A-Fa-f]{2})/g);else if(n.peek()==="u")r=n.match(/u([0-9A-Fa-f]{4})/g),r||(r=n.match(/u\{([0-9A-Fa-f]+)\}/g));else{e+="\\",n.hasNext()&&(e+=n.next());continue}if(!r||(i=parseInt(r[1],16),i>126&&i<=255&&r[0].indexOf("x")===0))return t;i>=0&&i<32||i>1114111?e+="\\"+r[0]:i===34||i===39||i===92?e+="\\"+String.fromCharCode(i):e+=String.fromCharCode(i)}return e}st.prototype._read_string_recursive=function(t,e,i){var n,r;t==="'"?r=this.__patterns.single_quote:t==='"'?r=this.__patterns.double_quote:t==="`"?r=this.__patterns.template_text:t==="}"&&(r=this.__patterns.template_expression);for(var s=r.read(),a="";this._input.hasNext();){if(a=this._input.next(),a===t||!e&&Ct.newline.test(a)){this._input.back();break}else a==="\\"&&this._input.hasNext()?(n=this._input.peek(),n==="x"||n==="u"?this.has_char_escapes=!0:n==="\r"&&this._input.peek(1)===`
`&&this._input.next(),a+=this._input.next()):i&&(i==="${"&&a==="$"&&this._input.peek()==="{"&&(a+=this._input.next()),i===a&&(t==="`"?a+=this._read_string_recursive("}",e,"`"):a+=this._read_string_recursive("`",e,"${"),this._input.hasNext()&&(a+=this._input.next())));a+=r.read(),s+=a}return s};ui.exports.Tokenizer=st;ui.exports.TOKEN=j;ui.exports.positionable_operators=mm.slice();ui.exports.line_starters=rf.slice()});var uf=I((Lv,of)=>{"use strict";var xm=sr().Output,Em=As().Token,fr=Rs(),Om=Ms().Options,Tm=li().Tokenizer,ci=li().line_starters,fi=li().positionable_operators,L=li().TOKEN;function z(t,e){return e.indexOf(t)!==-1}function Nm(t){return t.replace(/^\s+/g,"")}function Sm(t){for(var e={},i=0;i<t.length;i++)e[t[i].replace(/-/g,"_")]=t[i];return e}function Dt(t,e){return t&&t.type===L.RESERVED&&t.text===e}function Q(t,e){return t&&t.type===L.RESERVED&&z(t.text,e)}var hr=["case","return","do","if","throw","else","await","break","continue","async"],Cm=["before-newline","after-newline","preserve-newline"],hi=Sm(Cm),sf=[hi.before_newline,hi.preserve_newline],q={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"};function af(t,e){e.multiline_frame||e.mode===q.ForInitializer||e.mode===q.Conditional||t.remove_indent(e.start_line_index)}function Dm(t){t=t.replace(fr.allLineBreaks,`
`);for(var e=[],i=t.indexOf(`
`);i!==-1;)e.push(t.substring(0,i)),t=t.substring(i+1),i=t.indexOf(`
`);return t.length&&e.push(t),e}function pe(t){return t===q.ArrayLiteral}function pi(t){return z(t,[q.Expression,q.ForInitializer,q.Conditional])}function Pm(t,e){for(var i=0;i<t.length;i++){var n=t[i].trim();if(n.charAt(0)!==e)return!1}return!0}function Lm(t,e){for(var i=0,n=t.length,r;i<n;i++)if(r=t[i],r&&r.indexOf(e)!==0)return!1;return!0}function K(t,e){e=e||{},this._source_text=t||"",this._output=null,this._tokens=null,this._last_last_text=null,this._flags=null,this._previous_flags=null,this._flag_store=null,this._options=new Om(e)}K.prototype.create_flags=function(t,e){var i=0;t&&(i=t.indentation_level,!this._output.just_added_newline()&&t.line_indent_level>i&&(i=t.line_indent_level));var n={mode:e,parent:t,last_token:t?t.last_token:new Em(L.START_BLOCK,""),last_word:t?t.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,class_start_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,case_block:!1,indentation_level:i,alignment:0,line_indent_level:t?t.line_indent_level:i,start_line_index:this._output.get_line_number(),ternary_depth:0};return n};K.prototype._reset=function(t){var e=t.match(/^[\t ]*/)[0];this._last_last_text="",this._output=new xm(this._options,e),this._output.raw=this._options.test_output_raw,this._flag_store=[],this.set_mode(q.BlockStatement);var i=new Tm(t,this._options);return this._tokens=i.tokenize(),t};K.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t,e=this._reset(this._source_text),i=this._options.eol;this._options.eol==="auto"&&(i=`
`,e&&fr.lineBreak.test(e||"")&&(i=e.match(fr.lineBreak)[0]));for(var n=this._tokens.next();n;)this.handle_token(n),this._last_last_text=this._flags.last_token.text,this._flags.last_token=n,n=this._tokens.next();return t=this._output.get_code(i),t};K.prototype.handle_token=function(t,e){t.type===L.START_EXPR?this.handle_start_expr(t):t.type===L.END_EXPR?this.handle_end_expr(t):t.type===L.START_BLOCK?this.handle_start_block(t):t.type===L.END_BLOCK?this.handle_end_block(t):t.type===L.WORD?this.handle_word(t):t.type===L.RESERVED?this.handle_word(t):t.type===L.SEMICOLON?this.handle_semicolon(t):t.type===L.STRING?this.handle_string(t):t.type===L.EQUALS?this.handle_equals(t):t.type===L.OPERATOR?this.handle_operator(t):t.type===L.COMMA?this.handle_comma(t):t.type===L.BLOCK_COMMENT?this.handle_block_comment(t,e):t.type===L.COMMENT?this.handle_comment(t,e):t.type===L.DOT?this.handle_dot(t):t.type===L.EOF?this.handle_eof(t):t.type===L.UNKNOWN?this.handle_unknown(t,e):this.handle_unknown(t,e)};K.prototype.handle_whitespace_and_comments=function(t,e){var i=t.newlines,n=this._options.keep_array_indentation&&pe(this._flags.mode);if(t.comments_before)for(var r=t.comments_before.next();r;)this.handle_whitespace_and_comments(r,e),this.handle_token(r,e),r=t.comments_before.next();if(n)for(var s=0;s<i;s+=1)this.print_newline(s>0,e);else if(this._options.max_preserve_newlines&&i>this._options.max_preserve_newlines&&(i=this._options.max_preserve_newlines),this._options.preserve_newlines&&i>1){this.print_newline(!1,e);for(var a=1;a<i;a+=1)this.print_newline(!0,e)}};var Vs=["async","break","continue","return","throw","yield"];K.prototype.allow_wrap_or_preserved_newline=function(t,e){if(e=e===void 0?!1:e,!this._output.just_added_newline()){var i=this._options.preserve_newlines&&t.newlines||e,n=z(this._flags.last_token.text,fi)||z(t.text,fi);if(n){var r=z(this._flags.last_token.text,fi)&&z(this._options.operator_position,sf)||z(t.text,fi);i=i&&r}if(i)this.print_newline(!1,!0);else if(this._options.wrap_line_length){if(Q(this._flags.last_token,Vs))return;this._output.set_wrap_point()}}};K.prototype.print_newline=function(t,e){if(!e&&this._flags.last_token.text!==";"&&this._flags.last_token.text!==","&&this._flags.last_token.text!=="="&&(this._flags.last_token.type!==L.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++"))for(var i=this._tokens.peek();this._flags.mode===q.Statement&&!(this._flags.if_block&&Dt(i,"else"))&&!this._flags.do_block;)this.restore_mode();this._output.add_new_line(t)&&(this._flags.multiline_frame=!0)};K.prototype.print_token_line_indentation=function(t){this._output.just_added_newline()&&(this._options.keep_array_indentation&&t.newlines&&(t.text==="["||pe(this._flags.mode))?(this._output.current_line.set_indent(-1),this._output.current_line.push(t.whitespace_before),this._output.space_before_token=!1):this._output.set_indent(this._flags.indentation_level,this._flags.alignment)&&(this._flags.line_indent_level=this._flags.indentation_level))};K.prototype.print_token=function(t){if(this._output.raw){this._output.add_raw_token(t);return}if(this._options.comma_first&&t.previous&&t.previous.type===L.COMMA&&this._output.just_added_newline()&&this._output.previous_line.last()===","){var e=this._output.previous_line.pop();this._output.previous_line.is_empty()&&(this._output.previous_line.push(e),this._output.trim(!0),this._output.current_line.pop(),this._output.trim()),this.print_token_line_indentation(t),this._output.add_token(","),this._output.space_before_token=!0}this.print_token_line_indentation(t),this._output.non_breaking_space=!0,this._output.add_token(t.text),this._output.previous_token_wrapped&&(this._flags.multiline_frame=!0)};K.prototype.indent=function(){this._flags.indentation_level+=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment)};K.prototype.deindent=function(){this._flags.indentation_level>0&&(!this._flags.parent||this._flags.indentation_level>this._flags.parent.indentation_level)&&(this._flags.indentation_level-=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment))};K.prototype.set_mode=function(t){this._flags?(this._flag_store.push(this._flags),this._previous_flags=this._flags):this._previous_flags=this.create_flags(null,t),this._flags=this.create_flags(this._previous_flags,t),this._output.set_indent(this._flags.indentation_level,this._flags.alignment)};K.prototype.restore_mode=function(){this._flag_store.length>0&&(this._previous_flags=this._flags,this._flags=this._flag_store.pop(),this._previous_flags.mode===q.Statement&&af(this._output,this._previous_flags),this._output.set_indent(this._flags.indentation_level,this._flags.alignment))};K.prototype.start_of_object_property=function(){return this._flags.parent.mode===q.ObjectLiteral&&this._flags.mode===q.Statement&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||Q(this._flags.last_token,["get","set"]))};K.prototype.start_of_statement=function(t){var e=!1;return e=e||Q(this._flags.last_token,["var","let","const"])&&t.type===L.WORD,e=e||Dt(this._flags.last_token,"do"),e=e||!(this._flags.parent.mode===q.ObjectLiteral&&this._flags.mode===q.Statement)&&Q(this._flags.last_token,Vs)&&!t.newlines,e=e||Dt(this._flags.last_token,"else")&&!(Dt(t,"if")&&!t.comments_before),e=e||this._flags.last_token.type===L.END_EXPR&&(this._previous_flags.mode===q.ForInitializer||this._previous_flags.mode===q.Conditional),e=e||this._flags.last_token.type===L.WORD&&this._flags.mode===q.BlockStatement&&!this._flags.in_case&&!(t.text==="--"||t.text==="++")&&this._last_last_text!=="function"&&t.type!==L.WORD&&t.type!==L.RESERVED,e=e||this._flags.mode===q.ObjectLiteral&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||Q(this._flags.last_token,["get","set"])),e?(this.set_mode(q.Statement),this.indent(),this.handle_whitespace_and_comments(t,!0),this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t,Q(t,["do","for","if","while"])),!0):!1};K.prototype.handle_start_expr=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t);var e=q.Expression;if(t.text==="["){if(this._flags.last_token.type===L.WORD||this._flags.last_token.text===")"){Q(this._flags.last_token,ci)&&(this._output.space_before_token=!0),this.print_token(t),this.set_mode(e),this.indent(),this._options.space_in_paren&&(this._output.space_before_token=!0);return}e=q.ArrayLiteral,pe(this._flags.mode)&&(this._flags.last_token.text==="["||this._flags.last_token.text===","&&(this._last_last_text==="]"||this._last_last_text==="}"))&&(this._options.keep_array_indentation||this.print_newline()),z(this._flags.last_token.type,[L.START_EXPR,L.END_EXPR,L.WORD,L.OPERATOR,L.DOT])||(this._output.space_before_token=!0)}else{if(this._flags.last_token.type===L.RESERVED)this._flags.last_token.text==="for"?(this._output.space_before_token=this._options.space_before_conditional,e=q.ForInitializer):z(this._flags.last_token.text,["if","while","switch"])?(this._output.space_before_token=this._options.space_before_conditional,e=q.Conditional):z(this._flags.last_word,["await","async"])?this._output.space_before_token=!0:this._flags.last_token.text==="import"&&t.whitespace_before===""?this._output.space_before_token=!1:(z(this._flags.last_token.text,ci)||this._flags.last_token.text==="catch")&&(this._output.space_before_token=!0);else if(this._flags.last_token.type===L.EQUALS||this._flags.last_token.type===L.OPERATOR)this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t);else if(this._flags.last_token.type===L.WORD){this._output.space_before_token=!1;var i=this._tokens.peek(-3);if(this._options.space_after_named_function&&i){var n=this._tokens.peek(-4);Q(i,["async","function"])||i.text==="*"&&Q(n,["async","function"])?this._output.space_before_token=!0:this._flags.mode===q.ObjectLiteral?(i.text==="{"||i.text===","||i.text==="*"&&(n.text==="{"||n.text===","))&&(this._output.space_before_token=!0):this._flags.parent&&this._flags.parent.class_start_block&&(this._output.space_before_token=!0)}}else this.allow_wrap_or_preserved_newline(t);(this._flags.last_token.type===L.RESERVED&&(this._flags.last_word==="function"||this._flags.last_word==="typeof")||this._flags.last_token.text==="*"&&(z(this._last_last_text,["function","yield"])||this._flags.mode===q.ObjectLiteral&&z(this._last_last_text,["{",","])))&&(this._output.space_before_token=this._options.space_after_anon_function)}this._flags.last_token.text===";"||this._flags.last_token.type===L.START_BLOCK?this.print_newline():(this._flags.last_token.type===L.END_EXPR||this._flags.last_token.type===L.START_EXPR||this._flags.last_token.type===L.END_BLOCK||this._flags.last_token.text==="."||this._flags.last_token.type===L.COMMA)&&this.allow_wrap_or_preserved_newline(t,t.newlines),this.print_token(t),this.set_mode(e),this._options.space_in_paren&&(this._output.space_before_token=!0),this.indent()};K.prototype.handle_end_expr=function(t){for(;this._flags.mode===q.Statement;)this.restore_mode();this.handle_whitespace_and_comments(t),this._flags.multiline_frame&&this.allow_wrap_or_preserved_newline(t,t.text==="]"&&pe(this._flags.mode)&&!this._options.keep_array_indentation),this._options.space_in_paren&&(this._flags.last_token.type===L.START_EXPR&&!this._options.space_in_empty_paren?(this._output.trim(),this._output.space_before_token=!1):this._output.space_before_token=!0),this.deindent(),this.print_token(t),this.restore_mode(),af(this._output,this._previous_flags),this._flags.do_while&&this._previous_flags.mode===q.Conditional&&(this._previous_flags.mode=q.Expression,this._flags.do_block=!1,this._flags.do_while=!1)};K.prototype.handle_start_block=function(t){this.handle_whitespace_and_comments(t);var e=this._tokens.peek(),i=this._tokens.peek(1);this._flags.last_word==="switch"&&this._flags.last_token.type===L.END_EXPR?(this.set_mode(q.BlockStatement),this._flags.in_case_statement=!0):this._flags.case_body?this.set_mode(q.BlockStatement):i&&(z(i.text,[":",","])&&z(e.type,[L.STRING,L.WORD,L.RESERVED])||z(e.text,["get","set","..."])&&z(i.type,[L.WORD,L.RESERVED]))?z(this._last_last_text,["class","interface"])&&!z(i.text,[":",","])?this.set_mode(q.BlockStatement):this.set_mode(q.ObjectLiteral):this._flags.last_token.type===L.OPERATOR&&this._flags.last_token.text==="=>"?this.set_mode(q.BlockStatement):z(this._flags.last_token.type,[L.EQUALS,L.START_EXPR,L.COMMA,L.OPERATOR])||Q(this._flags.last_token,["return","throw","import","default"])?this.set_mode(q.ObjectLiteral):this.set_mode(q.BlockStatement),this._flags.last_token&&Q(this._flags.last_token.previous,["class","extends"])&&(this._flags.class_start_block=!0);var n=!e.comments_before&&e.text==="}",r=n&&this._flags.last_word==="function"&&this._flags.last_token.type===L.END_EXPR;if(this._options.brace_preserve_inline){var s=0,a=null;this._flags.inline_frame=!0;do if(s+=1,a=this._tokens.peek(s-1),a.newlines){this._flags.inline_frame=!1;break}while(a.type!==L.EOF&&!(a.type===L.END_BLOCK&&a.opened===t))}(this._options.brace_style==="expand"||this._options.brace_style==="none"&&t.newlines)&&!this._flags.inline_frame?this._flags.last_token.type!==L.OPERATOR&&(r||this._flags.last_token.type===L.EQUALS||Q(this._flags.last_token,hr)&&this._flags.last_token.text!=="else")?this._output.space_before_token=!0:this.print_newline(!1,!0):(pe(this._previous_flags.mode)&&(this._flags.last_token.type===L.START_EXPR||this._flags.last_token.type===L.COMMA)&&((this._flags.last_token.type===L.COMMA||this._options.space_in_paren)&&(this._output.space_before_token=!0),(this._flags.last_token.type===L.COMMA||this._flags.last_token.type===L.START_EXPR&&this._flags.inline_frame)&&(this.allow_wrap_or_preserved_newline(t),this._previous_flags.multiline_frame=this._previous_flags.multiline_frame||this._flags.multiline_frame,this._flags.multiline_frame=!1)),this._flags.last_token.type!==L.OPERATOR&&this._flags.last_token.type!==L.START_EXPR&&(z(this._flags.last_token.type,[L.START_BLOCK,L.SEMICOLON])&&!this._flags.inline_frame?this.print_newline():this._output.space_before_token=!0)),this.print_token(t),this.indent(),!n&&!(this._options.brace_preserve_inline&&this._flags.inline_frame)&&this.print_newline()};K.prototype.handle_end_block=function(t){for(this.handle_whitespace_and_comments(t);this._flags.mode===q.Statement;)this.restore_mode();var e=this._flags.last_token.type===L.START_BLOCK;this._flags.inline_frame&&!e?this._output.space_before_token=!0:this._options.brace_style==="expand"?e||this.print_newline():e||(pe(this._flags.mode)&&this._options.keep_array_indentation?(this._options.keep_array_indentation=!1,this.print_newline(),this._options.keep_array_indentation=!0):this.print_newline()),this.restore_mode(),this.print_token(t)};K.prototype.handle_word=function(t){if(t.type===L.RESERVED){if(z(t.text,["set","get"])&&this._flags.mode!==q.ObjectLiteral)t.type=L.WORD;else if(t.text==="import"&&z(this._tokens.peek().text,["(","."]))t.type=L.WORD;else if(z(t.text,["as","from"])&&!this._flags.import_block)t.type=L.WORD;else if(this._flags.mode===q.ObjectLiteral){var e=this._tokens.peek();e.text===":"&&(t.type=L.WORD)}}if(this.start_of_statement(t)?Q(this._flags.last_token,["var","let","const"])&&t.type===L.WORD&&(this._flags.declaration_statement=!0):t.newlines&&!pi(this._flags.mode)&&(this._flags.last_token.type!==L.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++")&&this._flags.last_token.type!==L.EQUALS&&(this._options.preserve_newlines||!Q(this._flags.last_token,["var","let","const","set","get"]))?(this.handle_whitespace_and_comments(t),this.print_newline()):this.handle_whitespace_and_comments(t),this._flags.do_block&&!this._flags.do_while)if(Dt(t,"while")){this._output.space_before_token=!0,this.print_token(t),this._output.space_before_token=!0,this._flags.do_while=!0;return}else this.print_newline(),this._flags.do_block=!1;if(this._flags.if_block)if(!this._flags.else_block&&Dt(t,"else"))this._flags.else_block=!0;else{for(;this._flags.mode===q.Statement;)this.restore_mode();this._flags.if_block=!1,this._flags.else_block=!1}if(this._flags.in_case_statement&&Q(t,["case","default"])){this.print_newline(),!this._flags.case_block&&(this._flags.case_body||this._options.jslint_happy)&&this.deindent(),this._flags.case_body=!1,this.print_token(t),this._flags.in_case=!0;return}if((this._flags.last_token.type===L.COMMA||this._flags.last_token.type===L.START_EXPR||this._flags.last_token.type===L.EQUALS||this._flags.last_token.type===L.OPERATOR)&&!this.start_of_object_property()&&!(z(this._flags.last_token.text,["+","-"])&&this._last_last_text===":"&&this._flags.parent.mode===q.ObjectLiteral)&&this.allow_wrap_or_preserved_newline(t),Dt(t,"function")){(z(this._flags.last_token.text,["}",";"])||this._output.just_added_newline()&&!(z(this._flags.last_token.text,["(","[","{",":","=",","])||this._flags.last_token.type===L.OPERATOR))&&!this._output.just_added_blankline()&&!t.comments_before&&(this.print_newline(),this.print_newline(!0)),this._flags.last_token.type===L.RESERVED||this._flags.last_token.type===L.WORD?Q(this._flags.last_token,["get","set","new","export"])||Q(this._flags.last_token,Vs)?this._output.space_before_token=!0:Dt(this._flags.last_token,"default")&&this._last_last_text==="export"?this._output.space_before_token=!0:this._flags.last_token.text==="declare"?this._output.space_before_token=!0:this.print_newline():this._flags.last_token.type===L.OPERATOR||this._flags.last_token.text==="="?this._output.space_before_token=!0:!this._flags.multiline_frame&&(pi(this._flags.mode)||pe(this._flags.mode))||this.print_newline(),this.print_token(t),this._flags.last_word=t.text;return}var i="NONE";if(this._flags.last_token.type===L.END_BLOCK?this._previous_flags.inline_frame?i="SPACE":Q(t,["else","catch","finally","from"])?this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&t.newlines?i="NEWLINE":(i="SPACE",this._output.space_before_token=!0):i="NEWLINE":this._flags.last_token.type===L.SEMICOLON&&this._flags.mode===q.BlockStatement?i="NEWLINE":this._flags.last_token.type===L.SEMICOLON&&pi(this._flags.mode)?i="SPACE":this._flags.last_token.type===L.STRING?i="NEWLINE":this._flags.last_token.type===L.RESERVED||this._flags.last_token.type===L.WORD||this._flags.last_token.text==="*"&&(z(this._last_last_text,["function","yield"])||this._flags.mode===q.ObjectLiteral&&z(this._last_last_text,["{",","]))?i="SPACE":this._flags.last_token.type===L.START_BLOCK?this._flags.inline_frame?i="SPACE":i="NEWLINE":this._flags.last_token.type===L.END_EXPR&&(this._output.space_before_token=!0,i="NEWLINE"),Q(t,ci)&&this._flags.last_token.text!==")"&&(this._flags.inline_frame||this._flags.last_token.text==="else"||this._flags.last_token.text==="export"?i="SPACE":i="NEWLINE"),Q(t,["else","catch","finally"]))if((!(this._flags.last_token.type===L.END_BLOCK&&this._previous_flags.mode===q.BlockStatement)||this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&t.newlines)&&!this._flags.inline_frame)this.print_newline();else{this._output.trim(!0);var n=this._output.current_line;n.last()!=="}"&&this.print_newline(),this._output.space_before_token=!0}else i==="NEWLINE"?Q(this._flags.last_token,hr)?this._output.space_before_token=!0:this._flags.last_token.text==="declare"&&Q(t,["var","let","const"])?this._output.space_before_token=!0:this._flags.last_token.type!==L.END_EXPR?(this._flags.last_token.type!==L.START_EXPR||!Q(t,["var","let","const"]))&&this._flags.last_token.text!==":"&&(Dt(t,"if")&&Dt(t.previous,"else")?this._output.space_before_token=!0:this.print_newline()):Q(t,ci)&&this._flags.last_token.text!==")"&&this.print_newline():this._flags.multiline_frame&&pe(this._flags.mode)&&this._flags.last_token.text===","&&this._last_last_text==="}"?this.print_newline():i==="SPACE"&&(this._output.space_before_token=!0);t.previous&&(t.previous.type===L.WORD||t.previous.type===L.RESERVED)&&(this._output.space_before_token=!0),this.print_token(t),this._flags.last_word=t.text,t.type===L.RESERVED&&(t.text==="do"?this._flags.do_block=!0:t.text==="if"?this._flags.if_block=!0:t.text==="import"?this._flags.import_block=!0:this._flags.import_block&&Dt(t,"from")&&(this._flags.import_block=!1))};K.prototype.handle_semicolon=function(t){this.start_of_statement(t)?this._output.space_before_token=!1:this.handle_whitespace_and_comments(t);for(var e=this._tokens.peek();this._flags.mode===q.Statement&&!(this._flags.if_block&&Dt(e,"else"))&&!this._flags.do_block;)this.restore_mode();this._flags.import_block&&(this._flags.import_block=!1),this.print_token(t)};K.prototype.handle_string=function(t){t.text.startsWith("`")&&t.newlines===0&&t.whitespace_before===""&&(t.previous.text===")"||this._flags.last_token.type===L.WORD)||(this.start_of_statement(t)?this._output.space_before_token=!0:(this.handle_whitespace_and_comments(t),this._flags.last_token.type===L.RESERVED||this._flags.last_token.type===L.WORD||this._flags.inline_frame?this._output.space_before_token=!0:this._flags.last_token.type===L.COMMA||this._flags.last_token.type===L.START_EXPR||this._flags.last_token.type===L.EQUALS||this._flags.last_token.type===L.OPERATOR?this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t):t.text.startsWith("`")&&this._flags.last_token.type===L.END_EXPR&&(t.previous.text==="]"||t.previous.text===")")&&t.newlines===0?this._output.space_before_token=!0:this.print_newline())),this.print_token(t)};K.prototype.handle_equals=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t),this._flags.declaration_statement&&(this._flags.declaration_assignment=!0),this._output.space_before_token=!0,this.print_token(t),this._output.space_before_token=!0};K.prototype.handle_comma=function(t){this.handle_whitespace_and_comments(t,!0),this.print_token(t),this._output.space_before_token=!0,this._flags.declaration_statement?(pi(this._flags.parent.mode)&&(this._flags.declaration_assignment=!1),this._flags.declaration_assignment?(this._flags.declaration_assignment=!1,this.print_newline(!1,!0)):this._options.comma_first&&this.allow_wrap_or_preserved_newline(t)):this._flags.mode===q.ObjectLiteral||this._flags.mode===q.Statement&&this._flags.parent.mode===q.ObjectLiteral?(this._flags.mode===q.Statement&&this.restore_mode(),this._flags.inline_frame||this.print_newline()):this._options.comma_first&&this.allow_wrap_or_preserved_newline(t)};K.prototype.handle_operator=function(t){var e=t.text==="*"&&(Q(this._flags.last_token,["function","yield"])||z(this._flags.last_token.type,[L.START_BLOCK,L.COMMA,L.END_BLOCK,L.SEMICOLON])),i=z(t.text,["-","+"])&&(z(this._flags.last_token.type,[L.START_BLOCK,L.START_EXPR,L.EQUALS,L.OPERATOR])||z(this._flags.last_token.text,ci)||this._flags.last_token.text===",");if(!this.start_of_statement(t)){var n=!e;this.handle_whitespace_and_comments(t,n)}if(t.text==="*"&&this._flags.last_token.type===L.DOT){this.print_token(t);return}if(t.text==="::"){this.print_token(t);return}if(z(t.text,["-","+"])&&this.start_of_object_property()){this.print_token(t);return}if(this._flags.last_token.type===L.OPERATOR&&z(this._options.operator_position,sf)&&this.allow_wrap_or_preserved_newline(t),t.text===":"&&this._flags.in_case){this.print_token(t),this._flags.in_case=!1,this._flags.case_body=!0,this._tokens.peek().type!==L.START_BLOCK?(this.indent(),this.print_newline(),this._flags.case_block=!1):(this._flags.case_block=!0,this._output.space_before_token=!0);return}var r=!0,s=!0,a=!1;if(t.text===":"?this._flags.ternary_depth===0?r=!1:(this._flags.ternary_depth-=1,a=!0):t.text==="?"&&(this._flags.ternary_depth+=1),!i&&!e&&this._options.preserve_newlines&&z(t.text,fi)){var o=t.text===":",u=o&&a,l=o&&!a;switch(this._options.operator_position){case hi.before_newline:this._output.space_before_token=!l,this.print_token(t),(!o||u)&&this.allow_wrap_or_preserved_newline(t),this._output.space_before_token=!0;return;case hi.after_newline:this._output.space_before_token=!0,!o||u?this._tokens.peek().newlines?this.print_newline(!1,!0):this.allow_wrap_or_preserved_newline(t):this._output.space_before_token=!1,this.print_token(t),this._output.space_before_token=!0;return;case hi.preserve_newline:l||this.allow_wrap_or_preserved_newline(t),r=!(this._output.just_added_newline()||l),this._output.space_before_token=r,this.print_token(t),this._output.space_before_token=!0;return}}if(e){this.allow_wrap_or_preserved_newline(t),r=!1;var c=this._tokens.peek();s=c&&z(c.type,[L.WORD,L.RESERVED])}else if(t.text==="...")this.allow_wrap_or_preserved_newline(t),r=this._flags.last_token.type===L.START_BLOCK,s=!1;else if(z(t.text,["--","++","!","~"])||i){if((this._flags.last_token.type===L.COMMA||this._flags.last_token.type===L.START_EXPR)&&this.allow_wrap_or_preserved_newline(t),r=!1,s=!1,t.newlines&&(t.text==="--"||t.text==="++"||t.text==="~")){var f=Q(this._flags.last_token,hr)&&t.newlines;f&&(this._previous_flags.if_block||this._previous_flags.else_block)&&this.restore_mode(),this.print_newline(f,!0)}this._flags.last_token.text===";"&&pi(this._flags.mode)&&(r=!0),this._flags.last_token.type===L.RESERVED?r=!0:this._flags.last_token.type===L.END_EXPR?r=!(this._flags.last_token.text==="]"&&(t.text==="--"||t.text==="++")):this._flags.last_token.type===L.OPERATOR&&(r=z(t.text,["--","-","++","+"])&&z(this._flags.last_token.text,["--","-","++","+"]),z(t.text,["+","-"])&&z(this._flags.last_token.text,["--","++"])&&(s=!0)),(this._flags.mode===q.BlockStatement&&!this._flags.inline_frame||this._flags.mode===q.Statement)&&(this._flags.last_token.text==="{"||this._flags.last_token.text===";")&&this.print_newline()}this._output.space_before_token=this._output.space_before_token||r,this.print_token(t),this._output.space_before_token=s};K.prototype.handle_block_comment=function(t,e){if(this._output.raw){this._output.add_raw_token(t),t.directives&&t.directives.preserve==="end"&&(this._output.raw=this._options.test_output_raw);return}if(t.directives){this.print_newline(!1,e),this.print_token(t),t.directives.preserve==="start"&&(this._output.raw=!0),this.print_newline(!1,!0);return}if(!fr.newline.test(t.text)&&!t.newlines){this._output.space_before_token=!0,this.print_token(t),this._output.space_before_token=!0;return}else this.print_block_commment(t,e)};K.prototype.print_block_commment=function(t,e){var i=Dm(t.text),n,r=!1,s=!1,a=t.whitespace_before,o=a.length;if(this.print_newline(!1,e),this.print_token_line_indentation(t),this._output.add_token(i[0]),this.print_newline(!1,e),i.length>1){for(i=i.slice(1),r=Pm(i,"*"),s=Lm(i,a),r&&(this._flags.alignment=1),n=0;n<i.length;n++)r?(this.print_token_line_indentation(t),this._output.add_token(Nm(i[n]))):s&&i[n]?(this.print_token_line_indentation(t),this._output.add_token(i[n].substring(o))):(this._output.current_line.set_indent(-1),this._output.add_token(i[n])),this.print_newline(!1,e);this._flags.alignment=0}};K.prototype.handle_comment=function(t,e){t.newlines?this.print_newline(!1,e):this._output.trim(!0),this._output.space_before_token=!0,this.print_token(t),this.print_newline(!1,e)};K.prototype.handle_dot=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t,!0),this._flags.last_token.text.match("^[0-9]+$")&&(this._output.space_before_token=!0),Q(this._flags.last_token,hr)?this._output.space_before_token=!1:this.allow_wrap_or_preserved_newline(t,this._flags.last_token.text===")"&&this._options.break_chained_methods),this._options.unindent_chained_methods&&this._output.just_added_newline()&&this.deindent(),this.print_token(t)};K.prototype.handle_unknown=function(t,e){this.print_token(t),t.text[t.text.length-1]===`
`&&this.print_newline(!1,e)};K.prototype.handle_eof=function(t){for(;this._flags.mode===q.Statement;)this.restore_mode();this.handle_whitespace_and_comments(t)};of.exports.Beautifier=K});var lf=I((Av,$s)=>{"use strict";var Am=uf().Beautifier,Im=Ms().Options;function km(t,e){var i=new Am(t,e);return i.beautify()}$s.exports=km;$s.exports.defaultOptions=function(){return new Im}});var Ks=I((Iv,hf)=>{"use strict";var cf=or().Options;function ff(t){cf.call(this,t,"css"),this.selector_separator_newline=this._get_boolean("selector_separator_newline",!0),this.newline_between_rules=this._get_boolean("newline_between_rules",!0);var e=this._get_boolean("space_around_selector_separator");this.space_around_combinator=this._get_boolean("space_around_combinator")||e;var i=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_style="collapse";for(var n=0;n<i.length;n++)i[n]!=="expand"?this.brace_style="collapse":this.brace_style=i[n]}ff.prototype=new cf;hf.exports.Options=ff});var gf=I((kv,_f)=>{"use strict";var Rm=Ks().Options,Mm=sr().Output,Fm=ur().InputScanner,jm=lr().Directives,pf=new jm(/\/\*/,/\*\//),df=/\r\n|[\r\n]/,qm=/\r\n|[\r\n]/g,pr=/\s/,Bm=/(?:\s|\n)+/g,Xm=/\/\*(?:[\s\S]*?)((?:\*\/)|$)/g,Um=/\/\/(?:[^\n\r\u2028\u2029]*)/g;function ee(t,e){this._source_text=t||"",this._options=new Rm(e),this._ch=null,this._input=null,this.NESTED_AT_RULE={page:!0,"font-face":!0,keyframes:!0,media:!0,supports:!0,document:!0},this.CONDITIONAL_GROUP_RULE={media:!0,supports:!0,document:!0},this.NON_SEMICOLON_NEWLINE_PROPERTY=["grid-template-areas","grid-template"]}ee.prototype.eatString=function(t){var e="";for(this._ch=this._input.next();this._ch;){if(e+=this._ch,this._ch==="\\")e+=this._input.next();else if(t.indexOf(this._ch)!==-1||this._ch===`
`)break;this._ch=this._input.next()}return e};ee.prototype.eatWhitespace=function(t){for(var e=pr.test(this._input.peek()),i=0;pr.test(this._input.peek());)this._ch=this._input.next(),t&&this._ch===`
`&&(i===0||i<this._options.max_preserve_newlines)&&(i++,this._output.add_new_line(!0));return e};ee.prototype.foundNestedPseudoClass=function(){for(var t=0,e=1,i=this._input.peek(e);i;){if(i==="{")return!0;if(i==="(")t+=1;else if(i===")"){if(t===0)return!1;t-=1}else if(i===";"||i==="}")return!1;e++,i=this._input.peek(e)}return!1};ee.prototype.print_string=function(t){this._output.set_indent(this._indentLevel),this._output.non_breaking_space=!0,this._output.add_token(t)};ee.prototype.preserveSingleSpace=function(t){t&&(this._output.space_before_token=!0)};ee.prototype.indent=function(){this._indentLevel++};ee.prototype.outdent=function(){this._indentLevel>0&&this._indentLevel--};ee.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t=this._source_text,e=this._options.eol;e==="auto"&&(e=`
`,t&&df.test(t||"")&&(e=t.match(df)[0])),t=t.replace(qm,`
`);var i=t.match(/^[\t ]*/)[0];this._output=new Mm(this._options,i),this._input=new Fm(t),this._indentLevel=0,this._nestedLevel=0,this._ch=null;for(var n=0,r=!1,s=!1,a=!1,o=!1,u=!1,l=this._ch,c=!1,f,h,_;f=this._input.read(Bm),h=f!=="",_=l,this._ch=this._input.next(),this._ch==="\\"&&this._input.hasNext()&&(this._ch+=this._input.next()),l=this._ch,this._ch;)if(this._ch==="/"&&this._input.peek()==="*"){this._output.add_new_line(),this._input.back();var y=this._input.read(Xm),x=pf.get_directives(y);x&&x.ignore==="start"&&(y+=pf.readIgnored(this._input)),this.print_string(y),this.eatWhitespace(!0),this._output.add_new_line()}else if(this._ch==="/"&&this._input.peek()==="/")this._output.space_before_token=!0,this._input.back(),this.print_string(this._input.read(Um)),this.eatWhitespace(!0);else if(this._ch==="$"){this.preserveSingleSpace(h),this.print_string(this._ch);var N=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);N.match(/[ :]$/)&&(N=this.eatString(": ").replace(/\s+$/,""),this.print_string(N),this._output.space_before_token=!0),n===0&&N.indexOf(":")!==-1&&(s=!0,this.indent())}else if(this._ch==="@")if(this.preserveSingleSpace(h),this._input.peek()==="{")this.print_string(this._ch+this.eatString("}"));else{this.print_string(this._ch);var T=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);T.match(/[ :]$/)&&(T=this.eatString(": ").replace(/\s+$/,""),this.print_string(T),this._output.space_before_token=!0),n===0&&T.indexOf(":")!==-1?(s=!0,this.indent()):T in this.NESTED_AT_RULE?(this._nestedLevel+=1,T in this.CONDITIONAL_GROUP_RULE&&(a=!0)):n===0&&!s&&(o=!0)}else if(this._ch==="#"&&this._input.peek()==="{")this.preserveSingleSpace(h),this.print_string(this._ch+this.eatString("}"));else if(this._ch==="{")s&&(s=!1,this.outdent()),o=!1,a?(a=!1,r=this._indentLevel>=this._nestedLevel):r=this._indentLevel>=this._nestedLevel-1,this._options.newline_between_rules&&r&&this._output.previous_line&&this._output.previous_line.item(-1)!=="{"&&this._output.ensure_empty_line_above("/",","),this._output.space_before_token=!0,this._options.brace_style==="expand"?(this._output.add_new_line(),this.print_string(this._ch),this.indent(),this._output.set_indent(this._indentLevel)):(_==="("?this._output.space_before_token=!1:_!==","&&this.indent(),this.print_string(this._ch)),this.eatWhitespace(!0),this._output.add_new_line();else if(this._ch==="}")this.outdent(),this._output.add_new_line(),_==="{"&&this._output.trim(!0),s&&(this.outdent(),s=!1),this.print_string(this._ch),r=!1,this._nestedLevel&&this._nestedLevel--,this.eatWhitespace(!0),this._output.add_new_line(),this._options.newline_between_rules&&!this._output.just_added_blankline()&&this._input.peek()!=="}"&&this._output.add_new_line(!0),this._input.peek()===")"&&(this._output.trim(!0),this._options.brace_style==="expand"&&this._output.add_new_line(!0));else if(this._ch===":"){for(var E=0;E<this.NON_SEMICOLON_NEWLINE_PROPERTY.length;E++)if(this._input.lookBack(this.NON_SEMICOLON_NEWLINE_PROPERTY[E])){c=!0;break}(r||a)&&!(this._input.lookBack("&")||this.foundNestedPseudoClass())&&!this._input.lookBack("(")&&!o&&n===0?(this.print_string(":"),s||(s=!0,this._output.space_before_token=!0,this.eatWhitespace(!0),this.indent())):(this._input.lookBack(" ")&&(this._output.space_before_token=!0),this._input.peek()===":"?(this._ch=this._input.next(),this.print_string("::")):this.print_string(":"))}else if(this._ch==='"'||this._ch==="'"){var v=_==='"'||_==="'";this.preserveSingleSpace(v||h),this.print_string(this._ch+this.eatString(this._ch)),this.eatWhitespace(!0)}else if(this._ch===";")c=!1,n===0?(s&&(this.outdent(),s=!1),o=!1,this.print_string(this._ch),this.eatWhitespace(!0),this._input.peek()!=="/"&&this._output.add_new_line()):(this.print_string(this._ch),this.eatWhitespace(!0),this._output.space_before_token=!0);else if(this._ch==="(")if(this._input.lookBack("url"))this.print_string(this._ch),this.eatWhitespace(),n++,this.indent(),this._ch=this._input.next(),this._ch===")"||this._ch==='"'||this._ch==="'"?this._input.back():this._ch&&(this.print_string(this._ch+this.eatString(")")),n&&(n--,this.outdent()));else{var p=!1;this._input.lookBack("with")&&(p=!0),this.preserveSingleSpace(h||p),this.print_string(this._ch),s&&_==="$"&&this._options.selector_separator_newline?(this._output.add_new_line(),u=!0):(this.eatWhitespace(),n++,this.indent())}else if(this._ch===")")n&&(n--,this.outdent()),u&&this._input.peek()===";"&&this._options.selector_separator_newline&&(u=!1,this.outdent(),this._output.add_new_line()),this.print_string(this._ch);else if(this._ch===",")this.print_string(this._ch),this.eatWhitespace(!0),this._options.selector_separator_newline&&(!s||u)&&n===0&&!o?this._output.add_new_line():this._output.space_before_token=!0;else if((this._ch===">"||this._ch==="+"||this._ch==="~")&&!s&&n===0)this._options.space_around_combinator?(this._output.space_before_token=!0,this.print_string(this._ch),this._output.space_before_token=!0):(this.print_string(this._ch),this.eatWhitespace(),this._ch&&pr.test(this._ch)&&(this._ch=""));else if(this._ch==="]")this.print_string(this._ch);else if(this._ch==="[")this.preserveSingleSpace(h),this.print_string(this._ch);else if(this._ch==="=")this.eatWhitespace(),this.print_string("="),pr.test(this._ch)&&(this._ch="");else if(this._ch==="!"&&!this._input.lookBack("\\"))this._output.space_before_token=!0,this.print_string(this._ch);else{var d=_==='"'||_==="'";this.preserveSingleSpace(d||h),this.print_string(this._ch),!this._output.just_added_newline()&&this._input.peek()===`
`&&c&&this._output.add_new_line()}var w=this._output.get_code(e);return w};_f.exports.Beautifier=ee});var mf=I((Rv,Gs)=>{"use strict";var zm=gf().Beautifier,Wm=Ks().Options;function Vm(t,e){var i=new zm(t,e);return i.beautify()}Gs.exports=Vm;Gs.exports.defaultOptions=function(){return new Wm}});var Hs=I((Mv,bf)=>{"use strict";var yf=or().Options;function vf(t){yf.call(this,t,"html"),this.templating.length===1&&this.templating[0]==="auto"&&(this.templating=["django","erb","handlebars","php"]),this.indent_inner_html=this._get_boolean("indent_inner_html"),this.indent_body_inner_html=this._get_boolean("indent_body_inner_html",!0),this.indent_head_inner_html=this._get_boolean("indent_head_inner_html",!0),this.indent_handlebars=this._get_boolean("indent_handlebars",!0),this.wrap_attributes=this._get_selection("wrap_attributes",["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"]),this.wrap_attributes_min_attrs=this._get_number("wrap_attributes_min_attrs",2),this.wrap_attributes_indent_size=this._get_number("wrap_attributes_indent_size",this.indent_size),this.extra_liners=this._get_array("extra_liners",["head","body","/html"]),this.inline=this._get_array("inline",["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","big","strike","tt"]),this.inline_custom_elements=this._get_boolean("inline_custom_elements",!0),this.void_elements=this._get_array("void_elements",["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","basefont","isindex"]),this.unformatted=this._get_array("unformatted",[]),this.content_unformatted=this._get_array("content_unformatted",["pre","textarea"]),this.unformatted_content_delimiter=this._get_characters("unformatted_content_delimiter"),this.indent_scripts=this._get_selection("indent_scripts",["normal","keep","separate"])}vf.prototype=new yf;bf.exports.Options=vf});var Js=I((Fv,Qs)=>{"use strict";var wf=oi().Tokenizer,Ys=oi().TOKEN,$m=lr().Directives,Km=Us().TemplatablePattern,Gm=si().Pattern,H={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",CONTROL_FLOW_OPEN:"TK_CONTROL_FLOW_OPEN",CONTROL_FLOW_CLOSE:"TK_CONTROL_FLOW_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",START:Ys.START,RAW:Ys.RAW,EOF:Ys.EOF},xf=new $m(/<\!--/,/-->/),ht=function(t,e){wf.call(this,t,e),this._current_tag_name="";var i=new Km(this._input).read_options(this._options),n=new Gm(this._input);if(this.__patterns={word:i.until(/[\n\r\t <]/),word_control_flow_close_excluded:i.until(/[\n\r\t <}]/),single_quote:i.until_after(/'/),double_quote:i.until_after(/"/),attribute:i.until(/[\n\r\t =>]|\/>/),element_name:i.until(/[\n\r\t >\/]/),angular_control_flow_start:n.matching(/\@[a-zA-Z]+[^({]*[({]/),handlebars_comment:n.starting_with(/{{!--/).until_after(/--}}/),handlebars:n.starting_with(/{{/).until_after(/}}/),handlebars_open:n.until(/[\n\r\t }]/),handlebars_raw_close:n.until(/}}/),comment:n.starting_with(/<!--/).until_after(/-->/),cdata:n.starting_with(/<!\[CDATA\[/).until_after(/]]>/),conditional_comment:n.starting_with(/<!\[/).until_after(/]>/),processing:n.starting_with(/<\?/).until_after(/\?>/)},this._options.indent_handlebars&&(this.__patterns.word=this.__patterns.word.exclude("handlebars"),this.__patterns.word_control_flow_close_excluded=this.__patterns.word_control_flow_close_excluded.exclude("handlebars")),this._unformatted_content_delimiter=null,this._options.unformatted_content_delimiter){var r=this._input.get_literal_regexp(this._options.unformatted_content_delimiter);this.__patterns.unformatted_content_delimiter=n.matching(r).until_after(r)}};ht.prototype=new wf;ht.prototype._is_comment=function(t){return!1};ht.prototype._is_opening=function(t){return t.type===H.TAG_OPEN||t.type===H.CONTROL_FLOW_OPEN};ht.prototype._is_closing=function(t,e){return t.type===H.TAG_CLOSE&&e&&((t.text===">"||t.text==="/>")&&e.text[0]==="<"||t.text==="}}"&&e.text[0]==="{"&&e.text[1]==="{")||t.type===H.CONTROL_FLOW_CLOSE&&t.text==="}"&&e.text.endsWith("{")};ht.prototype._reset=function(){this._current_tag_name=""};ht.prototype._get_next_token=function(t,e){var i=null;this._readWhitespace();var n=this._input.peek();return n===null?this._create_token(H.EOF,""):(i=i||this._read_open_handlebars(n,e),i=i||this._read_attribute(n,t,e),i=i||this._read_close(n,e),i=i||this._read_control_flows(n,e),i=i||this._read_raw_content(n,t,e),i=i||this._read_content_word(n,e),i=i||this._read_comment_or_cdata(n),i=i||this._read_processing(n),i=i||this._read_open(n,e),i=i||this._create_token(H.UNKNOWN,this._input.next()),i)};ht.prototype._read_comment_or_cdata=function(t){var e=null,i=null,n=null;if(t==="<"){var r=this._input.peek(1);r==="!"&&(i=this.__patterns.comment.read(),i?(n=xf.get_directives(i),n&&n.ignore==="start"&&(i+=xf.readIgnored(this._input))):i=this.__patterns.cdata.read()),i&&(e=this._create_token(H.COMMENT,i),e.directives=n)}return e};ht.prototype._read_processing=function(t){var e=null,i=null,n=null;if(t==="<"){var r=this._input.peek(1);(r==="!"||r==="?")&&(i=this.__patterns.conditional_comment.read(),i=i||this.__patterns.processing.read()),i&&(e=this._create_token(H.COMMENT,i),e.directives=n)}return e};ht.prototype._read_open=function(t,e){var i=null,n=null;return(!e||e.type===H.CONTROL_FLOW_OPEN)&&t==="<"&&(i=this._input.next(),this._input.peek()==="/"&&(i+=this._input.next()),i+=this.__patterns.element_name.read(),n=this._create_token(H.TAG_OPEN,i)),n};ht.prototype._read_open_handlebars=function(t,e){var i=null,n=null;return(!e||e.type===H.CONTROL_FLOW_OPEN)&&this._options.indent_handlebars&&t==="{"&&this._input.peek(1)==="{"&&(this._input.peek(2)==="!"?(i=this.__patterns.handlebars_comment.read(),i=i||this.__patterns.handlebars.read(),n=this._create_token(H.COMMENT,i)):(i=this.__patterns.handlebars_open.read(),n=this._create_token(H.TAG_OPEN,i))),n};ht.prototype._read_control_flows=function(t,e){var i="",n=null;if(!this._options.templating.includes("angular")||!this._options.indent_handlebars)return n;if(t==="@"){if(i=this.__patterns.angular_control_flow_start.read(),i==="")return n;for(var r=i.endsWith("(")?1:0,s=0;!(i.endsWith("{")&&r===s);){var a=this._input.next();if(a===null)break;a==="("?r++:a===")"&&s++,i+=a}n=this._create_token(H.CONTROL_FLOW_OPEN,i)}else t==="}"&&e&&e.type===H.CONTROL_FLOW_OPEN&&(i=this._input.next(),n=this._create_token(H.CONTROL_FLOW_CLOSE,i));return n};ht.prototype._read_close=function(t,e){var i=null,n=null;return e&&e.type===H.TAG_OPEN&&(e.text[0]==="<"&&(t===">"||t==="/"&&this._input.peek(1)===">")?(i=this._input.next(),t==="/"&&(i+=this._input.next()),n=this._create_token(H.TAG_CLOSE,i)):e.text[0]==="{"&&t==="}"&&this._input.peek(1)==="}"&&(this._input.next(),this._input.next(),n=this._create_token(H.TAG_CLOSE,"}}"))),n};ht.prototype._read_attribute=function(t,e,i){var n=null,r="";if(i&&i.text[0]==="<")if(t==="=")n=this._create_token(H.EQUALS,this._input.next());else if(t==='"'||t==="'"){var s=this._input.next();t==='"'?s+=this.__patterns.double_quote.read():s+=this.__patterns.single_quote.read(),n=this._create_token(H.VALUE,s)}else r=this.__patterns.attribute.read(),r&&(e.type===H.EQUALS?n=this._create_token(H.VALUE,r):n=this._create_token(H.ATTRIBUTE,r));return n};ht.prototype._is_content_unformatted=function(t){return this._options.void_elements.indexOf(t)===-1&&(this._options.content_unformatted.indexOf(t)!==-1||this._options.unformatted.indexOf(t)!==-1)};ht.prototype._read_raw_content=function(t,e,i){var n="";if(i&&i.text[0]==="{")n=this.__patterns.handlebars_raw_close.read();else if(e.type===H.TAG_CLOSE&&e.opened.text[0]==="<"&&e.text[0]!=="/"){var r=e.opened.text.substr(1).toLowerCase();if(r==="script"||r==="style"){var s=this._read_comment_or_cdata(t);if(s)return s.type=H.TEXT,s;n=this._input.readUntil(new RegExp("</"+r+"[\\n\\r\\t ]*?>","ig"))}else this._is_content_unformatted(r)&&(n=this._input.readUntil(new RegExp("</"+r+"[\\n\\r\\t ]*?>","ig")))}return n?this._create_token(H.TEXT,n):null};ht.prototype._read_content_word=function(t,e){var i="";if(this._options.unformatted_content_delimiter&&t===this._options.unformatted_content_delimiter[0]&&(i=this.__patterns.unformatted_content_delimiter.read()),i||(i=e&&e.type===H.CONTROL_FLOW_OPEN?this.__patterns.word_control_flow_close_excluded.read():this.__patterns.word.read()),i)return this._create_token(H.TEXT,i)};Qs.exports.Tokenizer=ht;Qs.exports.TOKEN=H});var Nf=I((jv,Tf)=>{"use strict";var Hm=Hs().Options,Ym=sr().Output,Qm=Js().Tokenizer,G=Js().TOKEN,Ef=/\r\n|[\r\n]/,Jm=/\r\n|[\r\n]/g,Et=function(t,e){this.indent_level=0,this.alignment_size=0,this.max_preserve_newlines=t.max_preserve_newlines,this.preserve_newlines=t.preserve_newlines,this._output=new Ym(t,e)};Et.prototype.current_line_has_match=function(t){return this._output.current_line.has_match(t)};Et.prototype.set_space_before_token=function(t,e){this._output.space_before_token=t,this._output.non_breaking_space=e};Et.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size),this._output.set_wrap_point()};Et.prototype.add_raw_token=function(t){this._output.add_raw_token(t)};Et.prototype.print_preserved_newlines=function(t){var e=0;t.type!==G.TEXT&&t.previous.type!==G.TEXT&&(e=t.newlines?1:0),this.preserve_newlines&&(e=t.newlines<this.max_preserve_newlines+1?t.newlines:this.max_preserve_newlines+1);for(var i=0;i<e;i++)this.print_newline(i>0);return e!==0};Et.prototype.traverse_whitespace=function(t){return t.whitespace_before||t.newlines?(this.print_preserved_newlines(t)||(this._output.space_before_token=!0),!0):!1};Et.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped};Et.prototype.print_newline=function(t){this._output.add_new_line(t)};Et.prototype.print_token=function(t){t.text&&(this._output.set_indent(this.indent_level,this.alignment_size),this._output.add_token(t.text))};Et.prototype.indent=function(){this.indent_level++};Et.prototype.deindent=function(){this.indent_level>0&&(this.indent_level--,this._output.set_indent(this.indent_level,this.alignment_size))};Et.prototype.get_full_indent=function(t){return t=this.indent_level+(t||0),t<1?"":this._output.get_indent_string(t)};var Zm=function(t){for(var e=null,i=t.next;i.type!==G.EOF&&t.closed!==i;){if(i.type===G.ATTRIBUTE&&i.text==="type"){i.next&&i.next.type===G.EQUALS&&i.next.next&&i.next.next.type===G.VALUE&&(e=i.next.next.text);break}i=i.next}return e},ty=function(t,e){var i=null,n=null;return e.closed?(t==="script"?i="text/javascript":t==="style"&&(i="text/css"),i=Zm(e)||i,i.search("text/css")>-1?n="css":i.search(/module|((text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect))/)>-1?n="javascript":i.search(/(text|application|dojo)\/(x-)?(html)/)>-1?n="html":i.search(/test\/null/)>-1&&(n="null"),n):null};function di(t,e){return e.indexOf(t)!==-1}function ey(t,e,i){this.parent=t||null,this.tag=e?e.tag_name:"",this.indent_level=i||0,this.parser_token=e||null}function xe(t){this._printer=t,this._current_frame=null}xe.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null};xe.prototype.record_tag=function(t){var e=new ey(this._current_frame,t,this._printer.indent_level);this._current_frame=e};xe.prototype._try_pop_frame=function(t){var e=null;return t&&(e=t.parser_token,this._printer.indent_level=t.indent_level,this._current_frame=t.parent),e};xe.prototype._get_frame=function(t,e){for(var i=this._current_frame;i&&t.indexOf(i.tag)===-1;){if(e&&e.indexOf(i.tag)!==-1){i=null;break}i=i.parent}return i};xe.prototype.try_pop=function(t,e){var i=this._get_frame([t],e);return this._try_pop_frame(i)};xe.prototype.indent_to_tag=function(t){var e=this._get_frame(t);e&&(this._printer.indent_level=e.indent_level)};function gt(t,e,i,n){this._source_text=t||"",e=e||{},this._js_beautify=i,this._css_beautify=n,this._tag_stack=null;var r=new Hm(e,"html");this._options=r,this._is_wrap_attributes_force=this._options.wrap_attributes.substr(0,"force".length)==="force",this._is_wrap_attributes_force_expand_multiline=this._options.wrap_attributes==="force-expand-multiline",this._is_wrap_attributes_force_aligned=this._options.wrap_attributes==="force-aligned",this._is_wrap_attributes_aligned_multiple=this._options.wrap_attributes==="aligned-multiple",this._is_wrap_attributes_preserve=this._options.wrap_attributes.substr(0,"preserve".length)==="preserve",this._is_wrap_attributes_preserve_aligned=this._options.wrap_attributes==="preserve-aligned"}gt.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t=this._source_text,e=this._options.eol;this._options.eol==="auto"&&(e=`
`,t&&Ef.test(t)&&(e=t.match(Ef)[0])),t=t.replace(Jm,`
`);var i=t.match(/^[\t ]*/)[0],n={text:"",type:""},r=new Of,s=new Et(this._options,i),a=new Qm(t,this._options).tokenize();this._tag_stack=new xe(s);for(var o=null,u=a.next();u.type!==G.EOF;)u.type===G.TAG_OPEN||u.type===G.COMMENT?(o=this._handle_tag_open(s,u,r,n,a),r=o):u.type===G.ATTRIBUTE||u.type===G.EQUALS||u.type===G.VALUE||u.type===G.TEXT&&!r.tag_complete?o=this._handle_inside_tag(s,u,r,n):u.type===G.TAG_CLOSE?o=this._handle_tag_close(s,u,r):u.type===G.TEXT?o=this._handle_text(s,u,r):u.type===G.CONTROL_FLOW_OPEN?o=this._handle_control_flow_open(s,u):u.type===G.CONTROL_FLOW_CLOSE?o=this._handle_control_flow_close(s,u):s.add_raw_token(u),n=o,u=a.next();var l=s._output.get_code(e);return l};gt.prototype._handle_control_flow_open=function(t,e){var i={text:e.text,type:e.type};return t.set_space_before_token(e.newlines||e.whitespace_before!=="",!0),e.newlines?t.print_preserved_newlines(e):t.set_space_before_token(e.newlines||e.whitespace_before!=="",!0),t.print_token(e),t.indent(),i};gt.prototype._handle_control_flow_close=function(t,e){var i={text:e.text,type:e.type};return t.deindent(),e.newlines?t.print_preserved_newlines(e):t.set_space_before_token(e.newlines||e.whitespace_before!=="",!0),t.print_token(e),i};gt.prototype._handle_tag_close=function(t,e,i){var n={text:e.text,type:e.type};return t.alignment_size=0,i.tag_complete=!0,t.set_space_before_token(e.newlines||e.whitespace_before!=="",!0),i.is_unformatted?t.add_raw_token(e):(i.tag_start_char==="<"&&(t.set_space_before_token(e.text[0]==="/",!0),this._is_wrap_attributes_force_expand_multiline&&i.has_wrapped_attrs&&t.print_newline(!1)),t.print_token(e)),i.indent_content&&!(i.is_unformatted||i.is_content_unformatted)&&(t.indent(),i.indent_content=!1),!i.is_inline_element&&!(i.is_unformatted||i.is_content_unformatted)&&t.set_wrap_point(),n};gt.prototype._handle_inside_tag=function(t,e,i,n){var r=i.has_wrapped_attrs,s={text:e.text,type:e.type};return t.set_space_before_token(e.newlines||e.whitespace_before!=="",!0),i.is_unformatted?t.add_raw_token(e):i.tag_start_char==="{"&&e.type===G.TEXT?t.print_preserved_newlines(e)?(e.newlines=0,t.add_raw_token(e)):t.print_token(e):(e.type===G.ATTRIBUTE?t.set_space_before_token(!0):(e.type===G.EQUALS||e.type===G.VALUE&&e.previous.type===G.EQUALS)&&t.set_space_before_token(!1),e.type===G.ATTRIBUTE&&i.tag_start_char==="<"&&((this._is_wrap_attributes_preserve||this._is_wrap_attributes_preserve_aligned)&&(t.traverse_whitespace(e),r=r||e.newlines!==0),this._is_wrap_attributes_force&&i.attr_count>=this._options.wrap_attributes_min_attrs&&(n.type!==G.TAG_OPEN||this._is_wrap_attributes_force_expand_multiline)&&(t.print_newline(!1),r=!0)),t.print_token(e),r=r||t.previous_token_wrapped(),i.has_wrapped_attrs=r),s};gt.prototype._handle_text=function(t,e,i){var n={text:e.text,type:"TK_CONTENT"};return i.custom_beautifier_name?this._print_custom_beatifier_text(t,e,i):i.is_unformatted||i.is_content_unformatted?t.add_raw_token(e):(t.traverse_whitespace(e),t.print_token(e)),n};gt.prototype._print_custom_beatifier_text=function(t,e,i){var n=this;if(e.text!==""){var r=e.text,s,a=1,o="",u="";i.custom_beautifier_name==="javascript"&&typeof this._js_beautify=="function"?s=this._js_beautify:i.custom_beautifier_name==="css"&&typeof this._css_beautify=="function"?s=this._css_beautify:i.custom_beautifier_name==="html"&&(s=function(y,x){var N=new gt(y,x,n._js_beautify,n._css_beautify);return N.beautify()}),this._options.indent_scripts==="keep"?a=0:this._options.indent_scripts==="separate"&&(a=-t.indent_level);var l=t.get_full_indent(a);if(r=r.replace(/\n[ \t]*$/,""),i.custom_beautifier_name!=="html"&&r[0]==="<"&&r.match(/^(<!--|<!\[CDATA\[)/)){var c=/^(<!--[^\n]*|<!\[CDATA\[)(\n?)([ \t\n]*)([\s\S]*)(-->|]]>)$/.exec(r);if(!c){t.add_raw_token(e);return}o=l+c[1]+`
`,r=c[4],c[5]&&(u=l+c[5]),r=r.replace(/\n[ \t]*$/,""),(c[2]||c[3].indexOf(`
`)!==-1)&&(c=c[3].match(/[ \t]+$/),c&&(e.whitespace_before=c[0]))}if(r)if(s){var f=function(){this.eol=`
`};f.prototype=this._options.raw_options;var h=new f;r=s(l+r,h)}else{var _=e.whitespace_before;_&&(r=r.replace(new RegExp(`
(`+_+")?","g"),`
`)),r=l+r.replace(/\n/g,`
`+l)}o&&(r?r=o+r+`
`+u:r=o+u),t.print_newline(!1),r&&(e.text=r,e.whitespace_before="",e.newlines=0,t.add_raw_token(e),t.print_newline(!0))}};gt.prototype._handle_tag_open=function(t,e,i,n,r){var s=this._get_tag_open_token(e);if((i.is_unformatted||i.is_content_unformatted)&&!i.is_empty_element&&e.type===G.TAG_OPEN&&!s.is_start_tag?(t.add_raw_token(e),s.start_tag_token=this._tag_stack.try_pop(s.tag_name)):(t.traverse_whitespace(e),this._set_tag_position(t,e,s,i,n),s.is_inline_element||t.set_wrap_point(),t.print_token(e)),s.is_start_tag&&this._is_wrap_attributes_force){var a=0,o;do o=r.peek(a),o.type===G.ATTRIBUTE&&(s.attr_count+=1),a+=1;while(o.type!==G.EOF&&o.type!==G.TAG_CLOSE)}return(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned)&&(s.alignment_size=e.text.length+1),!s.tag_complete&&!s.is_unformatted&&(t.alignment_size=s.alignment_size),s};var Of=function(t,e){if(this.parent=t||null,this.text="",this.type="TK_TAG_OPEN",this.tag_name="",this.is_inline_element=!1,this.is_unformatted=!1,this.is_content_unformatted=!1,this.is_empty_element=!1,this.is_start_tag=!1,this.is_end_tag=!1,this.indent_content=!1,this.multiline_content=!1,this.custom_beautifier_name=null,this.start_tag_token=null,this.attr_count=0,this.has_wrapped_attrs=!1,this.alignment_size=0,this.tag_complete=!1,this.tag_start_char="",this.tag_check="",!e)this.tag_complete=!0;else{var i;this.tag_start_char=e.text[0],this.text=e.text,this.tag_start_char==="<"?(i=e.text.match(/^<([^\s>]*)/),this.tag_check=i?i[1]:""):(i=e.text.match(/^{{~?(?:[\^]|#\*?)?([^\s}]+)/),this.tag_check=i?i[1]:"",(e.text.startsWith("{{#>")||e.text.startsWith("{{~#>"))&&this.tag_check[0]===">"&&(this.tag_check===">"&&e.next!==null?this.tag_check=e.next.text.split(" ")[0]:this.tag_check=e.text.split(">")[1])),this.tag_check=this.tag_check.toLowerCase(),e.type===G.COMMENT&&(this.tag_complete=!0),this.is_start_tag=this.tag_check.charAt(0)!=="/",this.tag_name=this.is_start_tag?this.tag_check:this.tag_check.substr(1),this.is_end_tag=!this.is_start_tag||e.closed&&e.closed.text==="/>";var n=2;this.tag_start_char==="{"&&this.text.length>=3&&this.text.charAt(2)==="~"&&(n=3),this.is_end_tag=this.is_end_tag||this.tag_start_char==="{"&&(this.text.length<3||/[^#\^]/.test(this.text.charAt(n)))}};gt.prototype._get_tag_open_token=function(t){var e=new Of(this._tag_stack.get_parser_token(),t);return e.alignment_size=this._options.wrap_attributes_indent_size,e.is_end_tag=e.is_end_tag||di(e.tag_check,this._options.void_elements),e.is_empty_element=e.tag_complete||e.is_start_tag&&e.is_end_tag,e.is_unformatted=!e.tag_complete&&di(e.tag_check,this._options.unformatted),e.is_content_unformatted=!e.is_empty_element&&di(e.tag_check,this._options.content_unformatted),e.is_inline_element=di(e.tag_name,this._options.inline)||this._options.inline_custom_elements&&e.tag_name.includes("-")||e.tag_start_char==="{",e};gt.prototype._set_tag_position=function(t,e,i,n,r){if(i.is_empty_element||(i.is_end_tag?i.start_tag_token=this._tag_stack.try_pop(i.tag_name):(this._do_optional_end_element(i)&&(i.is_inline_element||t.print_newline(!1)),this._tag_stack.record_tag(i),(i.tag_name==="script"||i.tag_name==="style")&&!(i.is_unformatted||i.is_content_unformatted)&&(i.custom_beautifier_name=ty(i.tag_check,e)))),di(i.tag_check,this._options.extra_liners)&&(t.print_newline(!1),t._output.just_added_blankline()||t.print_newline(!0)),i.is_empty_element){if(i.tag_start_char==="{"&&i.tag_check==="else"){this._tag_stack.indent_to_tag(["if","unless","each"]),i.indent_content=!0;var s=t.current_line_has_match(/{{#if/);s||t.print_newline(!1)}i.tag_name==="!--"&&r.type===G.TAG_CLOSE&&n.is_end_tag&&i.text.indexOf(`
`)===-1||(i.is_inline_element||i.is_unformatted||t.print_newline(!1),this._calcluate_parent_multiline(t,i))}else if(i.is_end_tag){var a=!1;a=i.start_tag_token&&i.start_tag_token.multiline_content,a=a||!i.is_inline_element&&!(n.is_inline_element||n.is_unformatted)&&!(r.type===G.TAG_CLOSE&&i.start_tag_token===n)&&r.type!=="TK_CONTENT",(i.is_content_unformatted||i.is_unformatted)&&(a=!1),a&&t.print_newline(!1)}else i.indent_content=!i.custom_beautifier_name,i.tag_start_char==="<"&&(i.tag_name==="html"?i.indent_content=this._options.indent_inner_html:i.tag_name==="head"?i.indent_content=this._options.indent_head_inner_html:i.tag_name==="body"&&(i.indent_content=this._options.indent_body_inner_html)),!(i.is_inline_element||i.is_unformatted)&&(r.type!=="TK_CONTENT"||i.is_content_unformatted)&&t.print_newline(!1),this._calcluate_parent_multiline(t,i)};gt.prototype._calcluate_parent_multiline=function(t,e){e.parent&&t._output.just_added_newline()&&!((e.is_inline_element||e.is_unformatted)&&e.parent.is_inline_element)&&(e.parent.multiline_content=!0)};var iy=["address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","main","menu","nav","ol","p","pre","section","table","ul"],ny=["a","audio","del","ins","map","noscript","video"];gt.prototype._do_optional_end_element=function(t){var e=null;if(!(t.is_empty_element||!t.is_start_tag||!t.parent)){if(t.tag_name==="body")e=e||this._tag_stack.try_pop("head");else if(t.tag_name==="li")e=e||this._tag_stack.try_pop("li",["ol","ul","menu"]);else if(t.tag_name==="dd"||t.tag_name==="dt")e=e||this._tag_stack.try_pop("dt",["dl"]),e=e||this._tag_stack.try_pop("dd",["dl"]);else if(t.parent.tag_name==="p"&&iy.indexOf(t.tag_name)!==-1){var i=t.parent.parent;(!i||ny.indexOf(i.tag_name)===-1)&&(e=e||this._tag_stack.try_pop("p"))}else t.tag_name==="rp"||t.tag_name==="rt"?(e=e||this._tag_stack.try_pop("rt",["ruby","rtc"]),e=e||this._tag_stack.try_pop("rp",["ruby","rtc"])):t.tag_name==="optgroup"?e=e||this._tag_stack.try_pop("optgroup",["select"]):t.tag_name==="option"?e=e||this._tag_stack.try_pop("option",["select","datalist","optgroup"]):t.tag_name==="colgroup"?e=e||this._tag_stack.try_pop("caption",["table"]):t.tag_name==="thead"?(e=e||this._tag_stack.try_pop("caption",["table"]),e=e||this._tag_stack.try_pop("colgroup",["table"])):t.tag_name==="tbody"||t.tag_name==="tfoot"?(e=e||this._tag_stack.try_pop("caption",["table"]),e=e||this._tag_stack.try_pop("colgroup",["table"]),e=e||this._tag_stack.try_pop("thead",["table"]),e=e||this._tag_stack.try_pop("tbody",["table"])):t.tag_name==="tr"?(e=e||this._tag_stack.try_pop("caption",["table"]),e=e||this._tag_stack.try_pop("colgroup",["table"]),e=e||this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"])):(t.tag_name==="th"||t.tag_name==="td")&&(e=e||this._tag_stack.try_pop("td",["table","thead","tbody","tfoot","tr"]),e=e||this._tag_stack.try_pop("th",["table","thead","tbody","tfoot","tr"]));return t.parent=this._tag_stack.get_parser_token(),e}};Tf.exports.Beautifier=gt});var Sf=I((qv,Zs)=>{"use strict";var ry=Nf().Beautifier,sy=Hs().Options;function ay(t,e,i,n){var r=new ry(t,e,i,n);return r.beautify()}Zs.exports=ay;Zs.exports.defaultOptions=function(){return new sy}});var Af=I((Bv,dr)=>{"use strict";var Cf=lf(),Df=mf(),Pf=Sf();function Lf(t,e,i,n){return i=i||Cf,n=n||Df,Pf(t,e,i,n)}Lf.defaultOptions=Pf.defaultOptions;dr.exports.js=Cf;dr.exports.css=Df;dr.exports.html=Lf});var Rf=I((Xv,kf)=>{"use strict";function If(t,e,i){var n=function(r,s){return t.js_beautify(r,s)};return n.js=t.js_beautify,n.css=e.css_beautify,n.html=i.html_beautify,n.js_beautify=t.js_beautify,n.css_beautify=e.css_beautify,n.html_beautify=i.html_beautify,n}typeof define=="function"&&define.amd?define(["./lib/beautify","./lib/beautify-css","./lib/beautify-html"],function(t,e,i){return If(t,e,i)}):function(t){var e=Af();e.js_beautify=e.js,e.css_beautify=e.css,e.html_beautify=e.html,t.exports=If(e,e,e)}(kf)});yr(exports,{default:()=>ra});var Ot=yt(require("obsidian"));var cc=yt(Va()),ye=yt(In()),lt=yt(require("path")),fc=yt(lc()),ys=class{constructor(e,i){this.name=e,this.url=i;let[n,r]=i.split("#");this.urlPath=n,this.urlHref=r??"",this.html=""}},vs=class{constructor(e,i,n=new Array,r=0,s=null){this.sections=[new ys(e,i)],this.subItems=n,this.level=r,this.parent=s}get name(){return this.sections[0].name??""}},bs=class{constructor(e,i){this.toc=[];this.chapters=[];this.epubPath=e,this.moreLog=i}async init(){try{this.tmpPath=ye.default.tmpDir().path(),this.moreLog&&console.log("tmp folder path is: ",this.tmpPath),lt.extname(this.epubPath)!=""?await(0,cc.default)(this.epubPath,{dir:this.tmpPath}):ye.default.copy(this.epubPath,this.tmpPath,{overwrite:!0}),[this.opfFilePath,this.opfContent]=await this.parseBySuffix("opf");try{[this.ncxFilePath,this.ncxContent]=await this.parseBySuffix("ncx")}catch(e){console.log("This epub does not have a .ncx file, parsing will be based on the .opf file content.")}await this.parseToc(),await this.parseCover(),await this.parseMeta()}catch(e){throw console.log(e),new Error("failed to parse the .epub file")}}async parseBySuffix(e){let i=new fc.Parser,n=ye.default.find(this.tmpPath,{matching:`**/*.${e}`})[0],r=ye.default.read(n);return[n,await i.parseStringPromise(r)]}updateChaptersByToc(){this.chapters=[];let e=i=>{this.chapters.push(i),i.subItems.forEach(e,i)};this.toc.forEach(e)}getTocByNavPoints(e){let i=(n,r)=>{let s=new vs(n.navLabel[0].text[0],lt.posix.join(lt.dirname(this.ncxFilePath),n.content[0].$.src),n.navPoint?.map(a=>i(a,r+1))??[],r);return s.subItems.forEach(a=>a.parent=s),s};return e.map(n=>i(n,0))}generateToc(){if(this.ncxFilePath){let r=this.ncxContent.ncx.navMap[0].navPoint;this.toc=this.getTocByNavPoints(r),this.updateChaptersByToc()}let e=this.opfContent.package.manifest[0].item.map(r=>r.$.href).filter(r=>[".htm",".html",".xhtml"].some(s=>r.includes(s))).map(r=>lt.posix.join(lt.dirname(this.opfFilePath),r)),i=[];this.chapters.forEach(r=>{i.push(e.indexOf(r.sections[0].urlPath))});let n=0;e.forEach((r,s)=>{if(!i.includes(s)){let a=i.indexOf([...i].sort((o,u)=>u-o).find(o=>o<s));if(a>0)this.chapters[a].sections.push(new ys(null,r));else{let o=ye.default.read(r),l=new DOMParser().parseFromString(o,"text/html").title;this.toc.splice(n++,0,new vs(l||lt.basename(r,lt.extname(r)),r))}}}),this.updateChaptersByToc(),this.sections=this.chapters.flatMap(r=>r.sections)}async parseToc(){this.generateToc();let e=[...new Set(this.sections.map(n=>n.urlPath))],i=[];e.forEach(n=>{let r={url:n,names:[],hrefs:[],html:""};this.sections.filter(s=>s.urlPath==n).forEach(s=>{r.names.push(s.name?lt.basename(s.name):null),r.hrefs.push(s.urlHref)});try{let s=ye.default.read(n);s&&(r.html=s),i.push(r)}catch(s){console.warn(`Error reading file at ${n}:`,s),console.warn("The failure to read the file might be due to an invalid file path. If such errors are few in this parsing process, it could be because the epub contains some meaningless navPoints, or even advertisements. If this is the case, it will not cause any damage to the content of the book.")}}),this.moreLog&&console.log(i),i.forEach(n=>{if(!n.hrefs.length||n.hrefs.length===1)this.sections.find(r=>r.urlPath==n.url).html=n.html;else{let r=new RegExp(`<.*?id=['"](?:${n.hrefs.join("|")})['"].*?>`,"g"),a=((u,l,c)=>{let f=u.split(l);return c>f.length&&(c=f.length),f.slice(0,c-1).concat([f.slice(c-1).join(l)])})(n.html,r,n.hrefs.length+1);n.hrefs[0]!=""&&a.shift();let o=n.hrefs.map(u=>u?"#"+u:"");a.forEach((u,l)=>{try{this.sections.find(c=>c.url==n.url+o[l]).html=u}catch(c){console.warn("Some errors occurred when we split a .htm/.html/.xhtml file to sections")}})}})}async parseCover(){let e=this.opfContent.package.manifest[0].item.find(i=>["cover","Cover"].some(n=>i.$.id.includes(n))&&["png","jpg","jpeg"].includes(lt.extname(i.$.href).slice(1)));e&&(this.coverPath=lt.posix.join(lt.dirname(this.opfFilePath),e.$.href))}async parseMeta(){let e=this.opfContent.package.metadata[0],i=n=>e[n]?.[0]?e[n][0]:"";this.meta={title:i("dc:title"),publisher:i("dc:publisher"),language:i("dc:language"),author:e["dc:creator"]?.[0]?._?`"${e["dc:creator"][0]._}"`:"",bookName:lt.basename(this.epubPath,lt.extname(this.epubPath))}}};var ti=class{static parse(e,i,n){let r=new ti(e);return r.parseImagePath(i,n),r.parseFontNote(),r.parseInnerLink(),r.parseHttpLink(),r.content}constructor(e){this.content=e}parseImagePath(e,i){this.content=this.content.replaceAll(/!\[.*?\]\((.*?)\.(jpg|jpeg|png)\)/g,"![](images/$1.$2)").replaceAll(/!\[\].*?\(.*?([^\\/]*)\.(jpg|jpeg|png)\)/g,"![](images/$1.$2)"),i=="![](imagePath)"&&(e=e.replaceAll(" ","%20")),i=="![[imagePath]]"&&(this.content=this.content.replaceAll(/!\[\]\(([^)]*images[^)]*)\)/g,"![[$1]]")),i=="![[imagePath|caption]]"&&(this.content=this.content.replaceAll(/!\[\]\(([^)]*images[^)]*)\)/g,"![[$1]]"),this.content=this.content.replaceAll(/!\[\[(.*images.*)\]\]\n+(\**.*)\n/g,`![[$1|$2]]
`)),this.content=this.content.replaceAll(/images/g,e)}parseFontNote(){this.content=this.content.replace(/([^!])\[\[(\d+)\]\]\(.*?\)/g,"$1[^$2]"),this.content=this.content.replace(/([^!])\[(\d+)\]\(.*?\)/g,"$1[^$2]"),this.content=this.content.replace(/^(\[\^\d+\])(.*?)$/gm,"$1: $2")}parseInnerLink(){this.content=this.content.replaceAll(/([^!])\[\s*([^\]]*?)\s*\]\(\s*([^)]*?)\s*\)/g,"$1[[$3\\|$2]]")}parseHttpLink(){this.content=this.content.replaceAll(/\[\[(https:\/\/[^\]|]*?)(?:\|([^\]]*?))?]]/g,"[$2]($1)")}};var Qn=yt(In());var Yn=yt(require("obsidian")),ws=class extends Yn.SuggestModal{constructor(e,i,n=!1){super(e);this.onSubmit=i;this.onSubmit=i,n&&this.listenForPaste()}listenForPaste(){this.inputEl.addEventListener("paste",e=>{let i=e.clipboardData;if(i.files.length===1){let n=i.files[0].path;this.inputEl.value=n}})}listenForEnter(e){this.inputEl.addEventListener("keyup",i=>{i.key==="Enter"&&this.inputEl.value&&this.trySubmit(this.inputEl.value,e)})}trySubmit(e,i){i(e)?(this.onSubmit(e),this.close()):new Yn.Notice("Invalid value.")}};var xs=class extends ws{constructor(e,i,n){super(e,n,!0);this.libraries=i,this.listenForEnter(this.validatePath)}validatePath(e){return Qn.default.exists(e)==="file"&&e.endsWith(".epub")}getSuggestions(e){let i=[];return this.libraries.forEach(n=>{Qn.default.find(n,{matching:"**/*.epub"}).forEach(r=>{i.push(Qn.default.path(r))})}),i.filter(n=>n.includes(e))}renderSuggestion(e,i){i.createEl("div",{text:e})}onChooseSuggestion(e){this.trySubmit(e,this.validatePath)}};var hc={tag:"book",libraries:[],byDrag:!1,savePath:"",assetsPath:"{{savePath}}/{{bookName}}/images",granularity:4,mocName:"{{bookName}}",notePropertysTemplate:"",oneNote:!1,oneFolder:!0,mocPropertysTemplate:`title: {{bookName}}
author: {{author}}
publisher: {{publisher}}
status: false`,imageFormat:"![](imagePath)",reformatting:!1,autoOpenRightPanel:!1,removeDuplicateFolders:!1,moreLog:!1,leafID:""};var et=yt(require("obsidian"));function ct(t){return ct=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ct(t)}function Tt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Es(t,e){if(ct(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(ct(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ei(t){var e=Es(t,"string");return ct(e)==="symbol"?e:String(e)}function pc(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ei(n.key),n)}}function Nt(t,e,i){return e&&pc(t.prototype,e),i&&pc(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function kt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ii(t,e){return ii=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},ii(t,e)}function Me(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ii(t,e)}function ve(t,e){if(e&&(ct(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kt(t)}function St(t){return St=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},St(t)}function Xt(t,e,i){return e=ei(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Os(t){if(Array.isArray(t))return t}function Ts(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Jn(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function Ns(t,e){if(!!t){if(typeof t=="string")return Jn(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Jn(t,e)}}function Ss(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cs(t){return Os(t)||Ts(t)||Ns(t)||Ss()}function dc(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,n)}return i}function _c(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?dc(Object(i),!0).forEach(function(n){Xt(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):dc(Object(i)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}var Dg={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,i){console&&console[e]&&console[e].apply(console,i)}},Pg=function(){function t(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Tt(this,t),this.init(e,i)}return Nt(t,[{key:"init",value:function(i){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=i||Dg,this.options=n,this.debug=n.debug}},{key:"setDebug",value:function(i){this.debug=i}},{key:"log",value:function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}},{key:"warn",value:function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}},{key:"error",value:function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return this.forward(n,"error","")}},{key:"deprecate",value:function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(i,n,r,s){return s&&!this.debug?null:(typeof i[0]=="string"&&(i[0]="".concat(r).concat(this.prefix," ").concat(i[0])),this.logger[n](i))}},{key:"create",value:function(i){return new t(this.logger,_c(_c({},{prefix:"".concat(this.prefix,":").concat(i,":")}),this.options))}},{key:"clone",value:function(i){return i=i||this.options,i.prefix=i.prefix||this.prefix,new t(this.logger,i)}}]),t}(),Ut=new Pg,ce=function(){function t(){Tt(this,t),this.observers={}}return Nt(t,[{key:"on",value:function(i,n){var r=this;return i.split(" ").forEach(function(s){r.observers[s]=r.observers[s]||[],r.observers[s].push(n)}),this}},{key:"off",value:function(i,n){if(!!this.observers[i]){if(!n){delete this.observers[i];return}this.observers[i]=this.observers[i].filter(function(r){return r!==n})}}},{key:"emit",value:function(i){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];if(this.observers[i]){var a=[].concat(this.observers[i]);a.forEach(function(u){u.apply(void 0,r)})}if(this.observers["*"]){var o=[].concat(this.observers["*"]);o.forEach(function(u){u.apply(u,[i].concat(r))})}}}]),t}();function ni(){var t,e,i=new Promise(function(n,r){t=n,e=r});return i.resolve=t,i.reject=e,i}function gc(t){return t==null?"":""+t}function Lg(t,e,i){t.forEach(function(n){e[n]&&(i[n]=e[n])})}function Ds(t,e,i){function n(o){return o&&o.indexOf("###")>-1?o.replace(/###/g,"."):o}function r(){return!t||typeof t=="string"}for(var s=typeof e!="string"?[].concat(e):e.split(".");s.length>1;){if(r())return{};var a=n(s.shift());!t[a]&&i&&(t[a]=new i),Object.prototype.hasOwnProperty.call(t,a)?t=t[a]:t={}}return r()?{}:{obj:t,k:n(s.shift())}}function mc(t,e,i){var n=Ds(t,e,Object),r=n.obj,s=n.k;r[s]=i}function Ag(t,e,i,n){var r=Ds(t,e,Object),s=r.obj,a=r.k;s[a]=s[a]||[],n&&(s[a]=s[a].concat(i)),n||s[a].push(i)}function Zn(t,e){var i=Ds(t,e),n=i.obj,r=i.k;if(!!n)return n[r]}function Ig(t,e,i){var n=Zn(t,i);return n!==void 0?n:Zn(e,i)}function yc(t,e,i){for(var n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?typeof t[n]=="string"||t[n]instanceof String||typeof e[n]=="string"||e[n]instanceof String?i&&(t[n]=e[n]):yc(t[n],e[n],i):t[n]=e[n]);return t}function Fe(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var kg={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function Rg(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,function(e){return kg[e]}):t}var tr=typeof window!="undefined"&&window.navigator&&typeof window.navigator.userAgentData=="undefined"&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,Mg=[" ",",","?","!",";"];function Fg(t,e,i){e=e||"",i=i||"";var n=Mg.filter(function(o){return e.indexOf(o)<0&&i.indexOf(o)<0});if(n.length===0)return!0;var r=new RegExp("(".concat(n.map(function(o){return o==="?"?"\\?":o}).join("|"),")")),s=!r.test(t);if(!s){var a=t.indexOf(i);a>0&&!r.test(t.substring(0,a))&&(s=!0)}return s}function er(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!!t){if(t[e])return t[e];for(var n=e.split(i),r=t,s=0;s<n.length;++s){if(!r||typeof r[n[s]]=="string"&&s+1<n.length)return;if(r[n[s]]===void 0){for(var a=2,o=n.slice(s,s+a).join(i),u=r[o];u===void 0&&n.length>s+a;)a++,o=n.slice(s,s+a).join(i),u=r[o];if(u===void 0)return;if(u===null)return null;if(e.endsWith(o)){if(typeof u=="string")return u;if(o&&typeof u[o]=="string")return u[o]}var l=n.slice(s+a).join(i);return l?er(u,l,i):void 0}r=r[n[s]]}return r}}function vc(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,n)}return i}function ir(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?vc(Object(i),!0).forEach(function(n){Xt(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):vc(Object(i)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}function jg(t){var e=qg();return function(){var n=St(t),r;if(e){var s=St(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return ve(this,r)}}function qg(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var Bg=function(t){Me(i,t);var e=jg(i);function i(n){var r,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return Tt(this,i),r=e.call(this),tr&&ce.call(kt(r)),r.data=n||{},r.options=s,r.options.keySeparator===void 0&&(r.options.keySeparator="."),r.options.ignoreJSONStructure===void 0&&(r.options.ignoreJSONStructure=!0),r}return Nt(i,[{key:"addNamespaces",value:function(r){this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}},{key:"removeNamespaces",value:function(r){var s=this.options.ns.indexOf(r);s>-1&&this.options.ns.splice(s,1)}},{key:"getResource",value:function(r,s,a){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},u=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,l=o.ignoreJSONStructure!==void 0?o.ignoreJSONStructure:this.options.ignoreJSONStructure,c=[r,s];a&&typeof a!="string"&&(c=c.concat(a)),a&&typeof a=="string"&&(c=c.concat(u?a.split(u):a)),r.indexOf(".")>-1&&(c=r.split("."));var f=Zn(this.data,c);return f||!l||typeof a!="string"?f:er(this.data&&this.data[r]&&this.data[r][s],a,u)}},{key:"addResource",value:function(r,s,a,o){var u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},l=u.keySeparator!==void 0?u.keySeparator:this.options.keySeparator,c=[r,s];a&&(c=c.concat(l?a.split(l):a)),r.indexOf(".")>-1&&(c=r.split("."),o=s,s=c[1]),this.addNamespaces(s),mc(this.data,c,o),u.silent||this.emit("added",r,s,a,o)}},{key:"addResources",value:function(r,s,a){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var u in a)(typeof a[u]=="string"||Object.prototype.toString.apply(a[u])==="[object Array]")&&this.addResource(r,s,u,a[u],{silent:!0});o.silent||this.emit("added",r,s,a)}},{key:"addResourceBundle",value:function(r,s,a,o,u){var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},c=[r,s];r.indexOf(".")>-1&&(c=r.split("."),o=a,a=s,s=c[1]),this.addNamespaces(s);var f=Zn(this.data,c)||{};o?yc(f,a,u):f=ir(ir({},f),a),mc(this.data,c,f),l.silent||this.emit("added",r,s,a)}},{key:"removeResourceBundle",value:function(r,s){this.hasResourceBundle(r,s)&&delete this.data[r][s],this.removeNamespaces(s),this.emit("removed",r,s)}},{key:"hasResourceBundle",value:function(r,s){return this.getResource(r,s)!==void 0}},{key:"getResourceBundle",value:function(r,s){return s||(s=this.options.defaultNS),this.options.compatibilityAPI==="v1"?ir(ir({},{}),this.getResource(r,s)):this.getResource(r,s)}},{key:"getDataByLanguage",value:function(r){return this.data[r]}},{key:"hasLanguageSomeTranslations",value:function(r){var s=this.getDataByLanguage(r),a=s&&Object.keys(s)||[];return!!a.find(function(o){return s[o]&&Object.keys(s[o]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),i}(ce),bc={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,i,n,r,s){var a=this;return e.forEach(function(o){a.processors[o]&&(i=a.processors[o].process(i,n,r,s))}),i}};function wc(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,n)}return i}function pt(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?wc(Object(i),!0).forEach(function(n){Xt(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):wc(Object(i)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}function Xg(t){var e=Ug();return function(){var n=St(t),r;if(e){var s=St(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return ve(this,r)}}function Ug(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var xc={},Ec=function(t){Me(i,t);var e=Xg(i);function i(n){var r,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Tt(this,i),r=e.call(this),tr&&ce.call(kt(r)),Lg(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],n,kt(r)),r.options=s,r.options.keySeparator===void 0&&(r.options.keySeparator="."),r.logger=Ut.create("translator"),r}return Nt(i,[{key:"changeLanguage",value:function(r){r&&(this.language=r)}},{key:"exists",value:function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(r==null)return!1;var a=this.resolve(r,s);return a&&a.res!==void 0}},{key:"extractFromKey",value:function(r,s){var a=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;a===void 0&&(a=":");var o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,u=s.ns||this.options.defaultNS||[],l=a&&r.indexOf(a)>-1,c=!this.options.userDefinedKeySeparator&&!s.keySeparator&&!this.options.userDefinedNsSeparator&&!s.nsSeparator&&!Fg(r,a,o);if(l&&!c){var f=r.match(this.interpolator.nestingRegexp);if(f&&f.length>0)return{key:r,namespaces:u};var h=r.split(a);(a!==o||a===o&&this.options.ns.indexOf(h[0])>-1)&&(u=h.shift()),r=h.join(o)}return typeof u=="string"&&(u=[u]),{key:r,namespaces:u}}},{key:"translate",value:function(r,s,a){var o=this;if(ct(s)!=="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),ct(s)==="object"&&(s=pt({},s)),s||(s={}),r==null)return"";Array.isArray(r)||(r=[String(r)]);var u=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,l=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,c=this.extractFromKey(r[r.length-1],s),f=c.key,h=c.namespaces,_=h[h.length-1],y=s.lng||this.language,x=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(y&&y.toLowerCase()==="cimode"){if(x){var N=s.nsSeparator||this.options.nsSeparator;return u?{res:"".concat(_).concat(N).concat(f),usedKey:f,exactUsedKey:f,usedLng:y,usedNS:_}:"".concat(_).concat(N).concat(f)}return u?{res:f,usedKey:f,exactUsedKey:f,usedLng:y,usedNS:_}:f}var T=this.resolve(r,s),E=T&&T.res,v=T&&T.usedKey||f,p=T&&T.exactUsedKey||f,d=Object.prototype.toString.apply(E),w=["[object Number]","[object Function]","[object RegExp]"],S=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,m=!this.i18nFormat||this.i18nFormat.handleAsObject,D=typeof E!="string"&&typeof E!="boolean"&&typeof E!="number";if(m&&E&&D&&w.indexOf(d)<0&&!(typeof S=="string"&&d==="[object Array]")){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var O=this.options.returnedObjectHandler?this.options.returnedObjectHandler(v,E,pt(pt({},s),{},{ns:h})):"key '".concat(f," (").concat(this.language,")' returned an object instead of string.");return u?(T.res=O,T):O}if(l){var P=d==="[object Array]",k=P?[]:{},R=P?p:v;for(var B in E)if(Object.prototype.hasOwnProperty.call(E,B)){var W="".concat(R).concat(l).concat(B);k[B]=this.translate(W,pt(pt({},s),{joinArrays:!1,ns:h})),k[B]===W&&(k[B]=E[B])}E=k}}else if(m&&typeof S=="string"&&d==="[object Array]")E=E.join(S),E&&(E=this.extendTranslation(E,r,s,a));else{var M=!1,Y=!1,V=s.count!==void 0&&typeof s.count!="string",Pt=i.hasDefaultValue(s),mt=V?this.pluralResolver.getSuffix(y,s.count,s):"",Kt=s["defaultValue".concat(mt)]||s.defaultValue;!this.isValidLookup(E)&&Pt&&(M=!0,E=Kt),this.isValidLookup(E)||(Y=!0,E=f);var gi=s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,mi=gi&&Y?void 0:E,ie=Pt&&Kt!==E&&this.options.updateMissing;if(Y||M||ie){if(this.logger.log(ie?"updateKey":"missingKey",y,_,f,ie?Kt:E),l){var yi=this.resolve(f,pt(pt({},s),{},{keySeparator:!1}));yi&&yi.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var b=[],g=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&g&&g[0])for(var A=0;A<g.length;A++)b.push(g[A]);else this.options.saveMissingTo==="all"?b=this.languageUtils.toResolveHierarchy(s.lng||this.language):b.push(s.lng||this.language);var C=function(J,Z,at){var dt=Pt&&at!==E?at:mi;o.options.missingKeyHandler?o.options.missingKeyHandler(J,_,Z,dt,ie,s):o.backendConnector&&o.backendConnector.saveMissing&&o.backendConnector.saveMissing(J,_,Z,dt,ie,s),o.emit("missingKey",J,_,Z,E)};this.options.saveMissing&&(this.options.saveMissingPlurals&&V?b.forEach(function($){o.pluralResolver.getSuffixes($,s).forEach(function(J){C([$],f+J,s["defaultValue".concat(J)]||Kt)})}):C(b,f,Kt))}E=this.extendTranslation(E,r,s,T,a),Y&&E===f&&this.options.appendNamespaceToMissingKey&&(E="".concat(_,":").concat(f)),(Y||M)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?E=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(_,":").concat(f):f,M?E:void 0):E=this.options.parseMissingKeyHandler(E))}return u?(T.res=E,T):E}},{key:"extendTranslation",value:function(r,s,a,o,u){var l=this;if(this.i18nFormat&&this.i18nFormat.parse)r=this.i18nFormat.parse(r,pt(pt({},this.options.interpolation.defaultVariables),a),o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!a.skipInterpolation){a.interpolation&&this.interpolator.init(pt(pt({},a),{interpolation:pt(pt({},this.options.interpolation),a.interpolation)}));var c=typeof r=="string"&&(a&&a.interpolation&&a.interpolation.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),f;if(c){var h=r.match(this.interpolator.nestingRegexp);f=h&&h.length}var _=a.replace&&typeof a.replace!="string"?a.replace:a;if(this.options.interpolation.defaultVariables&&(_=pt(pt({},this.options.interpolation.defaultVariables),_)),r=this.interpolator.interpolate(r,_,a.lng||this.language,a),c){var y=r.match(this.interpolator.nestingRegexp),x=y&&y.length;f<x&&(a.nest=!1)}!a.lng&&this.options.compatibilityAPI!=="v1"&&o&&o.res&&(a.lng=o.usedLng),a.nest!==!1&&(r=this.interpolator.nest(r,function(){for(var E=arguments.length,v=new Array(E),p=0;p<E;p++)v[p]=arguments[p];return u&&u[0]===v[0]&&!a.context?(l.logger.warn("It seems you are nesting recursively key: ".concat(v[0]," in key: ").concat(s[0])),null):l.translate.apply(l,v.concat([s]))},a)),a.interpolation&&this.interpolator.reset()}var N=a.postProcess||this.options.postProcess,T=typeof N=="string"?[N]:N;return r!=null&&T&&T.length&&a.applyPostProcessor!==!1&&(r=bc.handle(T,r,s,this.options&&this.options.postProcessPassResolved?pt({i18nResolved:o},a):a,this)),r}},{key:"resolve",value:function(r){var s=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o,u,l,c,f;return typeof r=="string"&&(r=[r]),r.forEach(function(h){if(!s.isValidLookup(o)){var _=s.extractFromKey(h,a),y=_.key;u=y;var x=_.namespaces;s.options.fallbackNS&&(x=x.concat(s.options.fallbackNS));var N=a.count!==void 0&&typeof a.count!="string",T=N&&!a.ordinal&&a.count===0&&s.pluralResolver.shouldUseIntlApi(),E=a.context!==void 0&&(typeof a.context=="string"||typeof a.context=="number")&&a.context!=="",v=a.lngs?a.lngs:s.languageUtils.toResolveHierarchy(a.lng||s.language,a.fallbackLng);x.forEach(function(p){s.isValidLookup(o)||(f=p,!xc["".concat(v[0],"-").concat(p)]&&s.utils&&s.utils.hasLoadedNamespace&&!s.utils.hasLoadedNamespace(f)&&(xc["".concat(v[0],"-").concat(p)]=!0,s.logger.warn('key "'.concat(u,'" for languages "').concat(v.join(", "),`" won't get resolved as namespace "`).concat(f,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),v.forEach(function(d){if(!s.isValidLookup(o)){c=d;var w=[y];if(s.i18nFormat&&s.i18nFormat.addLookupKeys)s.i18nFormat.addLookupKeys(w,y,d,p,a);else{var S;N&&(S=s.pluralResolver.getSuffix(d,a.count,a));var m="".concat(s.options.pluralSeparator,"zero");if(N&&(w.push(y+S),T&&w.push(y+m)),E){var D="".concat(y).concat(s.options.contextSeparator).concat(a.context);w.push(D),N&&(w.push(D+S),T&&w.push(D+m))}}for(var O;O=w.pop();)s.isValidLookup(o)||(l=O,o=s.getResource(d,p,O,a))}}))})}}),{res:o,usedKey:u,exactUsedKey:l,usedLng:c,usedNS:f}}},{key:"isValidLookup",value:function(r){return r!==void 0&&!(!this.options.returnNull&&r===null)&&!(!this.options.returnEmptyString&&r==="")}},{key:"getResource",value:function(r,s,a){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(r,s,a,o):this.resourceStore.getResource(r,s,a,o)}}],[{key:"hasDefaultValue",value:function(r){var s="defaultValue";for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)&&s===a.substring(0,s.length)&&r[a]!==void 0)return!0;return!1}}]),i}(ce);function Ps(t){return t.charAt(0).toUpperCase()+t.slice(1)}var Oc=function(){function t(e){Tt(this,t),this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Ut.create("languageUtils")}return Nt(t,[{key:"getScriptPartFromCode",value:function(i){if(!i||i.indexOf("-")<0)return null;var n=i.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}},{key:"getLanguagePartFromCode",value:function(i){if(!i||i.indexOf("-")<0)return i;var n=i.split("-");return this.formatLanguageCode(n[0])}},{key:"formatLanguageCode",value:function(i){if(typeof i=="string"&&i.indexOf("-")>-1){var n=["hans","hant","latn","cyrl","cans","mong","arab"],r=i.split("-");return this.options.lowerCaseLng?r=r.map(function(s){return s.toLowerCase()}):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=Ps(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=Ps(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=Ps(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?i.toLowerCase():i}},{key:"isSupportedCode",value:function(i){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(i=this.getLanguagePartFromCode(i)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(i)>-1}},{key:"getBestMatchFromCodes",value:function(i){var n=this;if(!i)return null;var r;return i.forEach(function(s){if(!r){var a=n.formatLanguageCode(s);(!n.options.supportedLngs||n.isSupportedCode(a))&&(r=a)}}),!r&&this.options.supportedLngs&&i.forEach(function(s){if(!r){var a=n.getLanguagePartFromCode(s);if(n.isSupportedCode(a))return r=a;r=n.options.supportedLngs.find(function(o){if(o===a)return o;if(!(o.indexOf("-")<0&&a.indexOf("-")<0)&&o.indexOf(a)===0)return o})}}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}},{key:"getFallbackCodes",value:function(i,n){if(!i)return[];if(typeof i=="function"&&(i=i(n)),typeof i=="string"&&(i=[i]),Object.prototype.toString.apply(i)==="[object Array]")return i;if(!n)return i.default||[];var r=i[n];return r||(r=i[this.getScriptPartFromCode(n)]),r||(r=i[this.formatLanguageCode(n)]),r||(r=i[this.getLanguagePartFromCode(n)]),r||(r=i.default),r||[]}},{key:"toResolveHierarchy",value:function(i,n){var r=this,s=this.getFallbackCodes(n||this.options.fallbackLng||[],i),a=[],o=function(l){!l||(r.isSupportedCode(l)?a.push(l):r.logger.warn("rejecting language code not found in supportedLngs: ".concat(l)))};return typeof i=="string"&&i.indexOf("-")>-1?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(i)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(i)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(i))):typeof i=="string"&&o(this.formatLanguageCode(i)),s.forEach(function(u){a.indexOf(u)<0&&o(r.formatLanguageCode(u))}),a}}]),t}(),zg=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Wg={1:function(e){return Number(e>1)},2:function(e){return Number(e!=1)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(e==1?0:e>=2&&e<=4?1:2)},7:function(e){return Number(e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(e==1?0:e==2?1:e!=8&&e!=11?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(e==1?0:e==2?1:e<7?2:e<11?3:4)},11:function(e){return Number(e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(e!==0)},14:function(e){return Number(e==1?0:e==2?1:e==3?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:e!==0?1:2)},17:function(e){return Number(e==1||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(e==0?0:e==1?1:2)},19:function(e){return Number(e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(e==1?0:e==0||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3)}},Vg=["v1","v2","v3"],Tc={zero:0,one:1,two:2,few:3,many:4,other:5};function $g(){var t={};return zg.forEach(function(e){e.lngs.forEach(function(i){t[i]={numbers:e.nr,plurals:Wg[e.fc]}})}),t}var Kg=function(){function t(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Tt(this,t),this.languageUtils=e,this.options=i,this.logger=Ut.create("pluralResolver"),(!this.options.compatibilityJSON||this.options.compatibilityJSON==="v4")&&(typeof Intl=="undefined"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=$g()}return Nt(t,[{key:"addRule",value:function(i,n){this.rules[i]=n}},{key:"getRule",value:function(i){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(i,{type:n.ordinal?"ordinal":"cardinal"})}catch(r){return}return this.rules[i]||this.rules[this.languageUtils.getLanguagePartFromCode(i)]}},{key:"needsPlural",value:function(i){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=this.getRule(i,n);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(i,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(i,r).map(function(s){return"".concat(n).concat(s)})}},{key:"getSuffixes",value:function(i){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=this.getRule(i,r);return s?this.shouldUseIntlApi()?s.resolvedOptions().pluralCategories.sort(function(a,o){return Tc[a]-Tc[o]}).map(function(a){return"".concat(n.options.prepend).concat(a)}):s.numbers.map(function(a){return n.getSuffix(i,a,r)}):[]}},{key:"getSuffix",value:function(i,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=this.getRule(i,r);return s?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(s.select(n)):this.getSuffixRetroCompatible(s,n):(this.logger.warn("no plural rule found for: ".concat(i)),"")}},{key:"getSuffixRetroCompatible",value:function(i,n){var r=this,s=i.noAbs?i.plurals(n):i.plurals(Math.abs(n)),a=i.numbers[s];this.options.simplifyPluralSuffix&&i.numbers.length===2&&i.numbers[0]===1&&(a===2?a="plural":a===1&&(a=""));var o=function(){return r.options.prepend&&a.toString()?r.options.prepend+a.toString():a.toString()};return this.options.compatibilityJSON==="v1"?a===1?"":typeof a=="number"?"_plural_".concat(a.toString()):o():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&i.numbers.length===2&&i.numbers[0]===1?o():this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString()}},{key:"shouldUseIntlApi",value:function(){return!Vg.includes(this.options.compatibilityJSON)}}]),t}();function Nc(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,n)}return i}function Rt(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Nc(Object(i),!0).forEach(function(n){Xt(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Nc(Object(i)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}function Sc(t,e,i){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=Ig(t,e,i);return!s&&r&&typeof i=="string"&&(s=er(t,i,n),s===void 0&&(s=er(e,i,n))),s}var Gg=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Tt(this,t),this.logger=Ut.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(i){return i},this.init(e)}return Nt(t,[{key:"init",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};i.interpolation||(i.interpolation={escapeValue:!0});var n=i.interpolation;this.escape=n.escape!==void 0?n.escape:Rg,this.escapeValue=n.escapeValue!==void 0?n.escapeValue:!0,this.useRawValueToEscape=n.useRawValueToEscape!==void 0?n.useRawValueToEscape:!1,this.prefix=n.prefix?Fe(n.prefix):n.prefixEscaped||"{{",this.suffix=n.suffix?Fe(n.suffix):n.suffixEscaped||"}}",this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||",",this.unescapePrefix=n.unescapeSuffix?"":n.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":n.unescapeSuffix||"",this.nestingPrefix=n.nestingPrefix?Fe(n.nestingPrefix):n.nestingPrefixEscaped||Fe("$t("),this.nestingSuffix=n.nestingSuffix?Fe(n.nestingSuffix):n.nestingSuffixEscaped||Fe(")"),this.nestingOptionsSeparator=n.nestingOptionsSeparator?n.nestingOptionsSeparator:n.nestingOptionsSeparator||",",this.maxReplaces=n.maxReplaces?n.maxReplaces:1e3,this.alwaysFormat=n.alwaysFormat!==void 0?n.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var i="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(i,"g");var n="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(n,"g");var r="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(r,"g")}},{key:"interpolate",value:function(i,n,r,s){var a=this,o,u,l,c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function f(N){return N.replace(/\$/g,"$$$$")}var h=function(T){if(T.indexOf(a.formatSeparator)<0){var E=Sc(n,c,T,a.options.keySeparator,a.options.ignoreJSONStructure);return a.alwaysFormat?a.format(E,void 0,r,Rt(Rt(Rt({},s),n),{},{interpolationkey:T})):E}var v=T.split(a.formatSeparator),p=v.shift().trim(),d=v.join(a.formatSeparator).trim();return a.format(Sc(n,c,p,a.options.keySeparator,a.options.ignoreJSONStructure),d,r,Rt(Rt(Rt({},s),n),{},{interpolationkey:p}))};this.resetRegExp();var _=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler,y=s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,x=[{regex:this.regexpUnescape,safeValue:function(T){return f(T)}},{regex:this.regexp,safeValue:function(T){return a.escapeValue?f(a.escape(T)):f(T)}}];return x.forEach(function(N){for(l=0;o=N.regex.exec(i);){var T=o[1].trim();if(u=h(T),u===void 0)if(typeof _=="function"){var E=_(i,o,s);u=typeof E=="string"?E:""}else if(s&&Object.prototype.hasOwnProperty.call(s,T))u="";else if(y){u=o[0];continue}else a.logger.warn("missed to pass in variable ".concat(T," for interpolating ").concat(i)),u="";else typeof u!="string"&&!a.useRawValueToEscape&&(u=gc(u));var v=N.safeValue(u);if(i=i.replace(o[0],v),y?(N.regex.lastIndex+=u.length,N.regex.lastIndex-=o[0].length):N.regex.lastIndex=0,l++,l>=a.maxReplaces)break}}),i}},{key:"nest",value:function(i,n){var r=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a,o,u;function l(_,y){var x=this.nestingOptionsSeparator;if(_.indexOf(x)<0)return _;var N=_.split(new RegExp("".concat(x,"[ ]*{"))),T="{".concat(N[1]);_=N[0],T=this.interpolate(T,u);var E=T.match(/'/g),v=T.match(/"/g);(E&&E.length%2==0&&!v||v.length%2!=0)&&(T=T.replace(/'/g,'"'));try{u=JSON.parse(T),y&&(u=Rt(Rt({},y),u))}catch(p){return this.logger.warn("failed parsing options string in nesting for key ".concat(_),p),"".concat(_).concat(x).concat(T)}return delete u.defaultValue,_}for(;a=this.nestingRegexp.exec(i);){var c=[];u=Rt({},s),u=u.replace&&typeof u.replace!="string"?u.replace:u,u.applyPostProcessor=!1,delete u.defaultValue;var f=!1;if(a[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(a[1])){var h=a[1].split(this.formatSeparator).map(function(_){return _.trim()});a[1]=h.shift(),c=h,f=!0}if(o=n(l.call(this,a[1].trim(),u),u),o&&a[0]===i&&typeof o!="string")return o;typeof o!="string"&&(o=gc(o)),o||(this.logger.warn("missed to resolve ".concat(a[1]," for nesting ").concat(i)),o=""),f&&(o=c.reduce(function(_,y){return r.format(_,y,s.lng,Rt(Rt({},s),{},{interpolationkey:a[1].trim()}))},o.trim())),i=i.replace(a[0],o),this.regexp.lastIndex=0}return i}}]),t}();function Cc(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,n)}return i}function Zt(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Cc(Object(i),!0).forEach(function(n){Xt(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Cc(Object(i)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}function Hg(t){var e=t.toLowerCase().trim(),i={};if(t.indexOf("(")>-1){var n=t.split("(");e=n[0].toLowerCase().trim();var r=n[1].substring(0,n[1].length-1);if(e==="currency"&&r.indexOf(":")<0)i.currency||(i.currency=r.trim());else if(e==="relativetime"&&r.indexOf(":")<0)i.range||(i.range=r.trim());else{var s=r.split(";");s.forEach(function(a){if(!!a){var o=a.split(":"),u=Cs(o),l=u[0],c=u.slice(1),f=c.join(":").trim().replace(/^'+|'+$/g,"");i[l.trim()]||(i[l.trim()]=f),f==="false"&&(i[l.trim()]=!1),f==="true"&&(i[l.trim()]=!0),isNaN(f)||(i[l.trim()]=parseInt(f,10))}})}}return{formatName:e,formatOptions:i}}function je(t){var e={};return function(n,r,s){var a=r+JSON.stringify(s),o=e[a];return o||(o=t(r,s),e[a]=o),o(n)}}var Yg=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Tt(this,t),this.logger=Ut.create("formatter"),this.options=e,this.formats={number:je(function(i,n){var r=new Intl.NumberFormat(i,Zt({},n));return function(s){return r.format(s)}}),currency:je(function(i,n){var r=new Intl.NumberFormat(i,Zt(Zt({},n),{},{style:"currency"}));return function(s){return r.format(s)}}),datetime:je(function(i,n){var r=new Intl.DateTimeFormat(i,Zt({},n));return function(s){return r.format(s)}}),relativetime:je(function(i,n){var r=new Intl.RelativeTimeFormat(i,Zt({},n));return function(s){return r.format(s,n.range||"day")}}),list:je(function(i,n){var r=new Intl.ListFormat(i,Zt({},n));return function(s){return r.format(s)}})},this.init(e)}return Nt(t,[{key:"init",value:function(i){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},r=n.interpolation;this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||","}},{key:"add",value:function(i,n){this.formats[i.toLowerCase().trim()]=n}},{key:"addCached",value:function(i,n){this.formats[i.toLowerCase().trim()]=je(n)}},{key:"format",value:function(i,n,r){var s=this,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=n.split(this.formatSeparator),u=o.reduce(function(l,c){var f=Hg(c),h=f.formatName,_=f.formatOptions;if(s.formats[h]){var y=l;try{var x=a&&a.formatParams&&a.formatParams[a.interpolationkey]||{},N=x.locale||x.lng||a.locale||a.lng||r;y=s.formats[h](l,N,Zt(Zt(Zt({},_),a),x))}catch(T){s.logger.warn(T)}return y}else s.logger.warn("there was no format function for ".concat(h));return l},i);return u}}]),t}();function Dc(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,n)}return i}function Pc(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Dc(Object(i),!0).forEach(function(n){Xt(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Dc(Object(i)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}function Qg(t){var e=Jg();return function(){var n=St(t),r;if(e){var s=St(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return ve(this,r)}}function Jg(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Zg(t,e){t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)}var tm=function(t){Me(i,t);var e=Qg(i);function i(n,r,s){var a,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return Tt(this,i),a=e.call(this),tr&&ce.call(kt(a)),a.backend=n,a.store=r,a.services=s,a.languageUtils=s.languageUtils,a.options=o,a.logger=Ut.create("backendConnector"),a.waitingReads=[],a.maxParallelReads=o.maxParallelReads||10,a.readingCalls=0,a.maxRetries=o.maxRetries>=0?o.maxRetries:5,a.retryTimeout=o.retryTimeout>=1?o.retryTimeout:350,a.state={},a.queue=[],a.backend&&a.backend.init&&a.backend.init(s,o.backend,o),a}return Nt(i,[{key:"queueLoad",value:function(r,s,a,o){var u=this,l={},c={},f={},h={};return r.forEach(function(_){var y=!0;s.forEach(function(x){var N="".concat(_,"|").concat(x);!a.reload&&u.store.hasResourceBundle(_,x)?u.state[N]=2:u.state[N]<0||(u.state[N]===1?c[N]===void 0&&(c[N]=!0):(u.state[N]=1,y=!1,c[N]===void 0&&(c[N]=!0),l[N]===void 0&&(l[N]=!0),h[x]===void 0&&(h[x]=!0)))}),y||(f[_]=!0)}),(Object.keys(l).length||Object.keys(c).length)&&this.queue.push({pending:c,pendingCount:Object.keys(c).length,loaded:{},errors:[],callback:o}),{toLoad:Object.keys(l),pending:Object.keys(c),toLoadLanguages:Object.keys(f),toLoadNamespaces:Object.keys(h)}}},{key:"loaded",value:function(r,s,a){var o=r.split("|"),u=o[0],l=o[1];s&&this.emit("failedLoading",u,l,s),a&&this.store.addResourceBundle(u,l,a),this.state[r]=s?-1:2;var c={};this.queue.forEach(function(f){Ag(f.loaded,[u],l),Zg(f,r),s&&f.errors.push(s),f.pendingCount===0&&!f.done&&(Object.keys(f.loaded).forEach(function(h){c[h]||(c[h]={});var _=f.loaded[h];_.length&&_.forEach(function(y){c[h][y]===void 0&&(c[h][y]=!0)})}),f.done=!0,f.errors.length?f.callback(f.errors):f.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(function(f){return!f.done})}},{key:"read",value:function(r,s,a){var o=this,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,c=arguments.length>5?arguments[5]:void 0;if(!r.length)return c(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:r,ns:s,fcName:a,tried:u,wait:l,callback:c});return}this.readingCalls++;var f=function(x,N){if(o.readingCalls--,o.waitingReads.length>0){var T=o.waitingReads.shift();o.read(T.lng,T.ns,T.fcName,T.tried,T.wait,T.callback)}if(x&&N&&u<o.maxRetries){setTimeout(function(){o.read.call(o,r,s,a,u+1,l*2,c)},l);return}c(x,N)},h=this.backend[a].bind(this.backend);if(h.length===2){try{var _=h(r,s);_&&typeof _.then=="function"?_.then(function(y){return f(null,y)}).catch(f):f(null,_)}catch(y){f(y)}return}return h(r,s,f)}},{key:"prepareLoading",value:function(r,s){var a=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),u&&u();typeof r=="string"&&(r=this.languageUtils.toResolveHierarchy(r)),typeof s=="string"&&(s=[s]);var l=this.queueLoad(r,s,o,u);if(!l.toLoad.length)return l.pending.length||u(),null;l.toLoad.forEach(function(c){a.loadOne(c)})}},{key:"load",value:function(r,s,a){this.prepareLoading(r,s,{},a)}},{key:"reload",value:function(r,s,a){this.prepareLoading(r,s,{reload:!0},a)}},{key:"loadOne",value:function(r){var s=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",o=r.split("|"),u=o[0],l=o[1];this.read(u,l,"read",void 0,void 0,function(c,f){c&&s.logger.warn("".concat(a,"loading namespace ").concat(l," for language ").concat(u," failed"),c),!c&&f&&s.logger.log("".concat(a,"loaded namespace ").concat(l," for language ").concat(u),f),s.loaded(r,c,f)})}},{key:"saveMissing",value:function(r,s,a,o,u){var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(s)){this.logger.warn('did not save key "'.concat(a,'" as the namespace "').concat(s,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(a==null||a==="")){if(this.backend&&this.backend.create){var f=Pc(Pc({},l),{},{isUpdate:u}),h=this.backend.create.bind(this.backend);if(h.length<6)try{var _;h.length===5?_=h(r,s,a,o,f):_=h(r,s,a,o),_&&typeof _.then=="function"?_.then(function(y){return c(null,y)}).catch(c):c(null,_)}catch(y){c(y)}else h(r,s,a,o,c,f)}!r||!r[0]||this.store.addResource(r[0],s,a,o)}}}]),i}(ce);function Lc(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var i={};if(ct(e[1])==="object"&&(i=e[1]),typeof e[1]=="string"&&(i.defaultValue=e[1]),typeof e[2]=="string"&&(i.tDescription=e[2]),ct(e[2])==="object"||ct(e[3])==="object"){var n=e[3]||e[2];Object.keys(n).forEach(function(r){i[r]=n[r]})}return i},interpolation:{escapeValue:!0,format:function(e,i,n,r){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function Ac(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function Ic(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,n)}return i}function zt(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Ic(Object(i),!0).forEach(function(n){Xt(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Ic(Object(i)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}function em(t){var e=im();return function(){var n=St(t),r;if(e){var s=St(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return ve(this,r)}}function im(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function nr(){}function nm(t){var e=Object.getOwnPropertyNames(Object.getPrototypeOf(t));e.forEach(function(i){typeof t[i]=="function"&&(t[i]=t[i].bind(t))})}var rr=function(t){Me(i,t);var e=em(i);function i(){var n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;if(Tt(this,i),n=e.call(this),tr&&ce.call(kt(n)),n.options=Ac(r),n.services={},n.logger=Ut,n.modules={external:[]},nm(kt(n)),s&&!n.isInitialized&&!r.isClone){if(!n.options.initImmediate)return n.init(r,s),ve(n,kt(n));setTimeout(function(){n.init(r,s)},0)}return n}return Nt(i,[{key:"init",value:function(){var r=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;typeof s=="function"&&(a=s,s={}),!s.defaultNS&&s.defaultNS!==!1&&s.ns&&(typeof s.ns=="string"?s.defaultNS=s.ns:s.ns.indexOf("translation")<0&&(s.defaultNS=s.ns[0]));var o=Lc();this.options=zt(zt(zt({},o),this.options),Ac(s)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=zt(zt({},o.interpolation),this.options.interpolation)),s.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=s.keySeparator),s.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=s.nsSeparator);function u(T){return T?typeof T=="function"?new T:T:null}if(!this.options.isClone){this.modules.logger?Ut.init(u(this.modules.logger),this.options):Ut.init(null,this.options);var l;this.modules.formatter?l=this.modules.formatter:typeof Intl!="undefined"&&(l=Yg);var c=new Oc(this.options);this.store=new Bg(this.options.resources,this.options);var f=this.services;f.logger=Ut,f.resourceStore=this.store,f.languageUtils=c,f.pluralResolver=new Kg(c,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),l&&(!this.options.interpolation.format||this.options.interpolation.format===o.interpolation.format)&&(f.formatter=u(l),f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new Gg(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new tm(u(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",function(T){for(var E=arguments.length,v=new Array(E>1?E-1:0),p=1;p<E;p++)v[p-1]=arguments[p];r.emit.apply(r,[T].concat(v))}),this.modules.languageDetector&&(f.languageDetector=u(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=u(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new Ec(this.services,this.options),this.translator.on("*",function(T){for(var E=arguments.length,v=new Array(E>1?E-1:0),p=1;p<E;p++)v[p-1]=arguments[p];r.emit.apply(r,[T].concat(v))}),this.modules.external.forEach(function(T){T.init&&T.init(r)})}if(this.format=this.options.interpolation.format,a||(a=nr),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var _=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];_.forEach(function(T){r[T]=function(){var E;return(E=r.store)[T].apply(E,arguments)}});var y=["addResource","addResources","addResourceBundle","removeResourceBundle"];y.forEach(function(T){r[T]=function(){var E;return(E=r.store)[T].apply(E,arguments),r}});var x=ni(),N=function(){var E=function(p,d){r.isInitialized&&!r.initializedStoreOnce&&r.logger.warn("init: i18next is already initialized. You should call init just once!"),r.isInitialized=!0,r.options.isClone||r.logger.log("initialized",r.options),r.emit("initialized",r.options),x.resolve(d),a(p,d)};if(r.languages&&r.options.compatibilityAPI!=="v1"&&!r.isInitialized)return E(null,r.t.bind(r));r.changeLanguage(r.options.lng,E)};return this.options.resources||!this.options.initImmediate?N():setTimeout(N,0),x}},{key:"loadResources",value:function(r){var s=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:nr,o=a,u=typeof r=="string"?r:this.language;if(typeof r=="function"&&(o=r),!this.options.resources||this.options.partialBundledLanguages){if(u&&u.toLowerCase()==="cimode")return o();var l=[],c=function(_){if(!!_){var y=s.services.languageUtils.toResolveHierarchy(_);y.forEach(function(x){l.indexOf(x)<0&&l.push(x)})}};if(u)c(u);else{var f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);f.forEach(function(h){return c(h)})}this.options.preload&&this.options.preload.forEach(function(h){return c(h)}),this.services.backendConnector.load(l,this.options.ns,function(h){!h&&!s.resolvedLanguage&&s.language&&s.setResolvedLanguage(s.language),o(h)})}else o(null)}},{key:"reloadResources",value:function(r,s,a){var o=ni();return r||(r=this.languages),s||(s=this.options.ns),a||(a=nr),this.services.backendConnector.reload(r,s,function(u){o.resolve(),a(u)}),o}},{key:"use",value:function(r){if(!r)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!r.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return r.type==="backend"&&(this.modules.backend=r),(r.type==="logger"||r.log&&r.warn&&r.error)&&(this.modules.logger=r),r.type==="languageDetector"&&(this.modules.languageDetector=r),r.type==="i18nFormat"&&(this.modules.i18nFormat=r),r.type==="postProcessor"&&bc.addPostProcessor(r),r.type==="formatter"&&(this.modules.formatter=r),r.type==="3rdParty"&&this.modules.external.push(r),this}},{key:"setResolvedLanguage",value:function(r){if(!(!r||!this.languages)&&!(["cimode","dev"].indexOf(r)>-1))for(var s=0;s<this.languages.length;s++){var a=this.languages[s];if(!(["cimode","dev"].indexOf(a)>-1)&&this.store.hasLanguageSomeTranslations(a)){this.resolvedLanguage=a;break}}}},{key:"changeLanguage",value:function(r,s){var a=this;this.isLanguageChangingTo=r;var o=ni();this.emit("languageChanging",r);var u=function(h){a.language=h,a.languages=a.services.languageUtils.toResolveHierarchy(h),a.resolvedLanguage=void 0,a.setResolvedLanguage(h)},l=function(h,_){_?(u(_),a.translator.changeLanguage(_),a.isLanguageChangingTo=void 0,a.emit("languageChanged",_),a.logger.log("languageChanged",_)):a.isLanguageChangingTo=void 0,o.resolve(function(){return a.t.apply(a,arguments)}),s&&s(h,function(){return a.t.apply(a,arguments)})},c=function(h){!r&&!h&&a.services.languageDetector&&(h=[]);var _=typeof h=="string"?h:a.services.languageUtils.getBestMatchFromCodes(h);_&&(a.language||u(_),a.translator.language||a.translator.changeLanguage(_),a.services.languageDetector&&a.services.languageDetector.cacheUserLanguage&&a.services.languageDetector.cacheUserLanguage(_)),a.loadResources(_,function(y){l(y,_)})};return!r&&this.services.languageDetector&&!this.services.languageDetector.async?c(this.services.languageDetector.detect()):!r&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(c):this.services.languageDetector.detect(c):c(r),o}},{key:"getFixedT",value:function(r,s,a){var o=this,u=function l(c,f){var h;if(ct(f)!=="object"){for(var _=arguments.length,y=new Array(_>2?_-2:0),x=2;x<_;x++)y[x-2]=arguments[x];h=o.options.overloadTranslationOptionHandler([c,f].concat(y))}else h=zt({},f);h.lng=h.lng||l.lng,h.lngs=h.lngs||l.lngs,h.ns=h.ns||l.ns,h.keyPrefix=h.keyPrefix||a||l.keyPrefix;var N=o.options.keySeparator||".",T;return h.keyPrefix&&Array.isArray(c)?T=c.map(function(E){return"".concat(h.keyPrefix).concat(N).concat(E)}):T=h.keyPrefix?"".concat(h.keyPrefix).concat(N).concat(c):c,o.t(T,h)};return typeof r=="string"?u.lng=r:u.lngs=r,u.ns=s,u.keyPrefix=a,u}},{key:"t",value:function(){var r;return this.translator&&(r=this.translator).translate.apply(r,arguments)}},{key:"exists",value:function(){var r;return this.translator&&(r=this.translator).exists.apply(r,arguments)}},{key:"setDefaultNamespace",value:function(r){this.options.defaultNS=r}},{key:"hasLoadedNamespace",value:function(r){var s=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var o=a.lng||this.resolvedLanguage||this.languages[0],u=this.options?this.options.fallbackLng:!1,l=this.languages[this.languages.length-1];if(o.toLowerCase()==="cimode")return!0;var c=function(_,y){var x=s.services.backendConnector.state["".concat(_,"|").concat(y)];return x===-1||x===2};if(a.precheck){var f=a.precheck(this,c);if(f!==void 0)return f}return!!(this.hasResourceBundle(o,r)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||c(o,r)&&(!u||c(l,r)))}},{key:"loadNamespaces",value:function(r,s){var a=this,o=ni();return this.options.ns?(typeof r=="string"&&(r=[r]),r.forEach(function(u){a.options.ns.indexOf(u)<0&&a.options.ns.push(u)}),this.loadResources(function(u){o.resolve(),s&&s(u)}),o):(s&&s(),Promise.resolve())}},{key:"loadLanguages",value:function(r,s){var a=ni();typeof r=="string"&&(r=[r]);var o=this.options.preload||[],u=r.filter(function(l){return o.indexOf(l)<0});return u.length?(this.options.preload=o.concat(u),this.loadResources(function(l){a.resolve(),s&&s(l)}),a):(s&&s(),Promise.resolve())}},{key:"dir",value:function(r){if(r||(r=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!r)return"rtl";var s=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],a=this.services&&this.services.languageUtils||new Oc(Lc());return s.indexOf(a.getLanguagePartFromCode(r))>-1||r.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var r=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:nr,o=zt(zt(zt({},this.options),s),{isClone:!0}),u=new i(o);(s.debug!==void 0||s.prefix!==void 0)&&(u.logger=u.logger.clone(s));var l=["store","services","language"];return l.forEach(function(c){u[c]=r[c]}),u.services=zt({},this.services),u.services.utils={hasLoadedNamespace:u.hasLoadedNamespace.bind(u)},u.translator=new Ec(u.services,u.options),u.translator.on("*",function(c){for(var f=arguments.length,h=new Array(f>1?f-1:0),_=1;_<f;_++)h[_-1]=arguments[_];u.emit.apply(u,[c].concat(h))}),u.init(o,a),u.translator.options=u.options,u.translator.backendConnector.services.utils={hasLoadedNamespace:u.hasLoadedNamespace.bind(u)},u}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),i}(ce);Xt(rr,"createInstance",function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return new rr(t,e)});var F=rr.createInstance();F.createInstance=rr.createInstance;var tv=F.createInstance,ev=F.dir,iv=F.init,nv=F.loadResources,rv=F.reloadResources,sv=F.use,av=F.changeLanguage,ov=F.getFixedT,uv=F.t,lv=F.exists,cv=F.setDefaultNamespace,fv=F.hasLoadedNamespace,hv=F.loadNamespaces,pv=F.loadLanguages;var Ls=class extends et.PluginSettingTab{constructor(e,i){super(e,i);this.plugin=i}display(){let{containerEl:e}=this;e.empty(),new et.Setting(e).setName(F.t("Tag_o")).setDesc(F.t("Tag")).addText(i=>i.setPlaceholder("book").setValue(this.plugin.settings.tag).onChange(async n=>{this.plugin.settings.tag=n,await this.plugin.saveSettings()})),this.containerEl.createEl("h2",{text:F.t("import")}),new et.Setting(e).setName(F.t("Library_o")).setDesc(F.t("Library")).addTextArea(i=>{i.setValue(this.plugin.settings.libraries.join(`
`)).onChange(async n=>{this.plugin.settings.libraries=n.split(`
`).map(r=>r.trim()),await this.plugin.saveSettings()})}),new et.Setting(e).setName(F.t("byDrag_o")).setDesc(F.t("byDrag")).addToggle(i=>{i.setValue(this.plugin.settings.byDrag).onChange(async n=>{this.plugin.settings.byDrag=n,await this.plugin.saveSettings()})}),this.containerEl.createEl("h2",{text:F.t("storage")}),new et.Setting(e).setName(F.t("Save path_o")).setDesc(F.t("Save path")).addText(i=>i.setValue(this.plugin.settings.savePath).onChange(async n=>{this.plugin.settings.savePath=n,await this.plugin.saveSettings()})),new et.Setting(e).setName(F.t("Assets path_o")).setDesc(F.t("Assets path")).addText(i=>i.setValue(this.plugin.settings.assetsPath).onChange(async n=>{this.plugin.settings.assetsPath=n,await this.plugin.saveSettings()})),this.containerEl.createEl("h2",{text:F.t("display")}),new et.Setting(e).setName(F.t("Hierarchy depth_o")).setDesc(F.t("Hierarchy depth")).addSlider(i=>{i.setLimits(0,5,1).setDynamicTooltip().setValue(this.plugin.settings.granularity).onChange(async n=>{this.plugin.settings.granularity=n,await this.plugin.saveSettings()})}),new et.Setting(e).setName(F.t("Moc fileName_o")).setDesc(F.t("Moc fileName")).addText(i=>i.setValue(this.plugin.settings.mocName).onChange(async n=>{this.plugin.settings.mocName=n,await this.plugin.saveSettings()})),new et.Setting(e).setName(F.t("notePropertysTemplate_o")).setDesc(F.t("notePropertysTemplate")).addTextArea(i=>{i.setValue(this.plugin.settings.notePropertysTemplate).onChange(async n=>{this.plugin.settings.notePropertysTemplate=n,await this.plugin.saveSettings()})}),new et.Setting(e).setName(F.t("oneNote_o")).setDesc(F.t("oneNote")).addToggle(i=>{i.setValue(this.plugin.settings.oneNote).onChange(async n=>{this.plugin.settings.oneNote=n,await this.plugin.saveSettings()})}),new et.Setting(e).setName(F.t("oneFolder_o")).setDesc(F.t("oneFolder")).addToggle(i=>{i.setValue(this.plugin.settings.oneFolder).onChange(async n=>{this.plugin.settings.oneFolder=n,await this.plugin.saveSettings()})}),new et.Setting(e).setName(F.t("Propertys template_o")).setDesc(F.t("Propertys template")).addTextArea(i=>{i.setValue(this.plugin.settings.mocPropertysTemplate).onChange(async n=>{this.plugin.settings.mocPropertysTemplate=n,await this.plugin.saveSettings()})}),this.containerEl.createEl("h2",{text:F.t("content")}),new et.Setting(e).setName(F.t("imageFormat_o")).setDesc(F.t("imageFormat")).addDropdown(i=>i.addOptions({"![](imagePath)":"![](imagePath)","![[imagePath]]":"![[imagePath]]","![[imagePath|caption]]":"![[imagePath|caption]]"}).setValue(this.plugin.settings.imageFormat).onChange(async n=>{this.plugin.settings.imageFormat=n,await this.plugin.saveSettings()})),new et.Setting(e).setName(F.t("reformatting_o")).setDesc(F.t("reformatting")).addToggle(i=>{i.setValue(this.plugin.settings.reformatting).onChange(async n=>{this.plugin.settings.reformatting=n,await this.plugin.saveSettings()})}),this.containerEl.createEl("h2",{text:F.t("helper")}),new et.Setting(e).setName(F.t("Auto open right panel_o")).setDesc(F.t("Auto open right panel")).addToggle(i=>{i.setValue(this.plugin.settings.autoOpenRightPanel).onChange(async n=>{this.plugin.settings.autoOpenRightPanel=n,await this.plugin.saveSettings()})}),this.containerEl.createEl("h2",{text:F.t("developing")}),new et.Setting(e).setName(F.t("Remove duplicate folders_o")).setDesc(F.t("Remove duplicate folders")).addToggle(i=>{i.setValue(this.plugin.settings.removeDuplicateFolders).onChange(async n=>{this.plugin.settings.removeDuplicateFolders=n,await this.plugin.saveSettings()})}),new et.Setting(e).setName(F.t("more log_o")).setDesc(F.t("more log")).addToggle(i=>{i.setValue(this.plugin.settings.moreLog).onChange(async n=>{this.plugin.settings.moreLog=n,await this.plugin.saveSettings()})})}};var $t=yt(In());var mp=yt(Rf()),it=yt(require("path"));var ia=yt(require("obsidian"));var ta={};yr(ta,{"Assets path":()=>Jf,"Assets path_o":()=>Qf,"Auto open right panel":()=>vh,"Auto open right panel_o":()=>yh,"Hierarchy depth":()=>eh,"Hierarchy depth_o":()=>th,Library:()=>Vf,Library_o:()=>Wf,"Moc fileName":()=>nh,"Moc fileName_o":()=>ih,"Propertys template":()=>fh,"Propertys template_o":()=>ch,"Remove duplicate folders":()=>xh,"Remove duplicate folders_o":()=>wh,"Save path":()=>Yf,"Save path_o":()=>Hf,Tag:()=>Uf,Tag_o:()=>Xf,byDrag:()=>Kf,byDrag_o:()=>$f,content:()=>hh,default:()=>oy,developing:()=>bh,display:()=>Zf,helper:()=>mh,imageFormat:()=>dh,imageFormat_o:()=>ph,import:()=>zf,"import-epub":()=>Mf,"more log":()=>Oh,"more log_o":()=>Eh,"no book in libraries":()=>qf,"no libraries":()=>jf,notePropertysTemplate:()=>sh,notePropertysTemplate_o:()=>rh,oneFolder:()=>lh,oneFolder_o:()=>uh,oneNote:()=>oh,oneNote_o:()=>ah,reformatting:()=>gh,reformatting_o:()=>_h,storage:()=>Gf,"sync-libraries":()=>Ff,"sync-libraries_r":()=>Bf});var Mf="Import epub to your vault",Ff="Import all epub from libraries to your vault",jf="You have not added any library to the settings page",qf="There is no epub in the libraries",Bf="Successfully imported ${n} books",Xf="Tag",Uf="The tag is used to identify book objects",zf="Import",Wf="Library",Vf="The plugin will search for .epub files from these paths. Please enter an absolute path, not a relative path in obsidan vault.",$f="Import by drag",Kf="Import .epub file by drag it to obsidian vault. The .epub  file will be deleted after importing.",Gf="Storage",Hf="Save path",Yf="The plugin will save the imported book to this path.",Qf="Assets path",Jf="The plugin will save the assets of the imported book to this path.",Zf="Display/Indexing",th="Hierarchy depth",eh="Determine the Hierarchy depth of generated markdown notes.",ih="Moc fileName",nh="FileName for moc file.",rh="NotePropertysTemplate",sh="A template with properties for each page.",ah="OneNote",oh="Convert the entire book into a single markdown file.",uh="oneFolder",lh="Place oneNote in a folder with the same name.",ch="Propertys template",fh="The plugin will add these propertys to the imported book.",hh="Content/Format",ph="imageFormat",dh="The type of imageFormat. caption only for chinese now.",_h="reformatting",gh="Reformat the content. This may destroy the original formatting of the book.",mh="Helper",yh="Auto open right panel",vh="The plugin will open the book note on right panel when you open a book.",bh="Developing",wh="Remove duplicate folders",xh="Remove duplicate folders(risky, for users who understand the usefulness of this option, or developers).",Eh="More log",Oh="Output more logs to the console for easier debugging.",oy={"import-epub":Mf,"sync-libraries":Ff,"no libraries":jf,"no book in libraries":qf,"sync-libraries_r":Bf,Tag_o:Xf,Tag:Uf,import:zf,Library_o:Wf,Library:Vf,byDrag_o:$f,byDrag:Kf,storage:Gf,"Save path_o":Hf,"Save path":Yf,"Assets path_o":Qf,"Assets path":Jf,display:Zf,"Hierarchy depth_o":th,"Hierarchy depth":eh,"Moc fileName_o":ih,"Moc fileName":nh,notePropertysTemplate_o:rh,notePropertysTemplate:sh,oneNote_o:ah,oneNote:oh,oneFolder_o:uh,oneFolder:lh,"Propertys template_o":ch,"Propertys template":fh,content:hh,imageFormat_o:ph,imageFormat:dh,reformatting_o:_h,reformatting:gh,helper:mh,"Auto open right panel_o":yh,"Auto open right panel":vh,developing:bh,"Remove duplicate folders_o":wh,"Remove duplicate folders":xh,"more log_o":Eh,"more log":Oh};var ea={};yr(ea,{"Assets path":()=>Xh,"Assets path_o":()=>Bh,"Auto open right panel":()=>up,"Auto open right panel_o":()=>op,"Hierarchy depth":()=>Wh,"Hierarchy depth_o":()=>zh,Library:()=>kh,Library_o:()=>Ih,"Moc fileName":()=>$h,"Moc fileName_o":()=>Vh,"Propertys template":()=>tp,"Propertys template_o":()=>Zh,"Remove duplicate folders":()=>fp,"Remove duplicate folders_o":()=>cp,"Save path":()=>qh,"Save path_o":()=>jh,Tag:()=>Lh,Tag_o:()=>Ph,byDrag:()=>Mh,byDrag_o:()=>Rh,content:()=>ep,default:()=>uy,developing:()=>lp,display:()=>Uh,helper:()=>ap,imageFormat:()=>np,imageFormat_o:()=>ip,import:()=>Ah,"import-epub":()=>Th,"more log":()=>pp,"more log_o":()=>hp,"no book in libraries":()=>Ch,"no libraries":()=>Sh,notePropertysTemplate:()=>Gh,notePropertysTemplate_o:()=>Kh,oneFolder:()=>Jh,oneFolder_o:()=>Qh,oneNote:()=>Yh,oneNote_o:()=>Hh,reformatting:()=>sp,reformatting_o:()=>rp,storage:()=>Fh,"sync-libraries":()=>Nh,"sync-libraries_r":()=>Dh});var Th="\u5BFC\u5165epub\u5230\u5E93\u4E2D",Nh="\u5C06\u6240\u6709\u4E66\u5E93\u4E2D\u7684epub\u5BFC\u5165\u5230\u5E93\u4E2D",Sh="\u4F60\u6CA1\u6709\u5728\u8BBE\u7F6E\u9875\u4E2D\u6DFB\u52A0\u4EFB\u4F55\u4E66\u5E93",Ch="\u4E66\u5E93\u91CC\u6CA1\u6709\u4EFB\u4F55epub",Dh="\u6210\u529F\u5BFC\u5165\u4E86 ${n} \u672C\u4E66",Ph="\u6807\u7B7E",Lh="\u8FD9\u4E2A\u6807\u7B7E\u7528\u4E8E\u8BC6\u522B\u4E66\u7C4D\u5BF9\u8C61",Ah="\u5BFC\u5165",Ih="\u4E66\u5E93",kh="\u8BE5\u63D2\u4EF6\u5C06\u4ECE\u8FD9\u4E9B\u8DEF\u5F84\u4E2D\u641C\u7D22 .epub \u6587\u4EF6\u3002 \u8BF7\u8F93\u5165\u7EDD\u5BF9\u8DEF\u5F84\uFF0C\u800C\u4E0D\u662Fobsidian vault\u4E2D\u7684\u76F8\u5BF9\u8DEF\u5F84\u3002",Rh="\u901A\u8FC7\u62D6\u62FD\u5BFC\u5165",Mh="\u5C06.epub\u6587\u4EF6\u62D6\u62FD\u5230obsidian\u5E93\u4E2D\u6765\u5BFC\u5165\u5B83\u3002\u5BFC\u5165\u540E\u5C06\u5220\u9664\u8BE5.epub\u6587\u4EF6\u3002",Fh="\u5B58\u50A8",jh="\u4FDD\u5B58\u8DEF\u5F84",qh="\u5BFC\u5165\u7684epub\u5C06\u4F1A\u88AB\u4FDD\u5B58\u5230\u8BE5\u8DEF\u5F84\u3002",Bh="\u9644\u4EF6\u8DEF\u5F84",Xh="\u9644\u4EF6\u5C06\u4F1A\u88AB\u4FDD\u5B58\u5230\u8BE5\u8DEF\u5F84\u3002",Uh="\u663E\u793A/\u7D22\u5F15",zh="\u5C42\u7EA7\u6DF1\u5EA6",Wh="\u51B3\u5B9A\u751F\u6210\u7684 Markdown \u7B14\u8BB0\u7684\u5C42\u7EA7\u7ED3\u6784\u6DF1\u5EA6\u3002",Vh="Moc \u6587\u4EF6\u540D",$h="Moc \u6587\u4EF6\u7684\u6587\u4EF6\u540D\u3002",Kh="\u9875\u9762\u5C5E\u6027\u6A21\u677F",Gh="\u6BCF\u4E00\u4E2A\u9875\u9762\u7684\u5C5E\u6027\u7684\u6A21\u677F\u3002",Hh="\u5355\u6587\u4EF6",Yh="\u5C06\u6574\u672C\u4E66\u8F6C\u6362\u4E3A\u5355\u4E2A markdown \u6587\u4EF6\u3002",Qh="\u5355\u6587\u4EF6\u5939",Jh="\u5C06\u5355\u6587\u4EF6\u653E\u5728\u540C\u540D\u6587\u4EF6\u5939\u4E2D\u3002",Zh="\u5C5E\u6027\u6A21\u677F",tp="\u5C5E\u6027\u5C06\u4F1A\u88AB\u6DFB\u52A0\u5230\u751F\u6210\u7684 MOC \u6587\u4EF6\u4E2D\u3002",ep="\u5185\u5BB9/\u683C\u5F0F",ip="\u56FE\u7247\u683C\u5F0F",np="\u56FE\u7247\u7684\u683C\u5F0F\uFF0C\u6807\u6CE8\u73B0\u5728\u4EC5\u652F\u6301\u4E2D\u6587\u3002",rp="\u518D\u683C\u5F0F\u5316",sp="\u5BF9\u5185\u5BB9\u91CD\u65B0\u6392\u7248. \u8FD9\u53EF\u80FD\u4F1A\u7834\u574F\u56FE\u4E66\u539F\u672C\u7684\u6392\u7248\u3002",ap="\u8F85\u52A9",op="\u81EA\u52A8\u6253\u5F00\u53F3\u680F",up="\u4E8E\u4E00\u672C\u4E66\u7C4D\u5185\u6D4F\u89C8\u65F6\uFF0C\u5728\u53F3\u680F\u6253\u5F00MOC\u6587\u4EF6\uFF0C\u4EE5\u4F9B\u5BFC\u822A\u3002",lp="\u5F00\u53D1",cp="\u5220\u9664\u91CD\u590D\u6587\u4EF6\u5939",fp="\u5220\u9664\u91CD\u590D\u7684\u6587\u4EF6\u5939\uFF08\u6709\u98CE\u9669\uFF0C\u4EC5\u9002\u7528\u4E8E\u4E86\u89E3\u6B64\u9009\u9879\u6709\u7528\u7684\u7528\u6237\u6216\u5F00\u53D1\u4EBA\u5458\uFF09\u3002",hp="\u66F4\u591A\u65E5\u5FD7",pp="\u5728\u63A7\u5236\u53F0\u8F93\u51FA\u66F4\u591A\u65E5\u5FD7\uFF0C\u4EE5\u4FBF\u4E8E\u8C03\u8BD5\u3002",uy={"import-epub":Th,"sync-libraries":Nh,"no libraries":Sh,"no book in libraries":Ch,"sync-libraries_r":Dh,Tag_o:Ph,Tag:Lh,import:Ah,Library_o:Ih,Library:kh,byDrag_o:Rh,byDrag:Mh,storage:Fh,"Save path_o":jh,"Save path":qh,"Assets path_o":Bh,"Assets path":Xh,display:Uh,"Hierarchy depth_o":zh,"Hierarchy depth":Wh,"Moc fileName_o":Vh,"Moc fileName":$h,notePropertysTemplate_o:Kh,notePropertysTemplate:Gh,oneNote_o:Hh,oneNote:Yh,oneFolder_o:Qh,oneFolder:Jh,"Propertys template_o":Zh,"Propertys template":tp,content:ep,imageFormat_o:ip,imageFormat:np,reformatting_o:rp,reformatting:sp,helper:ap,"Auto open right panel_o":op,"Auto open right panel":up,developing:lp,"Remove duplicate folders_o":cp,"Remove duplicate folders":fp,"more log_o":hp,"more log":pp};var na={en:{translation:ta},zh_cn:{translation:ea}},dp=Object.keys(na).find(t=>t==ia.moment.locale().replace("-","_"))?ia.moment.locale().replace("-","_"):"en";var _p=yt(require("obsidian"));function gp(t,e){let i=t.vault.getMarkdownFiles(),n=[];return i.forEach(r=>{let s=t.metadataCache.getFileCache(r)?.frontmatter?.tags;!s||s.includes(e)&&n.push(r)}),n}function _r(t){return`---
`+(0,_p.stringifyYaml)(t)+`
---`}function _i(t,e){return Object.keys(e).reduce((i,n)=>i.replaceAll(`{{${n}}}`,e[n]),t)}function gr(t){let e=/[<>:"\\/\\|?*]+/g;return t.replace(e,"_")}var ra=class extends Ot.Plugin{constructor(){super(...arguments);this.detachLeaf=!1}async onload(){F.init({lng:dp,fallbackLng:"en",resources:na,returnNull:!1}),this.vaultPath=this.app.vault.adapter.basePath,await this.loadSettings(),this.addSettingTab(new Ls(this.app,this)),this.addCommand({id:"import-epub",name:F.t("import-epub"),callback:()=>{new xs(this.app,this.settings.libraries,async e=>{await this.importEpub(e)}).open()}}),this.addCommand({id:"sync-libraries",name:F.t("sync-libraries"),callback:async()=>{let{libraries:e}=this.settings;if(!e.length){new Ot.Notice(F.t("no libraries"));return}let i=e.map(r=>$t.default.find(r,{matching:"**/**.epub"})).flat(),n=i.length;for(let r of i)await this.importEpub($t.default.path(r));if(n===0)new Ot.Notice(F.t("no book in libraries")),console.log(F.t("no book in libraries"));else{let r=F.t("translation:sync-libraries_r").replace("${n}",n.toString());new Ot.Notice(r),console.log(r)}}}),this.registerDomEvent(document,"drop",async e=>{if(this.settings.byDrag&&e.toElement.className=="nav-files-container node-insert-event"){let i=e.dataTransfer.files;i.length==1&&it.extname(i[0].name)==".epub"&&(await this.importEpub(i[0].path),$t.default.find(this.vaultPath,{matching:"**/**.epub"}).forEach($t.default.remove))}}),this.registerEvent(this.app.workspace.on("file-open",async e=>{if(this.settings.leafID&&!this.detachLeaf){this.detachLeaf=!0,this.activeLeaf=this.app.workspace.getLeafById(this.settings.leafID);return}if(!this.settings.autoOpenRightPanel||!this.app.workspace.getActiveFile())return;let i=this.getMocPath(e);if(!i&&e.basename!="highlights")return this.activeBook="",this.activeLeaf.detach();let n=this.app.vault.getAbstractFileByPath(i).parent.name;this.activeBook!=n&&(this.activeLeaf&&this.activeLeaf.detach(),this.activeBook=n,this.activeLeaf=this.app.workspace.getRightLeaf(!1),this.settings.leafID=this.activeLeaf.id,await this.saveSettings(),this.activeLeaf.setViewState({type:"markdown",state:{file:i,mode:"preview",backlinks:!1,source:!1}}),this.activeLeaf.setPinned(!0),this.app.workspace.revealLeaf(this.activeLeaf))}))}async loadSettings(){this.settings=Object.assign({},hc,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}async importEpub(e){let i=gr(it.basename(e,it.extname(e)).trim()),{assetsPath:n,mocPropertysTemplate:r,savePath:s,tag:a,granularity:o}=this.settings,u=it.posix.join(s,i);if($t.default.exists(it.posix.join(this.vaultPath,u)))if(this.settings.removeDuplicateFolders)$t.default.remove(it.posix.join(this.vaultPath,u));else{new Ot.Notice("Duplicate folder already exists.");return}if(this.assetsPath=_i(n,{bookName:i,savePath:s}),this.parser=new bs(e,this.settings.moreLog),await this.parser.init(),this.settings.moreLog&&console.log("toc is: ",this.parser.toc),this.properties=(0,Ot.parseYaml)(_i(r,this.parser.meta)),this.properties.tags=(this.properties.tags??[]).concat([a]),this.BookNote="",await this.app.vault.createFolder(u),this.copyImages(),this.settings.oneNote){[...this.parser.chapters].filter(f=>f.level!=0).sort((f,h)=>h.level-f.level).forEach(f=>f.parent.sections.push(...f.sections));let l="";for(let f of this.parser.chapters.filter(h=>h.level==0))l+=f.sections.map(h=>this.htmlToMD(h.html)).join(`

`);let c=u;return this.settings.oneFolder&&(c=it.posix.join(u,i)),await this.app.vault.create(c+".md",_r(this.properties)+`
`+l),0}[...this.parser.chapters].filter(l=>l.level>o).sort((l,c)=>c.level-l.level).forEach(l=>l.parent.sections.push(...l.sections));for(let l of this.parser.chapters.filter(c=>c.level<=o)){l.name.startsWith("... ")&&(l.sections[0].name=l.name.replace("... ",""));let c=[l.name],f=y=>{y.parent&&(c.unshift(y.parent.name),f(y.parent))};f(l),l.level<o&&l.subItems.length!=0&&c.push(gr(l.name));let h=it.posix.join(u,...c.map(gr));await this.app.vault.createFolder(it.dirname(h)).catch(()=>{});let _="";if(this.settings.notePropertysTemplate){let y=_i(this.settings.notePropertysTemplate,{created_time:Date.now().toString()}),x=(0,Ot.parseYaml)(y);_+=_r(x)+`
`}_+=l.sections.map(y=>this.htmlToMD(y.html)).join(`

`);try{await this.app.vault.create(h+".md",_)}catch(y){console.warn(`Failed to create file at ${h}.md: ${y}`),console.warn("If such errors are few in this parsing process, it could be because the epub contains some repeated or wrong navPoints. If this is the case, it will not cause any damage to the content of the book.")}this.BookNote+=`${"	".repeat(l.level)}- [[${h}|${l.name}]]
`}this.BookNote=_r(this.properties)+`
`+this.BookNote,await this.app.vault.create(it.posix.join(u,_i(this.settings.mocName,{bookName:i}))+".md",this.BookNote),$t.default.remove(this.parser.tmpPath),console.log(`Successfully imported ${i}`),new Ot.Notice(`Successfully imported ${i}`)}copyImages(){let e=it.posix.join(this.vaultPath,this.assetsPath);$t.default.find(this.parser.tmpPath,{matching:["*.jpg","*.jpeg","*.png"]}).forEach(i=>$t.default.copy(i,it.posix.join(e,it.basename(i)),{overwrite:!0})),this.parser.coverPath&&(this.properties.cover=it.posix.join(this.assetsPath,it.basename(this.parser.coverPath)))}htmlToMD(e){this.settings.reformatting&&(e=mp.default.html(e,{indent_size:0}));let n=new DOMParser().parseFromString(e,"text/html"),r=n.querySelectorAll("table");function s(o){let u=o.childElementCount;if(u==0)return!0;{let l=0;for(let c=0;c<u;c++)l+=o.children[c].childElementCount;return l==0}}r.forEach(o=>{s(o)&&o.remove()});let a=(0,Ot.htmlToMarkdown)(n?e:"");return e&&!a&&(a=e.replace(/<[^>]+>/g,"")),ti.parse(a,this.assetsPath,this.settings.imageFormat)}getMocPath(e){let i=gp(this.app,this.settings.tag);return i.includes(e)?e.path:i.find(n=>this.app.metadataCache.getCache(n.path).links.some(r=>r.link+".md"==e.path))?.path}};0&&(module.exports={});
/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */
